{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{\"+BzL\":function(t,e,n){\"use strict\";var i=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,o=n(\"16wW\"),r=n(\"9aYe\"),a=n(\"2Lu3\"),s=i?\"uint8array\":\"array\";function l(t,e){a.call(this,\"FlateWorker/\"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}e.magic=\"\\b\\0\",r.inherits(l,a),l.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(r.transformTo(s,t.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},e.compressWorker=function(t){return new l(\"Deflate\",t)},e.uncompressWorker=function(){return new l(\"Inflate\",{})}},\"+YJ1\":function(t,e,n){var i=n(\"V4Ck\");t.exports=function(t){if(!i(t))throw TypeError(t+\" is not an object!\");return t}},\"+jW5\":function(t,e,n){\"use strict\";function i(t,e){if(!(this instanceof i))return new i(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||o,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function o(t,e){return t<e?-1:t>e?1:0}t.exports=i,t.exports.default=i,i.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,i=e[t];t>0;){var o=t-1>>1,r=e[o];if(n(i,r)>=0)break;e[t]=r,t=o}e[t]=i},_down:function(t){for(var e=this.data,n=this.compare,i=this.length>>1,o=e[t];t<i;){var r=1+(t<<1),a=r+1,s=e[r];if(a<this.length&&n(e[a],s)<0&&(r=a,s=e[a]),n(s,o)>=0)break;e[t]=s,t=r}e[t]=o}}},\"/8qo\":function(t,e,n){\"use strict\";var i=n(\"7/DV\"),o=n(\"DLc/\");e.generateWorker=function(t,e,n){var r=new o(e.streamFiles,n,e.platform,e.encodeFileName),a=0;try{t.forEach(function(t,n){a++;var o=function(t,o){var r=n.options.compression||e.compression,a=i[r];if(!a)throw new Error(r+\" is not a valid compression method !\");return a}(),s=n.dir,l=n.date;n._compressWorker(o,n.options.compressionOptions||e.compressionOptions||{}).withStreamInfo(\"file\",{name:t,dir:s,date:l,comment:n.comment||\"\",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(r)}),r.entriesCount=a}catch(s){r.error(s)}return r}},\"/Xau\":function(t,e,n){var i=n(\"V4Ck\"),o=n(\"FpKF\").document,r=i(o)&&i(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},\"/mAQ\":function(t,e){t.exports={C:254,L:1,D:8,N:18,M:18,F:18,B:8}},\"16wW\":function(t,e,n){\"use strict\";var i={};(0,n(\"vn/o\").assign)(i,n(\"QSbz\"),n(\"cX6o\"),n(\"LOvY\")),t.exports=i},\"1I5h\":function(t,e,n){var i=n(\"/mAQ\"),o={string:\"C\",number:\"N\",boolean:\"L\",null:\"C\"};function r(t){var e={},n=[];for(var r in t)e[r]=null===t[r]?\"null\":typeof t[r];for(var a in e){var s=o[e[a]];s&&n.push({name:a,type:s,size:i[s]})}return n}t.exports.multi=function(t){var e={};return t.forEach(function(t){!function(t,e){for(var n in e)(void 0===t[n]||null!=e[n])&&(t[n]=e[n])}(e,t)}),r(e)},t.exports.bytesPer=function(t){return t.reduce(function(t,e){return t+e.size},1)},t.exports.obj=r},\"1op0\":function(t,e,n){var i,o;o=function(t){var e;(e=t).ajax=function(t){var n=e.merge(!0,{url:!1,type:\"GET\",dataType:\"json\",success:!1,error:!1,data:!1,headers:{}},t);t={json:\"application/json\",xml:\"application/xml\",text:\"text/plain\",octet:\"application/octet-stream\"};var i=new XMLHttpRequest;if(!n.url)return!1;i.open(n.type.toUpperCase(),n.url,!0),i.setRequestHeader(\"Content-Type\",t[n.dataType]||t.text),e.objectEach(n.headers,function(t,e){i.setRequestHeader(e,t)}),i.onreadystatechange=function(){var t;if(4===i.readyState){if(200===i.status){if(t=i.responseText,\"json\"===n.dataType)try{t=JSON.parse(t)}catch(e){return void(n.error&&n.error(i,e))}return n.success&&n.success(t)}n.error&&n.error(i,i.responseText)}};try{n.data=JSON.stringify(n.data)}catch(o){}i.send(n.data||!0)},function(t){var e=t.defined,n=t.each,i=t.pick,o=t.win,r=o.document,a=t.seriesTypes,s=void 0!==r.createElement(\"a\").download;t.setOptions({exporting:{csv:{columnHeaderFormatter:null,dateFormat:\"%Y-%m-%d %H:%M:%S\",decimalPoint:null,itemDelimiter:null,lineDelimiter:\"\\n\"},showTable:!1,useMultiLevelHeaders:!0,useRowspanHeaders:!0},lang:{downloadCSV:\"Download CSV\",downloadXLS:\"Download XLS\",openInCloud:\"Open in Highcharts Cloud\",viewData:\"View data table\"}}),t.addEvent(t.Chart,\"render\",function(){this.options&&this.options.exporting&&this.options.exporting.showTable&&this.viewData()}),t.Chart.prototype.setUpKeyToAxis=function(){a.arearange&&(a.arearange.prototype.keyToAxis={low:\"y\",high:\"y\"})},t.Chart.prototype.getDataRows=function(o){var r,a,s,l,u,h,c,d=this.time,p=this.options.exporting&&this.options.exporting.csv||{},f=this.xAxis,g={},m=[],v=[],y=[],_=function(e,n,i){if(p.columnHeaderFormatter){var r=p.columnHeaderFormatter(e,n,i);if(!1!==r)return r}return e?e instanceof t.Axis?e.options.title&&e.options.title.text||(e.isDatetimeAxis?\"DateTime\":\"Category\"):o?{columnTitle:1<i?n:e.name,topLevelColumnTitle:e.name}:e.name+(1<i?\" (\"+n+\")\":\"\"):\"Category\"},b=[];for(a in l=0,this.setUpKeyToAxis(),n(this.series,function(e){var r,a,u=e.options.keys||e.pointArrayMap||[\"y\"],h=u.length,c=!e.requireSorting&&{},m={},x={},w=t.inArray(e.xAxis,f);if(n(u,function(t){var n=(e.keyToAxis&&e.keyToAxis[t]||t)+\"Axis\";m[t]=e[n]&&e[n].categories||[],x[t]=e[n]&&e[n].isDatetimeAxis}),!1!==e.options.includeInCSVExport&&!e.options.isInternal&&!1!==e.visible){for(t.find(b,function(t){return t[0]===w})||b.push([w,l]),a=0;a<h;)s=_(e,u[a],u.length),y.push(s.columnTitle||s),o&&v.push(s.topLevelColumnTitle||s),a++;r={chart:e.chart,autoIncrement:e.autoIncrement,options:e.options,pointArrayMap:e.pointArrayMap},n(e.options.data,function(t,n){var o,s;for(e.pointClass.prototype.applyOptions.apply(s={series:r},[t]),t=s.x,o=e.data[n]&&e.data[n].name,c&&(c[t]&&(t+=\"|\"+n),c[t]=!0),a=0,e.xAxis&&\"name\"!==e.exportKey||(t=o),g[t]||(g[t]=[],g[t].xValues=[]),g[t].x=s.x,g[t].name=o,g[t].xValues[w]=s.x;a<h;)g[t][l+a]=i(m[n=u[a]][o=s[n]],x[n]?d.dateFormat(p.dateFormat,o):null,o),a++}),l+=a}}),g)g.hasOwnProperty(a)&&m.push(g[a]);for(a=o?[v,y]:[y],l=b.length;l--;)c=b[l][1],r=f[h=b[l][0]],m.sort(function(t,e){return t.xValues[h]-e.xValues[h]}),u=_(r),a[0].splice(c,0,u),o&&a[1]&&a[1].splice(c,0,u),n(m,function(t){var n=t.name;r&&!e(n)&&(r.isDatetimeAxis?(t.x instanceof Date&&(t.x=t.x.getTime()),n=d.dateFormat(p.dateFormat,t.x)):n=r.categories?i(r.names[t.x],r.categories[t.x],t.x):t.x),t.splice(c,0,n)});return a=a.concat(m),t.fireEvent(this,\"exportData\",{dataRows:a}),a},t.Chart.prototype.getCSV=function(t){var e=\"\",o=this.getDataRows(),r=this.options.exporting.csv,a=i(r.decimalPoint,\",\"!==r.itemDelimiter&&t?1.1.toLocaleString()[1]:\".\"),s=i(r.itemDelimiter,\",\"===a?\";\":\",\"),l=r.lineDelimiter;return n(o,function(t,n){for(var i,r=t.length;r--;)\"string\"==typeof(i=t[r])&&(i='\"'+i+'\"'),\"number\"==typeof i&&\".\"!==a&&(i=i.toString().replace(\".\",a)),t[r]=i;e+=t.join(s),n<o.length-1&&(e+=l)}),e},t.Chart.prototype.getTable=function(t){var e=\"<table>\",o=this.options,r=t?1.1.toLocaleString()[1]:\".\",a=i(o.exporting.useMultiLevelHeaders,!0);t=this.getDataRows(a);var s=0,l=a?t.shift():null,u=t.shift(),h=function(t,e,n,o){var a=i(o,\"\");return e=\"text\"+(e?\" \"+e:\"\"),\"number\"==typeof a?(a=a.toString(),\",\"===r&&(a=a.replace(\".\",r)),e=\"number\"):o||(e=\"empty\"),\"<\"+t+(n?\" \"+n:\"\")+' class=\"'+e+'\">'+a+\"</\"+t+\">\"};!1!==o.exporting.tableCaption&&(e+='<caption class=\"highcharts-table-caption\">'+i(o.exporting.tableCaption,o.title.text?o.title.text.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#x27;\").replace(/\\//g,\"&#x2F;\"):\"Chart\")+\"</caption>\");for(var c=0,d=t.length;c<d;++c)t[c].length>s&&(s=t[c].length);return e+=function(t,e,n){var i=\"<thead>\",r=0;n=n||e&&e.length;var s,l,u=0;if(l=a&&t&&e){t:if(l=t.length,e.length===l){for(;l--;)if(t[l]!==e[l]){l=!1;break t}l=!0}else l=!1;l=!l}if(l){for(i+=\"<tr>\";r<n;++r)(l=t[r])===(s=t[r+1])?++u:u?(i+=h(\"th\",\"highcharts-table-topheading\",'scope=\"col\" colspan=\"'+(u+1)+'\"',l),u=0):(l===e[r]?o.exporting.useRowspanHeaders?(s=2,delete e[r]):(s=1,e[r]=\"\"):s=1,i+=h(\"th\",\"highcharts-table-topheading\",'scope=\"col\"'+(1<s?' valign=\"top\" rowspan=\"'+s+'\"':\"\"),l));i+=\"</tr>\"}if(e){for(i+=\"<tr>\",r=0,n=e.length;r<n;++r)void 0!==e[r]&&(i+=h(\"th\",null,'scope=\"col\"',e[r]));i+=\"</tr>\"}return i+\"</thead>\"}(l,u,Math.max(s,u.length)),e+=\"<tbody>\",n(t,function(t){e+=\"<tr>\";for(var n=0;n<s;n++)e+=h(n?\"td\":\"th\",null,n?\"\":'scope=\"row\"',t[n]);e+=\"</tr>\"}),e+=\"</tbody></table>\"},t.Chart.prototype.fileDownload=function(e,n,i){var a;a=this.options.exporting.filename?this.options.exporting.filename:this.title&&this.title.textStr?this.title.textStr.replace(/ /g,\"-\").toLowerCase():\"chart\",o.Blob&&o.navigator.msSaveOrOpenBlob?(e=new o.Blob([\"\\ufeff\"+i],{type:\"text/csv\"}),o.navigator.msSaveOrOpenBlob(e,a+\".\"+n)):s?((i=r.createElement(\"a\")).href=e,i.download=a+\".\"+n,this.container.appendChild(i),i.click(),i.remove()):t.error(\"The browser doesn't support downloading files\")},t.Chart.prototype.downloadCSV=function(){var t=this.getCSV(!0);this.fileDownload(\"data:text/csv,\\ufeff\"+encodeURIComponent(t),\"csv\",t,\"text/csv\")},t.Chart.prototype.downloadXLS=function(){var t='<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-microsoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\"><head>\\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Ark1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\\x3e<style>td{border:none;font-family: Calibri, sans-serif;} .number{mso-number-format:\"0.00\";} .text{ mso-number-format:\"@\";}</style><meta name=ProgId content=Excel.Sheet><meta charset=UTF-8></head><body>'+this.getTable(!0)+\"</body></html>\";this.fileDownload(\"data:application/vnd.ms-excel;base64,\"+o.btoa(unescape(encodeURIComponent(t))),\"xls\",t,\"application/vnd.ms-excel\")},t.Chart.prototype.viewData=function(){this.dataTableDiv||(this.dataTableDiv=r.createElement(\"div\"),this.dataTableDiv.className=\"highcharts-data-table\",this.renderTo.parentNode.insertBefore(this.dataTableDiv,this.renderTo.nextSibling)),this.dataTableDiv.innerHTML=this.getTable()},t.Chart.prototype.openInCloud=function(){var e,n;(function e(n){Object.keys(n).forEach(function(i){\"function\"==typeof n[i]&&delete n[i],t.isObject(n[i])&&e(n[i])})})(e=t.merge(this.userOptions)),e={name:e.title&&e.title.text||\"Chart title\",options:e,settings:{constructor:\"Chart\",dataProvider:{csv:this.getCSV()}}},n=JSON.stringify(e),function(){var t=r.createElement(\"form\");r.body.appendChild(t),t.method=\"post\",t.action=\"https://cloud-api.highcharts.com/openincloud\",t.target=\"_blank\";var e=r.createElement(\"input\");e.type=\"hidden\",e.name=\"chart\",e.value=n,t.appendChild(e),t.submit(),r.body.removeChild(t)}()};var l=t.getOptions().exporting;l&&(t.extend(l.menuItemDefinitions,{downloadCSV:{textKey:\"downloadCSV\",onclick:function(){this.downloadCSV()}},downloadXLS:{textKey:\"downloadXLS\",onclick:function(){this.downloadXLS()}},viewData:{textKey:\"viewData\",onclick:function(){this.viewData()}},openInCloud:{textKey:\"openInCloud\",onclick:function(){this.openInCloud()}}}),l.buttons.contextButton.menuItems.push(\"separator\",\"downloadCSV\",\"downloadXLS\",\"viewData\",\"openInCloud\")),a.map&&(a.map.prototype.exportKey=\"name\"),a.mapbubble&&(a.mapbubble.prototype.exportKey=\"name\"),a.treemap&&(a.treemap.prototype.exportKey=\"name\")}(t)},t.exports?t.exports=o:void 0===(i=(function(){return o}).call(e,n,e,t))||(t.exports=i)},\"22jQ\":function(t,e,n){var i,o;o=function(t){!function(t){var e,n=t.pInt,i=t.pick,o=t.each,r=t.isNumber;(0,t.wrap)(t.Renderer.prototype.symbols,\"arc\",function(t,e,n,i,o,r){return t=t(e,n,i,o,r),r.rounded&&(r=[\"A\",i=((r.r||i)-r.innerR)/2,i,0,1,1,t[12],t[13]],t.splice.apply(t,[t.length-1,0].concat([\"A\",i,i,0,1,1,t[1],t[2]])),t.splice.apply(t,[11,3].concat(r))),t}),e={initDataClasses:function(e){var n,i=this.chart,r=0,a=this.options;this.dataClasses=n=[],o(e.dataClasses,function(o,s){o=t.merge(o),n.push(o),o.color||(\"category\"===a.dataClassColor?(o.color=(s=i.options.colors)[r++],r===s.length&&(r=0)):o.color=t.color(a.minColor).tweenTo(t.color(a.maxColor),s/(e.dataClasses.length-1)))})},initStops:function(e){this.stops=e.stops||[[0,this.options.minColor],[1,this.options.maxColor]],o(this.stops,function(e){e.color=t.color(e[1])})},toColor:function(t,e){var n,i,o,r,a=this.stops,s=this.dataClasses;if(s){for(r=s.length;r--;)if(a=(o=s[r]).to,(void 0===(n=o.from)||t>=n)&&(void 0===a||t<=a)){i=o.color,e&&(e.dataClass=r);break}}else{for(this.isLog&&(t=this.val2lin(t)),t=1-(this.max-t)/(this.max-this.min),r=a.length;r--&&!(t>a[r][0]););i=(n=a[r]||a[r+1]).color.tweenTo((a=a[r+1]||n).color,t=1-(a[0]-t)/(a[0]-n[0]||1))}return i}},t.seriesType(\"solidgauge\",\"gauge\",{colorByPoint:!0},{translate:function(){var n=this.yAxis;t.extend(n,e),!n.dataClasses&&n.options.dataClasses&&n.initDataClasses(n.options),n.initStops(n.options),t.seriesTypes.gauge.prototype.translate.call(this)},drawPoints:function(){var e,a=this,s=a.yAxis,l=s.center,u=a.options,h=a.chart.renderer,c=u.overshoot,d=r(c)?c/180*Math.PI:0;r(u.threshold)&&(e=s.startAngleRad+s.translate(u.threshold,null,null,null,!0)),this.thresholdAngleRad=i(e,s.startAngleRad),o(a.points,function(e){var o=e.graphic,r=s.startAngleRad+s.translate(e.y,null,null,null,!0),c=n(i(e.options.radius,u.radius,100))*l[2]/200,p=n(i(e.options.innerRadius,u.innerRadius,60))*l[2]/200,f=s.toColor(e.y,e),g=Math.min(s.startAngleRad,s.endAngleRad),m=Math.max(s.startAngleRad,s.endAngleRad);\"none\"===f&&(f=e.color||a.color||\"none\"),\"none\"!==f&&(e.color=f),r=Math.max(g-d,Math.min(m+d,r)),!1===u.wrap&&(r=Math.max(g,Math.min(m,r))),g=Math.min(r,a.thresholdAngleRad),(r=Math.max(r,a.thresholdAngleRad))-g>2*Math.PI&&(r=g+2*Math.PI),e.shapeArgs=p={x:l[0],y:l[1],r:c,innerR:p,start:g,end:r,rounded:u.rounded},e.startR=c,o?(c=p.d,o.animate(t.extend({fill:f},p)),c&&(p.d=c)):(e.graphic=o=h.arc(p).attr({fill:f,\"sweep-flag\":0}).add(a.group),\"square\"!==u.linecap&&o.attr({\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}),o.attr({stroke:u.borderColor||\"none\",\"stroke-width\":u.borderWidth||0})),o&&o.addClass(e.getClassName(),!0)})},animate:function(e){e||(this.startAngleRad=this.thresholdAngleRad,t.seriesTypes.pie.prototype.animate.call(this,e))}})}(t)},t.exports?t.exports=o:void 0===(i=(function(){return o}).call(e,n,e,t))||(t.exports=i)},\"2Lu3\":function(t,e,n){\"use strict\";function i(t){this.name=t||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit(\"data\",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit(\"error\",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit(\"error\",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on(\"data\",function(t){e.processChunk(t)}),t.on(\"end\",function(){e.end()}),t.on(\"error\",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+t:t}},t.exports=i},\"3j3K\":function(t,e,n){\"use strict\";var i,o,r=global.MutationObserver||global.WebKitMutationObserver;if(r){var a=0,s=new r(c),l=global.document.createTextNode(\"\");s.observe(l,{characterData:!0}),i=function(){l.data=a=++a%2}}else if(global.setImmediate||void 0===global.MessageChannel)i=\"document\"in global&&\"onreadystatechange\"in global.document.createElement(\"script\")?function(){var t=global.document.createElement(\"script\");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},global.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var u=new global.MessageChannel;u.port1.onmessage=c,i=function(){u.port2.postMessage(0)}}var h=[];function c(){var t,e;o=!0;for(var n=h.length;n;){for(e=h,h=[],t=-1;++t<n;)e[t]();n=h.length}o=!1}t.exports=function(t){1!==h.push(t)||o||i()}},\"4MRP\":function(t,e,n){\"use strict\";var i=n(\"2Lu3\"),o=n(\"fFCC\");function r(){i.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}n(\"9aYe\").inherits(r,i),r.prototype.processChunk=function(t){this.streamInfo.crc32=o(t.data,this.streamInfo.crc32||0),this.push(t)},t.exports=r},\"4R65\":function(t,e,n){!function(t){\"use strict\";var e=Object.freeze;function n(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++)for(e in o=arguments[n])t[e]=o[e];return t}Object.freeze=function(t){return t};var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function o(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var r=0;function a(t){return t._leaflet_id=t._leaflet_id||++r,t._leaflet_id}function s(t,e,n){var i,o,r,a;return a=function(){i=!1,o&&(r.apply(n,o),o=!1)},r=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(a,e),i=!0)}}function l(t,e,n){var i=e[1],o=e[0],r=i-o;return t===i&&n?t:((t-o)%r+r)%r+o}function u(){return!1}function h(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function c(t){return t.trim?t.trim():t.replace(/^\\s+|\\s+$/g,\"\")}function d(t){return c(t).split(/\\s+/)}function p(t,e){for(var n in t.hasOwnProperty(\"options\")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function f(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+\"=\"+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf(\"?\")?\"&\":\"?\")+i.join(\"&\")}var g=/\\{ *([\\w_-]+) *\\}/g;function m(t,e){return t.replace(g,function(t,n){var i=e[n];if(void 0===i)throw new Error(\"No value provided for variable \"+t);return\"function\"==typeof i&&(i=i(e)),i})}var v=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};function y(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var _=\"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=\";function b(t){return window[\"webkit\"+t]||window[\"moz\"+t]||window[\"ms\"+t]}var x=0;function w(t){var e=+new Date,n=Math.max(0,16-(e-x));return x=e+n,window.setTimeout(t,n)}var C=window.requestAnimationFrame||b(\"RequestAnimationFrame\")||w,k=window.cancelAnimationFrame||b(\"CancelAnimationFrame\")||b(\"CancelRequestAnimationFrame\")||function(t){window.clearTimeout(t)};function O(t,e,n){if(!n||C!==w)return C.call(window,o(t,e));t.call(e)}function M(t){t&&k.call(window,t)}var S=(Object.freeze||Object)({freeze:e,extend:n,create:i,bind:o,lastId:r,stamp:a,throttle:s,wrapNum:l,falseFn:u,formatNum:h,trim:c,splitWords:d,setOptions:p,getParamString:f,template:m,isArray:v,indexOf:y,emptyImageUrl:_,requestFn:C,cancelFn:k,requestAnimFrame:O,cancelAnimFrame:M});function P(){}P.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=e.__super__=this.prototype,r=i(o);for(var a in r.constructor=e,e.prototype=r,this)this.hasOwnProperty(a)&&\"prototype\"!==a&&\"__super__\"!==a&&(e[a]=this[a]);return t.statics&&(n(e,t.statics),delete t.statics),t.includes&&(function(t){if(\"undefined\"!=typeof L&&L&&L.Mixin){t=v(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn(\"Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.\",(new Error).stack)}}(t.includes),n.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=n(i(r.options),t.options)),n(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},e},P.include=function(t){return n(this.prototype,t),this},P.mergeOptions=function(t){return n(this.prototype.options,t),this},P.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n=\"function\"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var T={on:function(t,e,n){if(\"object\"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var o=0,r=(t=d(t)).length;o<r;o++)this._on(t[o],e,n);return this},off:function(t,e,n){if(t)if(\"object\"==typeof t)for(var i in t)this._off(i,t[i],e);else for(var o=0,r=(t=d(t)).length;o<r;o++)this._off(t[o],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(this._events[t]=i=[]),n===this&&(n=void 0);for(var o={fn:e,ctx:n},r=i,a=0,s=r.length;a<s;a++)if(r[a].fn===e&&r[a].ctx===n)return;r.push(o)},_off:function(t,e,n){var i,o,r;if(this._events&&(i=this._events[t]))if(e){if(n===this&&(n=void 0),i)for(o=0,r=i.length;o<r;o++){var a=i[o];if(a.ctx===n&&a.fn===e)return a.fn=u,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(o,1)}}else{for(o=0,r=i.length;o<r;o++)i[o].fn=u;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var o=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var a=0,s=r.length;a<s;a++){var l=r[a];l.fn.call(l.ctx||this,o)}this._firingCount--}}return i&&this._propagateEvent(o),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if(\"object\"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var r=o(function(){this.off(t,e,n).off(t,r,n)},this);return this.on(t,e,n).on(t,r,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};T.addEventListener=T.on,T.removeEventListener=T.clearAllEventListeners=T.off,T.addOneTimeEventListener=T.once,T.fireEvent=T.fire,T.hasEventListeners=T.listens;var I=P.extend(T);function A(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var z=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function D(t,e,n){return t instanceof A?t:v(t)?new A(t[0],t[1]):null==t?t:\"object\"==typeof t&&\"x\"in t&&\"y\"in t?new A(t.x,t.y):new A(t,e,n)}function E(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function R(t,e){return!t||t instanceof E?t:new E(t,e)}function N(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function B(t,e){return t instanceof N?t:new N(t,e)}function F(t,e,n){if(isNaN(t)||isNaN(e))throw new Error(\"Invalid LatLng object: (\"+t+\", \"+e+\")\");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function j(t,e,n){return t instanceof F?t:v(t)&&\"object\"!=typeof t[0]?3===t.length?new F(t[0],t[1],t[2]):2===t.length?new F(t[0],t[1]):null:null==t?t:\"object\"==typeof t&&\"lat\"in t?new F(t.lat,\"lng\"in t?t.lng:t.lon,t.alt):void 0===e?null:new F(t,e,n)}A.prototype={clone:function(){return new A(this.x,this.y)},add:function(t){return this.clone()._add(D(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(D(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new A(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new A(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=z(this.x),this.y=z(this.y),this},distanceTo:function(t){var e=(t=D(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=D(t)).x===this.x&&t.y===this.y},contains:function(t){return t=D(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return\"Point(\"+h(this.x)+\", \"+h(this.y)+\")\"}},E.prototype={extend:function(t){return t=D(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new A(this.min.x,this.max.y)},getTopRight:function(){return new A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t=\"number\"==typeof t[0]||t instanceof A?D(t):R(t))instanceof E?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=R(t);var e=this.min,n=this.max,i=t.min,o=t.max;return o.x>=e.x&&i.x<=n.x&&o.y>=e.y&&i.y<=n.y},overlaps:function(t){t=R(t);var e=this.min,n=this.max,i=t.min,o=t.max;return o.x>e.x&&i.x<n.x&&o.y>e.y&&i.y<n.y},isValid:function(){return!(!this.min||!this.max)}},N.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof F)e=t,n=t;else{if(!(t instanceof N))return t?this.extend(j(t)||B(t)):this;if(n=t._northEast,!(e=t._southWest)||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new F(e.lat,e.lng),this._northEast=new F(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new N(new F(e.lat-i,e.lng-o),new F(n.lat+i,n.lng+o))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t=\"number\"==typeof t[0]||t instanceof F||\"lat\"in t?j(t):B(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof N?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=B(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast();return o.lat>=e.lat&&i.lat<=n.lat&&o.lng>=e.lng&&i.lng<=n.lng},overlaps:function(t){t=B(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast();return o.lat>e.lat&&i.lat<n.lat&&o.lng>e.lng&&i.lng<n.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(\",\")},equals:function(t,e){return!!t&&(t=B(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(t,e){return!!t&&(t=j(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return\"LatLng(\"+h(this.lat,t)+\", \"+h(this.lng,t)+\")\"},distanceTo:function(t){return G.distance(this,j(t))},wrap:function(){return G.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return B([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var U,V={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new E(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l(t.lng,this.wrapLng,!0):t.lng;return new F(this.wrapLat?l(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,o=e.lng-n.lng;if(0===i&&0===o)return t;var r=t.getSouthWest(),a=t.getNorthEast();return new N(new F(r.lat-i,r.lng-o),new F(a.lat-i,a.lng-o))}},G=n({},V,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,r=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=r*r+Math.cos(i)*Math.cos(o)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),H={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new A(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new F((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(U=6378137*Math.PI,new E([-U,-U],[U,U]))};function Z(t,e,n,i){if(v(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function W(t,e,n,i){return new Z(t,e,n,i)}Z.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return t.x=(e=e||1)*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return new A((t.x/(e=e||1)-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Y=n({},G,{code:\"EPSG:3857\",projection:H,transformation:function(){var t=.5/(Math.PI*H.R);return W(t,.5,-t,.5)}()}),X=n({},Y,{code:\"EPSG:900913\"});function $(t){return document.createElementNS(\"http://www.w3.org/2000/svg\",t)}function K(t,e){var n,i,o,r,a,s,l=\"\";for(n=0,o=t.length;n<o;n++){for(i=0,r=(a=t[n]).length;i<r;i++)l+=(i?\"L\":\"M\")+(s=a[i]).x+\" \"+s.y;l+=e?Lt?\"z\":\"x\":\"\"}return l||\"M0 0\"}var q=document.documentElement.style,J=\"ActiveXObject\"in window,Q=J&&!document.addEventListener,tt=\"msLaunchUri\"in navigator&&!(\"documentMode\"in document),et=Pt(\"webkit\"),nt=Pt(\"android\"),it=Pt(\"android 2\")||Pt(\"android 3\"),ot=parseInt(/WebKit\\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rt=nt&&Pt(\"Google\")&&ot<537&&!(\"AudioNode\"in window),at=!!window.opera,st=Pt(\"chrome\"),lt=Pt(\"gecko\")&&!et&&!at&&!J,ut=!st&&Pt(\"safari\"),ht=Pt(\"phantom\"),ct=\"OTransition\"in q,dt=0===navigator.platform.indexOf(\"Win\"),pt=J&&\"transition\"in q,ft=\"WebKitCSSMatrix\"in window&&\"m11\"in new window.WebKitCSSMatrix&&!it,gt=\"MozPerspective\"in q,mt=!window.L_DISABLE_3D&&(pt||ft||gt)&&!ct&&!ht,vt=\"undefined\"!=typeof orientation||Pt(\"mobile\"),yt=vt&&et,_t=vt&&ft,bt=!window.PointerEvent&&window.MSPointerEvent,xt=!(!window.PointerEvent&&!bt),wt=!window.L_NO_TOUCH&&(xt||\"ontouchstart\"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Ct=vt&&at,kt=vt&&lt,Ot=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Mt=!!document.createElement(\"canvas\").getContext,Lt=!(!document.createElementNS||!$(\"svg\").createSVGRect),St=!Lt&&function(){try{var t=document.createElement(\"div\");t.innerHTML='<v:shape adj=\"1\"/>';var e=t.firstChild;return e.style.behavior=\"url(#default#VML)\",e&&\"object\"==typeof e.adj}catch(n){return!1}}();function Pt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Tt=(Object.freeze||Object)({ie:J,ielt9:Q,edge:tt,webkit:et,android:nt,android23:it,androidStock:rt,opera:at,chrome:st,gecko:lt,safari:ut,phantom:ht,opera12:ct,win:dt,ie3d:pt,webkit3d:ft,gecko3d:gt,any3d:mt,mobile:vt,mobileWebkit:yt,mobileWebkit3d:_t,msPointer:bt,pointer:xt,touch:wt,mobileOpera:Ct,mobileGecko:kt,retina:Ot,canvas:Mt,svg:Lt,vml:St}),It=bt?\"MSPointerDown\":\"pointerdown\",At=bt?\"MSPointerMove\":\"pointermove\",zt=bt?\"MSPointerUp\":\"pointerup\",Dt=bt?\"MSPointerCancel\":\"pointercancel\",Et=[\"INPUT\",\"SELECT\",\"OPTION\"],Rt={},Nt=!1,Bt=0;function Ft(t){Rt[t.pointerId]=t,Bt++}function jt(t){Rt[t.pointerId]&&(Rt[t.pointerId]=t)}function Ut(t){delete Rt[t.pointerId],Bt--}function Vt(t,e){for(var n in t.touches=[],Rt)t.touches.push(Rt[n]);t.changedTouches=[t],e(t)}var Gt=bt?\"MSPointerDown\":xt?\"pointerdown\":\"touchstart\",Ht=bt?\"MSPointerUp\":xt?\"pointerup\":\"touchend\",Zt=\"_leaflet_\";function Wt(t,e,n){var i,o,r=!1,a=250;function s(t){var e;if(xt){if(!tt||\"mouse\"===t.pointerType)return;e=Bt}else e=t.touches.length;if(!(e>1)){var n=Date.now(),s=n-(i||n);o=t.touches?t.touches[0]:t,r=s>0&&s<=a,i=n}}function l(t){if(r&&!o.cancelBubble){if(xt){if(!tt||\"mouse\"===t.pointerType)return;var n,a,s={};for(a in o)s[a]=(n=o[a])&&n.bind?n.bind(o):n;o=s}o.type=\"dblclick\",e(o),i=null}}return t[Zt+Gt+n]=s,t[Zt+Ht+n]=l,t[Zt+\"dblclick\"+n]=e,t.addEventListener(Gt,s,!1),t.addEventListener(Ht,l,!1),t.addEventListener(\"dblclick\",e,!1),this}function Yt(t,e){var n=t[Zt+Ht+e],i=t[Zt+\"dblclick\"+e];return t.removeEventListener(Gt,t[Zt+Gt+e],!1),t.removeEventListener(Ht,n,!1),tt||t.removeEventListener(\"dblclick\",i,!1),this}var Xt,$t,Kt,qt,Jt,Qt=ge([\"transform\",\"webkitTransform\",\"OTransform\",\"MozTransform\",\"msTransform\"]),te=ge([\"webkitTransition\",\"transition\",\"OTransition\",\"MozTransition\",\"msTransition\"]),ee=\"webkitTransition\"===te||\"OTransition\"===te?te+\"End\":\"transitionend\";function ne(t){return\"string\"==typeof t?document.getElementById(t):t}function ie(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||\"auto\"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return\"auto\"===n?null:n}function oe(t,e,n){var i=document.createElement(t);return i.className=e||\"\",n&&n.appendChild(i),i}function re(t){var e=t.parentNode;e&&e.removeChild(t)}function ae(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function se(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function le(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ue(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=pe(t);return n.length>0&&new RegExp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\").test(n)}function he(t,e){if(void 0!==t.classList)for(var n=d(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!ue(t,e)){var r=pe(t);de(t,(r?r+\" \":\"\")+e)}}function ce(t,e){void 0!==t.classList?t.classList.remove(e):de(t,c((\" \"+pe(t)+\" \").replace(\" \"+e+\" \",\" \")))}function de(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function pe(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function fe(t,e){\"opacity\"in t.style?t.style.opacity=e:\"filter\"in t.style&&function(t,e){var n=!1,i=\"DXImageTransform.Microsoft.Alpha\";try{n=t.filters.item(i)}catch(o){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=\" progid:\"+i+\"(opacity=\"+e+\")\"}(t,e)}function ge(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function me(t,e,n){var i=e||new A(0,0);t.style[Qt]=(pt?\"translate(\"+i.x+\"px,\"+i.y+\"px)\":\"translate3d(\"+i.x+\"px,\"+i.y+\"px,0)\")+(n?\" scale(\"+n+\")\":\"\")}function ve(t,e){t._leaflet_pos=e,mt?me(t,e):(t.style.left=e.x+\"px\",t.style.top=e.y+\"px\")}function ye(t){return t._leaflet_pos||new A(0,0)}if(\"onselectstart\"in document)Xt=function(){Le(window,\"selectstart\",Ee)},$t=function(){Pe(window,\"selectstart\",Ee)};else{var _e=ge([\"userSelect\",\"WebkitUserSelect\",\"OUserSelect\",\"MozUserSelect\",\"msUserSelect\"]);Xt=function(){if(_e){var t=document.documentElement.style;Kt=t[_e],t[_e]=\"none\"}},$t=function(){_e&&(document.documentElement.style[_e]=Kt,Kt=void 0)}}function be(){Le(window,\"dragstart\",Ee)}function xe(){Pe(window,\"dragstart\",Ee)}function we(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Ce(),qt=t,Jt=t.style.outline,t.style.outline=\"none\",Le(window,\"keydown\",Ce))}function Ce(){qt&&(qt.style.outline=Jt,qt=void 0,Jt=void 0,Pe(window,\"keydown\",Ce))}function ke(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Oe(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Me=(Object.freeze||Object)({TRANSFORM:Qt,TRANSITION:te,TRANSITION_END:ee,get:ne,getStyle:ie,create:oe,remove:re,empty:ae,toFront:se,toBack:le,hasClass:ue,addClass:he,removeClass:ce,setClass:de,getClass:pe,setOpacity:fe,testProp:ge,setTransform:me,setPosition:ve,getPosition:ye,disableTextSelection:Xt,enableTextSelection:$t,disableImageDrag:be,enableImageDrag:xe,preventOutline:we,restoreOutline:Ce,getSizedParentNode:ke,getScale:Oe});function Le(t,e,n,i){if(\"object\"==typeof e)for(var o in e)Te(t,o,e[o],n);else for(var r=0,a=(e=d(e)).length;r<a;r++)Te(t,e[r],n,i);return this}var Se=\"_leaflet_events\";function Pe(t,e,n,i){if(\"object\"==typeof e)for(var o in e)Ie(t,o,e[o],n);else if(e)for(var r=0,a=(e=d(e)).length;r<a;r++)Ie(t,e[r],n,i);else{for(var s in t[Se])Ie(t,s,t[Se][s]);delete t[Se]}return this}function Te(t,e,n,i){var r=e+a(n)+(i?\"_\"+a(i):\"\");if(t[Se]&&t[Se][r])return this;var s=function(e){return n.call(i||t,e||window.event)},l=s;xt&&0===e.indexOf(\"touch\")?function(t,e,n,i){\"touchstart\"===e?function(t,e,n){var i=o(function(t){if(\"mouse\"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Et.indexOf(t.target.tagName)<0))return;Ee(t)}Vt(t,e)});t[\"_leaflet_touchstart\"+n]=i,t.addEventListener(It,i,!1),Nt||(document.documentElement.addEventListener(It,Ft,!0),document.documentElement.addEventListener(At,jt,!0),document.documentElement.addEventListener(zt,Ut,!0),document.documentElement.addEventListener(Dt,Ut,!0),Nt=!0)}(t,n,i):\"touchmove\"===e?function(t,e,n){var i=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&\"mouse\"!==t.pointerType||0!==t.buttons)&&Vt(t,e)};t[\"_leaflet_touchmove\"+n]=i,t.addEventListener(At,i,!1)}(t,n,i):\"touchend\"===e&&function(t,e,n){var i=function(t){Vt(t,e)};t[\"_leaflet_touchend\"+n]=i,t.addEventListener(zt,i,!1),t.addEventListener(Dt,i,!1)}(t,n,i)}(t,e,s,r):!wt||\"dblclick\"!==e||!Wt||xt&&st?\"addEventListener\"in t?\"mousewheel\"===e?t.addEventListener(\"onwheel\"in t?\"wheel\":\"mousewheel\",s,!1):\"mouseenter\"===e||\"mouseleave\"===e?t.addEventListener(\"mouseenter\"===e?\"mouseover\":\"mouseout\",s=function(e){e=e||window.event,He(t,e)&&l(e)},!1):(\"click\"===e&&nt&&(s=function(t){!function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=je&&n-je;i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated?Re(t):(je=n,e(t))}(t,l)}),t.addEventListener(e,s,!1)):\"attachEvent\"in t&&t.attachEvent(\"on\"+e,s):Wt(t,s,r),t[Se]=t[Se]||{},t[Se][r]=s}function Ie(t,e,n,i){var o=e+a(n)+(i?\"_\"+a(i):\"\"),r=t[Se]&&t[Se][o];if(!r)return this;xt&&0===e.indexOf(\"touch\")?function(t,e,n){var i=t[\"_leaflet_\"+e+n];\"touchstart\"===e?t.removeEventListener(It,i,!1):\"touchmove\"===e?t.removeEventListener(At,i,!1):\"touchend\"===e&&(t.removeEventListener(zt,i,!1),t.removeEventListener(Dt,i,!1))}(t,e,o):!wt||\"dblclick\"!==e||!Yt||xt&&st?\"removeEventListener\"in t?t.removeEventListener(\"mousewheel\"===e?\"onwheel\"in t?\"wheel\":\"mousewheel\":\"mouseenter\"===e?\"mouseover\":\"mouseleave\"===e?\"mouseout\":e,r,!1):\"detachEvent\"in t&&t.detachEvent(\"on\"+e,r):Yt(t,o),t[Se][o]=null}function Ae(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Ge(t),this}function ze(t){return Te(t,\"mousewheel\",Ae),this}function De(t){return Le(t,\"mousedown touchstart dblclick\",Ae),Te(t,\"click\",Ve),this}function Ee(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Re(t){return Ee(t),Ae(t),this}function Ne(t,e){if(!e)return new A(t.clientX,t.clientY);var n=Oe(e),i=n.boundingClientRect;return new A((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Be=dt&&st?2*window.devicePixelRatio:lt?window.devicePixelRatio:1;function Fe(t){return tt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Be:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var je,Ue={};function Ve(t){Ue[t.type]=!0}function Ge(t){var e=Ue[t.type];return Ue[t.type]=!1,e}function He(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(i){return!1}return n!==t}var Ze=(Object.freeze||Object)({on:Le,off:Pe,stopPropagation:Ae,disableScrollPropagation:ze,disableClickPropagation:De,preventDefault:Ee,stop:Re,getMousePosition:Ne,getWheelDelta:Fe,fakeStop:Ve,skipped:Ge,isExternalTarget:He,addListener:Le,removeListener:Pe}),We=I.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=ye(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire(\"start\"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=O(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),ve(this._el,n),this.fire(\"step\")},_complete:function(){M(this._animId),this._inProgress=!1,this.fire(\"end\")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ye=I.extend({options:{crs:Y,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=p(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(j(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=te&&mt&&!Ct&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Le(this._proxy,ee,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(j(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t=t||(mt?this.options.zoomDelta:1)),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t=t||(mt?this.options.zoomDelta:1)),e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),r=(t instanceof A?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/i),a=this.containerPointToLatLng(o.add(r));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():B(t);var n=D(e.paddingTopLeft||e.padding||[0,0]),i=D(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));if((o=\"number\"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var r=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),o),s=this.project(t.getNorthEast(),o);return{center:this.unproject(a.add(s).divideBy(2).add(r),o),zoom:o}},fitBounds:function(t,e){if(!(t=B(t)).isValid())throw new Error(\"Bounds are not valid.\");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=D(t).round()).x&&!t.y)return this.fire(\"moveend\");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new We,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire(\"movestart\"),!1!==e.animate){he(this._mapPane,\"leaflet-pan-anim\");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire(\"move\").fire(\"moveend\");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!mt)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),o=this.project(t),r=this.getSize(),a=this._zoom;t=j(t),e=void 0===e?a:e;var s=Math.max(r.x,r.y),l=s*this.getZoomScale(a,e),u=o.distanceTo(i)||1,h=2.0164;function c(t){var e=(l*l-s*s+(t?-1:1)*h*h*u*u)/(2*(t?l:s)*h*u),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function d(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}var f=c(0),g=Date.now(),m=(c(1)-f)/1.42,v=n.duration?1e3*n.duration:1e3*m*.8;return this._moveStart(!0,n.noMoveStart),(function n(){var r=(Date.now()-g)/v,l=function(t){return 1-Math.pow(1-t,1.5)}(r)*m;r<=1?(this._flyToFrame=O(n,this),this._move(this.unproject(i.add(o.subtract(i).multiplyBy(function(t){return s*(p(f)*(d(e=f+1.42*t)/p(e))-d(f))/h;var e}(l)/u)),a),this.getScaleZoom(s/function(t){return s*(p(f)/p(f+1.42*t))}(l),a),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}).call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=B(t)).isValid()?(this.options.maxBounds&&this.off(\"moveend\",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on(\"moveend\",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off(\"moveend\",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire(\"zoomlevelschange\"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire(\"zoomlevelschange\"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,B(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=D((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=D(e.paddingBottomRight||e.padding||[0,0]),o=this.getCenter(),r=this.project(o),a=this.project(t),s=this.getPixelBounds(),l=s.getSize().divideBy(2),u=R([s.min.add(n),s.max.subtract(i)]);if(!u.contains(a)){this._enforcingBounds=!0;var h=r.subtract(a),c=D(a.x+h.x,a.y+h.y);(a.x<u.min.x||a.x>u.max.x)&&(c.x=r.x-h.x,h.x>0?c.x+=l.x-n.x:c.x-=l.x-i.x),(a.y<u.min.y||a.y>u.max.y)&&(c.y=r.y-h.y,h.y>0?c.y+=l.y-n.y:c.y-=l.y-i.y),this.panTo(this.unproject(c),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),r=e.divideBy(2).round(),a=i.divideBy(2).round(),s=r.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire(\"move\"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,\"moveend\"),200)):this.fire(\"moveend\")),this.fire(\"resize\",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire(\"viewreset\"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!(\"geolocation\"in navigator))return this._handleGeolocationError({code:0,message:\"Geolocation not supported.\"}),this;var e=o(this._handleGeolocationResponse,this),i=o(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?\"permission denied\":2===e?\"position unavailable\":\"timeout\");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire(\"locationerror\",{code:e,message:\"Geolocation error: \"+n+\".\"})},_handleGeolocationResponse:function(t){var e=new F(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var o=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(o,i.maxZoom):o)}var r={latlng:e,bounds:n,timestamp:t.timestamp};for(var a in t.coords)\"number\"==typeof t.coords[a]&&(r[a]=t.coords[a]);this.fire(\"locationfound\",r)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error(\"Map container is being reused by another instance\");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),re(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(M(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire(\"unload\"),this._layers)this._layers[t].remove();for(t in this._panes)re(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=oe(\"div\",\"leaflet-pane\"+(t?\" leaflet-\"+t.replace(\"Pane\",\"\")+\"-pane\":\"\"),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new N(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=B(t),n=D(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),l=this.getSize().subtract(n),u=R(this.project(s,i),this.project(a,i)).getSize(),h=mt?this.options.zoomSnap:1,c=l.x/u.x,d=l.y/u.y,p=e?Math.max(c,d):Math.min(c,d);return i=this.getScaleZoom(p,i),h&&(i=Math.round(i/(h/100))*(h/100),i=e?Math.ceil(i/h)*h:Math.floor(i/h)*h),Math.max(o,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new E(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return\"string\"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs,i=n.zoom(t*n.scale(e=void 0===e?this._zoom:e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(j(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(D(t),e)},layerPointToLatLng:function(t){var e=D(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(j(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(j(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(B(t))},distance:function(t,e){return this.options.crs.distance(j(t),j(e))},containerPointToLayerPoint:function(t){return D(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return D(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(D(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(j(t)))},mouseEventToContainerPoint:function(t){return Ne(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ne(t);if(!e)throw new Error(\"Map container not found.\");if(e._leaflet_id)throw new Error(\"Map container is already initialized.\");Le(e,\"scroll\",this._onScroll,this),this._containerId=a(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&mt,he(t,\"leaflet-container\"+(wt?\" leaflet-touch\":\"\")+(Ot?\" leaflet-retina\":\"\")+(Q?\" leaflet-oldie\":\"\")+(ut?\" leaflet-safari\":\"\")+(this._fadeAnimated?\" leaflet-fade-anim\":\"\"));var e=ie(t,\"position\");\"absolute\"!==e&&\"relative\"!==e&&\"fixed\"!==e&&(t.style.position=\"relative\"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane(\"mapPane\",this._container),ve(this._mapPane,new A(0,0)),this.createPane(\"tilePane\"),this.createPane(\"shadowPane\"),this.createPane(\"overlayPane\"),this.createPane(\"markerPane\"),this.createPane(\"tooltipPane\"),this.createPane(\"popupPane\"),this.options.markerZoomAnimation||(he(t.markerPane,\"leaflet-zoom-hide\"),he(t.shadowPane,\"leaflet-zoom-hide\"))},_resetView:function(t,e){ve(this._mapPane,new A(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire(\"viewprereset\");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire(\"viewreset\"),n&&this.fire(\"load\")},_moveStart:function(t,e){return t&&this.fire(\"zoomstart\"),e||this.fire(\"movestart\"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire(\"zoom\",n),this.fire(\"move\",n)},_moveEnd:function(t){return t&&this.fire(\"zoomend\"),this.fire(\"moveend\")},_stop:function(){return M(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ve(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error(\"Set map center and zoom first.\")},_initEvents:function(t){this._targets={},this._targets[a(this._container)]=this;var e=t?Pe:Le;e(this._container,\"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress\",this._handleDOMEvent,this),this.options.trackResize&&e(window,\"resize\",this._onResize,this),mt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,\"moveend\",this._onMoveEnd)},_onResize:function(){M(this._resizeRequest),this._resizeRequest=O(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o=\"mouseout\"===e||\"mouseover\"===e,r=t.target||t.srcElement,s=!1;r;){if((n=this._targets[a(r)])&&(\"click\"===e||\"preclick\"===e)&&!t._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(o&&!He(r,t))break;if(i.push(n),o)break}if(r===this._container)break;r=r.parentNode}return i.length||s||o||!He(r,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!Ge(t)){var e=t.type;\"mousedown\"!==e&&\"keypress\"!==e||we(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:[\"click\",\"dblclick\",\"mouseover\",\"mouseout\",\"contextmenu\"],_fireDOMEvent:function(t,e,i){if(\"click\"===t.type){var o=n({},t);o.type=\"preclick\",this._fireDOMEvent(o,o.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,e))).length){var r=i[0];\"contextmenu\"===e&&r.listens(e,!0)&&Ee(t);var a={originalEvent:t};if(\"keypress\"!==t.type){var s=r.getLatLng&&(!r._radius||r._radius<=10);a.containerPoint=s?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?r.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var l=0;l<i.length;l++)if(i[l].fire(e,a,!0),a.originalEvent._stopped||!1===i[l].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on(\"load\",t,e),this},_getMapPanePos:function(){return ye(this._mapPane)||new A(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return R([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),r=new E(i.subtract(o),i.add(o)),a=this._getBoundsOffset(r,n,e);return a.round().equals([0,0])?t:this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new E(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=R(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),r=i.max.subtract(t.max);return new A(this._rebound(o.x,-r.x),this._rebound(o.y,-r.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=mt?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire(\"move\")},_onPanTransitionEnd:function(){ce(this._mapPane,\"leaflet-pan-anim\"),this.fire(\"moveend\")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=oe(\"div\",\"leaflet-proxy leaflet-zoom-animated\");this._panes.mapPane.appendChild(t),this.on(\"zoomanim\",function(t){var e=Qt,n=this._proxy.style[e];me(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on(\"load moveend\",function(){var t=this.getCenter(),e=this.getZoom();me(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on(\"unload\",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){re(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf(\"transform\")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName(\"leaflet-zoom-animated\").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(o)||(O(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,he(this._mapPane,\"leaflet-zoom-anim\")),this.fire(\"zoomanim\",{center:t,zoom:e,noUpdate:i}),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ce(this._mapPane,\"leaflet-zoom-anim\"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),O(function(){this._moveEnd(!0)},this))}}),Xe=P.extend({options:{position:\"topright\"},initialize:function(t){p(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return he(e,\"leaflet-control\"),-1!==n.indexOf(\"bottom\")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},remove:function(){return this._map?(re(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),$e=function(t){return new Xe(t)};Ye.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e=\"leaflet-\",n=this._controlContainer=oe(\"div\",e+\"control-container\",this._container);function i(i,o){t[i+o]=oe(\"div\",e+i+\" \"+e+o,n)}i(\"top\",\"left\"),i(\"top\",\"right\"),i(\"bottom\",\"left\"),i(\"bottom\",\"right\")},_clearControlPos:function(){for(var t in this._controlCorners)re(this._controlCorners[t]);re(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ke=Xe.extend({options:{collapsed:!0,position:\"topright\",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on(\"zoomend\",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on(\"add remove\",this._onLayerChange,this);return this._container},addTo:function(t){return Xe.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off(\"zoomend\",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off(\"add remove\",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off(\"add remove\",this._onLayerChange,this);var e=this._getLayer(a(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){he(this._container,\"leaflet-control-layers-expanded\"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(he(this._section,\"leaflet-control-layers-scrollbar\"),this._section.style.height=t+\"px\"):ce(this._section,\"leaflet-control-layers-scrollbar\"),this._checkDisabledLayers(),this},collapse:function(){return ce(this._container,\"leaflet-control-layers-expanded\"),this},_initLayout:function(){var t=\"leaflet-control-layers\",e=this._container=oe(\"div\",t),n=this.options.collapsed;e.setAttribute(\"aria-haspopup\",!0),De(e),ze(e);var i=this._section=oe(\"section\",t+\"-list\");n&&(this._map.on(\"click\",this.collapse,this),nt||Le(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=oe(\"a\",t+\"-toggle\",e);o.href=\"#\",o.title=\"Layers\",wt?(Le(o,\"click\",Re),Le(o,\"click\",this.expand,this)):Le(o,\"focus\",this.expand,this),n||this.expand(),this._baseLayersList=oe(\"div\",t+\"-base\",i),this._separator=oe(\"div\",t+\"-separator\",i),this._overlaysList=oe(\"div\",t+\"-overlays\",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&a(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on(\"add remove\",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(o(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ae(this._baseLayersList),ae(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)this._addItem(i=this._layers[n]),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(t=t&&o>1)?\"\":\"none\"),this._separator.style.display=e&&t?\"\":\"none\",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(a(t.target)),n=e.overlay?\"add\"===t.type?\"overlayadd\":\"overlayremove\":\"add\"===t.type?\"baselayerchange\":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type=\"radio\" class=\"leaflet-control-layers-selector\" name=\"'+t+'\"'+(e?' checked=\"checked\"':\"\")+\"/>\",i=document.createElement(\"div\");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement(\"label\"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement(\"input\")).type=\"checkbox\",e.className=\"leaflet-control-layers-selector\",e.defaultChecked=i):e=this._createRadioElement(\"leaflet-base-layers\",i),this._layerControlInputs.push(e),e.layerId=a(t.layer),Le(e,\"click\",this._onInputClick,this);var o=document.createElement(\"span\");o.innerHTML=\" \"+t.name;var r=document.createElement(\"div\");return n.appendChild(r),r.appendChild(e),r.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],o=[];this._handlingClick=!0;for(var r=n.length-1;r>=0;r--)e=this._getLayer((t=n[r]).layerId).layer,t.checked?i.push(e):t.checked||o.push(e);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<i.length;r++)this._map.hasLayer(i[r])||this._map.addLayer(i[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),o=n.length-1;o>=0;o--)e=this._getLayer((t=n[o]).layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),qe=Xe.extend({options:{position:\"topleft\",zoomInText:\"+\",zoomInTitle:\"Zoom in\",zoomOutText:\"&#x2212;\",zoomOutTitle:\"Zoom out\"},onAdd:function(t){var e=\"leaflet-control-zoom\",n=oe(\"div\",e+\" leaflet-bar\"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+\"-in\",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+\"-out\",n,this._zoomOut),this._updateDisabled(),t.on(\"zoomend zoomlevelschange\",this._updateDisabled,this),n},onRemove:function(t){t.off(\"zoomend zoomlevelschange\",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var r=oe(\"a\",n,i);return r.innerHTML=t,r.href=\"#\",r.title=e,r.setAttribute(\"role\",\"button\"),r.setAttribute(\"aria-label\",e),De(r),Le(r,\"click\",Re),Le(r,\"click\",o,this),Le(r,\"click\",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e=\"leaflet-disabled\";ce(this._zoomInButton,e),ce(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&he(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&he(this._zoomInButton,e)}});Ye.mergeOptions({zoomControl:!0}),Ye.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qe,this.addControl(this.zoomControl))});var Je=Xe.extend({options:{position:\"bottomleft\",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=oe(\"div\",\"leaflet-control-scale\"),n=this.options;return this._addScales(n,\"leaflet-control-scale-line\",e),t.on(n.updateWhenIdle?\"moveend\":\"move\",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?\"moveend\":\"move\",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=oe(\"div\",e,n)),t.imperial&&(this._iScale=oe(\"div\",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t);this._updateScale(this._mScale,e<1e3?e+\" m\":e/1e3+\" km\",e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;o>5280?(n=this._getRoundNum(e=o/5280),this._updateScale(this._iScale,n+\" mi\",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+\" ft\",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+\"px\",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+\"\").length-1),n=t/e;return e*(n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),Qe=Xe.extend({options:{position:\"bottomright\",prefix:'<a href=\"http://leafletjs.com\" title=\"A JS library for interactive maps\">Leaflet</a>'},initialize:function(t){p(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=oe(\"div\",\"leaflet-control-attribution\"),De(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(\", \")),this._container.innerHTML=n.join(\" | \")}}});Ye.mergeOptions({attributionControl:!0}),Ye.addInitHook(function(){this.options.attributionControl&&(new Qe).addTo(this)}),Xe.Layers=Ke,Xe.Zoom=qe,Xe.Scale=Je,Xe.Attribution=Qe,$e.layers=function(t,e,n){return new Ke(t,e,n)},$e.zoom=function(t){return new qe(t)},$e.scale=function(t){return new Je(t)},$e.attribution=function(t){return new Qe(t)};var tn=P.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});tn.addTo=function(t,e){return t.addHandler(e,this),this};var en,nn={Events:T},on=wt?\"touchstart mousedown\":\"mousedown\",rn={mousedown:\"mouseup\",touchstart:\"touchend\",pointerdown:\"touchend\",MSPointerDown:\"touchend\"},an={mousedown:\"mousemove\",touchstart:\"touchmove\",pointerdown:\"touchmove\",MSPointerDown:\"touchmove\"},sn=I.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){p(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Le(this._dragStartTarget,on,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(sn._dragging===this&&this.finishDrag(),Pe(this._dragStartTarget,on,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!ue(this._element,\"leaflet-zoom-anim\")&&!(sn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(sn._dragging=this,this._preventOutline&&we(this._element),be(),Xt(),this._moving)))){this.fire(\"down\");var e=t.touches?t.touches[0]:t,n=ke(this._element);this._startPoint=new A(e.clientX,e.clientY),this._parentScale=Oe(n),Le(document,an[t.type],this._onMove,this),Le(document,rn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new A(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ee(t),this._moved||(this.fire(\"dragstart\"),this._moved=!0,this._startPos=ye(this._element).subtract(n),he(document.body,\"leaflet-dragging\"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),he(this._lastTarget,\"leaflet-drag-target\")),this._newPos=this._startPos.add(n),this._moving=!0,M(this._animRequest),this._lastEvent=t,this._animRequest=O(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire(\"predrag\",t),ve(this._element,this._newPos),this.fire(\"drag\",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in ce(document.body,\"leaflet-dragging\"),this._lastTarget&&(ce(this._lastTarget,\"leaflet-drag-target\"),this._lastTarget=null),an)Pe(document,an[t],this._onMove,this),Pe(document,rn[t],this._onUp,this);xe(),$t(),this._moved&&this._moving&&(M(this._animRequest),this.fire(\"dragend\",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,sn._dragging=!1}});function ln(t,e){if(!e||!t.length)return t.slice();var n=e*e;return function(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+\"\"?Uint8Array:Array)(n);i[0]=i[n-1]=1,function t(e,n,i,o,r){var a,s,l,u=0;for(s=o+1;s<=r-1;s++)(l=pn(e[s],e[o],e[r],!0))>u&&(a=s,u=l);u>i&&(n[a]=1,t(e,n,i,o,a),t(e,n,i,a,r))}(t,i,e,0,n-1);var o,r=[];for(o=0;o<n;o++)i[o]&&r.push(t[o]);return r}(t=function(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;i<r;i++)(l=(s=t[o]).x-(a=t[i]).x)*l+(u=s.y-a.y)*u>e&&(n.push(t[i]),o=i);var a,s,l,u;return o<r-1&&n.push(t[r-1]),n}(t,n),n)}function un(t,e,n){return Math.sqrt(pn(t,e,n,!0))}function hn(t,e,n,i,o){var r,a,s,l=i?en:dn(t,n),u=dn(e,n);for(en=u;;){if(!(l|u))return[t,e];if(l&u)return!1;s=dn(a=cn(t,e,r=l||u,n,o),n),r===l?(t=a,l=s):(e=a,u=s)}}function cn(t,e,n,i,o){var r,a,s=e.x-t.x,l=e.y-t.y,u=i.min,h=i.max;return 8&n?(r=t.x+s*(h.y-t.y)/l,a=h.y):4&n?(r=t.x+s*(u.y-t.y)/l,a=u.y):2&n?(r=h.x,a=t.y+l*(h.x-t.x)/s):1&n&&(r=u.x,a=t.y+l*(u.x-t.x)/s),new A(r,a,o)}function dn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function pn(t,e,n,i){var o,r=e.x,a=e.y,s=n.x-r,l=n.y-a,u=s*s+l*l;return u>0&&((o=((t.x-r)*s+(t.y-a)*l)/u)>1?(r=n.x,a=n.y):o>0&&(r+=s*o,a+=l*o)),s=t.x-r,l=t.y-a,i?s*s+l*l:new A(r,a)}function fn(t){return!v(t[0])||\"object\"!=typeof t[0][0]&&void 0!==t[0][0]}function gn(t){return console.warn(\"Deprecated use of _flat, please use L.LineUtil.isFlat instead.\"),fn(t)}var mn=(Object.freeze||Object)({simplify:ln,pointToSegmentDistance:un,closestPointOnSegment:function(t,e,n){return pn(t,e,n)},clipSegment:hn,_getEdgeIntersection:cn,_getBitCode:dn,_sqClosestPointOnSegment:pn,isFlat:fn,_flat:gn});function vn(t,e,n){var i,o,r,a,s,l,u,h,c,d=[1,4,2,8];for(o=0,u=t.length;o<u;o++)t[o]._code=dn(t[o],e);for(a=0;a<4;a++){for(h=d[a],i=[],o=0,r=(u=t.length)-1;o<u;r=o++)l=t[r],(s=t[o])._code&h?l._code&h||((c=cn(l,s,h,e,n))._code=dn(c,e),i.push(c)):(l._code&h&&((c=cn(l,s,h,e,n))._code=dn(c,e),i.push(c)),i.push(s));t=i}return t}var yn=(Object.freeze||Object)({clipPolygon:vn}),_n={project:function(t){return new A(t.lng,t.lat)},unproject:function(t){return new F(t.y,t.x)},bounds:new E([-180,-90],[180,90])},bn={R:6378137,R_MINOR:6356752.314245179,bounds:new E([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),a=r*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),r/2);return i=-n*Math.log(Math.max(s,1e-10)),new A(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),a=Math.exp(-t.y/i),s=Math.PI/2-2*Math.atan(a),l=0,u=.1;l<15&&Math.abs(u)>1e-7;l++)e=r*Math.sin(s),e=Math.pow((1-e)/(1+e),r/2),s+=u=Math.PI/2-2*Math.atan(a*e)-s;return new F(s*n,t.x*n/i)}},xn=(Object.freeze||Object)({LonLat:_n,Mercator:bn,SphericalMercator:H}),wn=n({},G,{code:\"EPSG:3395\",projection:bn,transformation:function(){var t=.5/(Math.PI*bn.R);return W(t,.5,-t,.5)}()}),Cn=n({},G,{code:\"EPSG:4326\",projection:_n,transformation:W(1/180,1,-1/180,.5)}),kn=n({},V,{projection:_n,transformation:W(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});V.Earth=G,V.EPSG3395=wn,V.EPSG3857=Y,V.EPSG900913=X,V.EPSG4326=Cn,V.Simple=kn;var On=I.extend({options:{pane:\"overlayPane\",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once(\"remove\",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire(\"add\"),e.fire(\"layeradd\",{layer:this})}}});Ye.include({addLayer:function(t){if(!t._layerAdd)throw new Error(\"The provided object is not a Layer.\");var e=a(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=a(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire(\"layerremove\",{layer:t}),t.fire(\"remove\")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&a(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?v(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=a(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire(\"zoomlevelschange\"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Mn=On.extend({initialize:function(t,e){var n,i;if(p(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke(\"setZIndex\",t)},getLayerId:function(t){return a(t)}}),Ln=Mn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Mn.prototype.addLayer.call(this,t),this.fire(\"layeradd\",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Mn.prototype.removeLayer.call(this,t),this.fire(\"layerremove\",{layer:t})):this},setStyle:function(t){return this.invoke(\"setStyle\",t)},bringToFront:function(){return this.invoke(\"bringToFront\")},bringToBack:function(){return this.invoke(\"bringToBack\")},getBounds:function(){var t=new N;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Sn=P.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){p(this,t)},createIcon:function(t){return this._createIcon(\"icon\",t)},createShadow:function(t){return this._createIcon(\"shadow\",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if(\"icon\"===t)throw new Error(\"iconUrl not set in Icon options (see the docs).\");return null}var i=this._createImg(n,e&&\"IMG\"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+\"Size\"];\"number\"==typeof i&&(i=[i,i]);var o=D(i),r=D(\"shadow\"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className=\"leaflet-marker-\"+e+\" \"+(n.className||\"\"),r&&(t.style.marginLeft=-r.x+\"px\",t.style.marginTop=-r.y+\"px\"),o&&(t.style.width=o.x+\"px\",t.style.height=o.y+\"px\")},_createImg:function(t,e){return(e=e||document.createElement(\"img\")).src=t,e},_getIconUrl:function(t){return Ot&&this.options[t+\"RetinaUrl\"]||this.options[t+\"Url\"]}}),Pn=Sn.extend({options:{iconUrl:\"marker-icon.png\",iconRetinaUrl:\"marker-icon-2x.png\",shadowUrl:\"marker-shadow.png\",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Pn.imagePath||(Pn.imagePath=this._detectIconPath()),(this.options.imagePath||Pn.imagePath)+Sn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=oe(\"div\",\"leaflet-default-icon-path\",document.body),e=ie(t,\"background-image\")||ie(t,\"backgroundImage\");return document.body.removeChild(t),null===e||0!==e.indexOf(\"url\")?\"\":e.replace(/^url\\([\"']?/,\"\").replace(/marker-icon\\.png[\"']?\\)$/,\"\")}}),Tn=tn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new sn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),he(t,\"leaflet-marker-draggable\")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ce(this._marker._icon,\"leaflet-marker-draggable\")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=ye(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),l=R(a.min._subtract(s).add(o),a.max._subtract(s).subtract(o));if(!l.contains(r)){var u=D((Math.max(l.max.x,r.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,r.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,r.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,r.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(i);n.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),ve(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=O(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire(\"movestart\").fire(\"dragstart\")},_onPreDrag:function(t){this._marker.options.autoPan&&(M(this._panRequest),this._panRequest=O(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=ye(e._icon),o=e._map.layerPointToLatLng(i);n&&ve(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire(\"move\",t).fire(\"drag\",t)},_onDragEnd:function(t){M(this._panRequest),delete this._oldLatLng,this._marker.fire(\"moveend\").fire(\"dragend\",t)}}),In=On.extend({options:{icon:new Pn,interactive:!0,keyboard:!0,title:\"\",alt:\"\",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:\"markerPane\",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){p(this,e),this._latlng=j(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on(\"zoomanim\",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off(\"zoomanim\",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.update(),this.fire(\"move\",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e=\"leaflet-zoom-\"+(this._zoomAnimated?\"animated\":\"hide\"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),\"IMG\"===n.tagName&&(n.alt=t.alt||\"\")),he(n,e),t.keyboard&&(n.tabIndex=\"0\"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(he(o,e),o.alt=\"\"),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane(\"shadowPane\").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),re(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&re(this._shadow),this._shadow=null},_setPos:function(t){ve(this._icon,t),this._shadow&&ve(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(he(this._icon,\"leaflet-interactive\"),this.addInteractiveTarget(this._icon),Tn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Tn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;fe(this._icon,t),this._shadow&&fe(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),An=On.extend({options:{stroke:!0,color:\"#3388ff\",weight:3,opacity:1,lineCap:\"round\",lineJoin:\"round\",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:\"evenodd\",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return p(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),zn=An.extend({options:{fill:!0,radius:10},initialize:function(t,e){p(this,e),this._latlng=j(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=j(t),this.redraw(),this.fire(\"move\",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return An.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new E(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Dn=zn.extend({initialize:function(t,e,i){if(\"number\"==typeof e&&(e=n({},i,{radius:e})),p(this,e),this._latlng=j(t),isNaN(this.options.radius))throw new Error(\"Circle radius cannot be NaN\");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new N(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:An.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===G.distance){var o=Math.PI/180,r=this._mRadius/G.R/o,a=n.project([e+r,t]),s=n.project([e-r,t]),l=a.add(s).divideBy(2),u=n.unproject(l).lat,h=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(u*o))/(Math.cos(e*o)*Math.cos(u*o)))/o;(isNaN(h)||0===h)&&(h=r/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(h)?0:l.x-n.project([u,t-h]).x,this._radiusY=l.y-a.y}else{var c=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(c).x}this._updateBounds()}}),En=An.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){p(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,r=pn,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],u=1,h=l.length;u<h;u++){var c=r(t,e=l[u-1],n=l[u],!0);c<i&&(i=c,o=r(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error(\"Must add layer to map before using getCenter()\");var t,e,n,i,o,r,a,s=this._rings[0],l=s.length;if(!l)return null;for(t=0,e=0;t<l-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,i=0;t<l-1;t++)if((i+=n=(o=s[t]).distanceTo(r=s[t+1]))>e)return this._map.layerPointToLatLng([r.x-(a=(i-e)/n)*(r.x-o.x),r.y-a*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=j(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new N,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return fn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=fn(t),i=0,o=t.length;i<o;i++)n?(e[i]=j(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new E;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new A(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var i,o,r=t.length;if(t[0]instanceof F){for(o=[],i=0;i<r;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<r;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,o,r,a,s,l=this._parts;for(e=0,i=0,o=this._rings.length;e<o;e++)for(n=0,r=(s=this._rings[e]).length;n<r-1;n++)(a=hn(s[n],s[n+1],t,n,!0))&&(l[i]=l[i]||[],l[i].push(a[0]),a[1]===s[n+1]&&n!==r-2||(l[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=ln(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,o,r,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,r=this._parts.length;n<r;n++)for(i=0,o=(a=(s=this._parts[n]).length)-1;i<a;o=i++)if((e||0!==i)&&un(t,s[o],s[i])<=l)return!0;return!1}});En._flat=gn;var Rn=En.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error(\"Must add layer to map before using getCenter()\");var t,e,n,i,o,r,a,s,l=this._rings[0],u=l.length;if(!u)return null;for(r=a=s=0,t=0,e=u-1;t<u;e=t++)a+=((n=l[t]).x+(i=l[e]).x)*(o=n.y*i.x-i.y*n.x),s+=(n.y+i.y)*o,r+=3*o;return this._map.layerPointToLatLng(0===r?l[0]:[a/r,s/r])},_convertLatLngs:function(t){var e=En.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof F&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){En.prototype._setLatLngs.call(this,t),fn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return fn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new A(e,e);if(t=new E(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,o=0,r=this._rings.length;o<r;o++)(i=vn(this._rings[o],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,o,r,a,s,l,u=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,s=this._parts.length;o<s;o++)for(r=0,a=(l=(e=this._parts[o]).length)-1;r<l;a=r++)(n=e[r]).y>t.y!=(i=e[a]).y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(u=!u);return u||En.prototype._containsPoint.call(this,t,!0)}}),Nn=Ln.extend({initialize:function(t,e){p(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=v(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)((i=o[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var a=Bn(t,r);return a?(a.feature=Hn(t),a.defaultOptions=a.options,this.resetStyle(a),r.onEachFeature&&r.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){\"function\"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}});function Bn(t,e){var n,i,o,r,a=\"Feature\"===t.type?t.geometry:t,s=a?a.coordinates:null,l=[],u=e&&e.pointToLayer,h=e&&e.coordsToLatLng||Fn;if(!s&&!a)return null;switch(a.type){case\"Point\":return n=h(s),u?u(t,n):new In(n);case\"MultiPoint\":for(o=0,r=s.length;o<r;o++)n=h(s[o]),l.push(u?u(t,n):new In(n));return new Ln(l);case\"LineString\":case\"MultiLineString\":return i=jn(s,\"LineString\"===a.type?0:1,h),new En(i,e);case\"Polygon\":case\"MultiPolygon\":return i=jn(s,\"Polygon\"===a.type?1:2,h),new Rn(i,e);case\"GeometryCollection\":for(o=0,r=a.geometries.length;o<r;o++){var c=Bn({geometry:a.geometries[o],type:\"Feature\",properties:t.properties},e);c&&l.push(c)}return new Ln(l);default:throw new Error(\"Invalid GeoJSON object.\")}}function Fn(t){return new F(t[1],t[0],t[2])}function jn(t,e,n){for(var i,o=[],r=0,a=t.length;r<a;r++)i=e?jn(t[r],e-1,n):(n||Fn)(t[r]),o.push(i);return o}function Un(t,e){return e=\"number\"==typeof e?e:6,void 0!==t.alt?[h(t.lng,e),h(t.lat,e),h(t.alt,e)]:[h(t.lng,e),h(t.lat,e)]}function Vn(t,e,n,i){for(var o=[],r=0,a=t.length;r<a;r++)o.push(e?Vn(t[r],e-1,n,i):Un(t[r],i));return!e&&n&&o.push(o[0]),o}function Gn(t,e){return t.feature?n({},t.feature,{geometry:e}):Hn(e)}function Hn(t){return\"Feature\"===t.type||\"FeatureCollection\"===t.type?t:{type:\"Feature\",properties:{},geometry:t}}var Zn={toGeoJSON:function(t){return Gn(this,{type:\"Point\",coordinates:Un(this.getLatLng(),t)})}};function Wn(t,e){return new Nn(t,e)}In.include(Zn),Dn.include(Zn),zn.include(Zn),En.include({toGeoJSON:function(t){var e=!fn(this._latlngs);return Gn(this,{type:(e?\"Multi\":\"\")+\"LineString\",coordinates:Vn(this._latlngs,e?1:0,!1,t)})}}),Rn.include({toGeoJSON:function(t){var e=!fn(this._latlngs),n=e&&!fn(this._latlngs[0]),i=Vn(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),Gn(this,{type:(n?\"Multi\":\"\")+\"Polygon\",coordinates:i})}}),Mn.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),Gn(this,{type:\"MultiPoint\",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(\"MultiPoint\"===e)return this.toMultiPoint(t);var n=\"GeometryCollection\"===e,i=[];return this.eachLayer(function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(n)i.push(o.geometry);else{var r=Hn(o);\"FeatureCollection\"===r.type?i.push.apply(i,r.features):i.push(r)}}}),n?Gn(this,{geometries:i,type:\"GeometryCollection\"}):{type:\"FeatureCollection\",features:i}}});var Yn=Wn,Xn=On.extend({options:{opacity:1,alt:\"\",interactive:!1,crossOrigin:!1,errorOverlayUrl:\"\",zIndex:1,className:\"\"},initialize:function(t,e,n){this._url=t,this._bounds=B(e),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(he(this._image,\"leaflet-interactive\"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){re(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&se(this._image),this},bringToBack:function(){return this._map&&le(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=B(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=\"IMG\"===this._url.tagName,e=this._image=t?this._url:oe(\"img\");he(e,\"leaflet-image-layer\"),this._zoomAnimated&&he(e,\"leaflet-zoom-animated\"),this.options.className&&he(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onload=o(this.fire,this,\"load\"),e.onerror=o(this._overlayOnError,this,\"error\"),(this.options.crossOrigin||\"\"===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?\"\":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;me(this._image,n,e)},_reset:function(){var t=this._image,e=new E(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();ve(t,e.min),t.style.width=n.x+\"px\",t.style.height=n.y+\"px\"},_updateOpacity:function(){fe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire(\"error\");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),$n=Xn.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t=\"VIDEO\"===this._url.tagName,e=this._image=t?this._url:oe(\"video\");if(he(e,\"leaflet-image-layer\"),this._zoomAnimated&&he(e,\"leaflet-zoom-animated\"),e.onselectstart=u,e.onmousemove=u,e.onloadeddata=o(this.fire,this,\"load\"),t){for(var n=e.getElementsByTagName(\"source\"),i=[],r=0;r<n.length;r++)i.push(n[r].src);this._url=n.length>0?i:[e.src]}else{v(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var s=oe(\"source\");s.src=this._url[a],e.appendChild(s)}}}}),Kn=On.extend({options:{offset:[0,7],className:\"\",pane:\"popupPane\"},initialize:function(t,e){p(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&fe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&fe(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(fe(this._container,0),this._removeTimeout=setTimeout(o(re,void 0,this._container),200)):re(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=j(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility=\"hidden\",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility=\"\",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&se(this._container),this},bringToBack:function(){return this._map&&le(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e=\"function\"==typeof this._content?this._content(this._source||this):this._content;if(\"string\"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire(\"contentupdate\")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=D(this.options.offset),n=this._getAnchor();this._zoomAnimated?ve(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+\"px\",this._container.style.left=o+\"px\"}},_getAnchor:function(){return[0,0]}}),qn=Kn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:\"\"},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Kn.prototype.onAdd.call(this,t),t.fire(\"popupopen\",{popup:this}),this._source&&(this._source.fire(\"popupopen\",{popup:this},!0),this._source instanceof An||this._source.on(\"preclick\",Ae))},onRemove:function(t){Kn.prototype.onRemove.call(this,t),t.fire(\"popupclose\",{popup:this}),this._source&&(this._source.fire(\"popupclose\",{popup:this},!0),this._source instanceof An||this._source.off(\"preclick\",Ae))},getEvents:function(){var t=Kn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t=\"leaflet-popup\",e=this._container=oe(\"div\",t+\" \"+(this.options.className||\"\")+\" leaflet-zoom-animated\"),n=this._wrapper=oe(\"div\",t+\"-content-wrapper\",e);if(this._contentNode=oe(\"div\",t+\"-content\",n),De(n),ze(this._contentNode),Le(n,\"contextmenu\",Ae),this._tipContainer=oe(\"div\",t+\"-tip-container\",e),this._tip=oe(\"div\",t+\"-tip\",this._tipContainer),this.options.closeButton){var i=this._closeButton=oe(\"a\",t+\"-close-button\",e);i.href=\"#close\",i.innerHTML=\"&#215;\",Le(i,\"click\",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width=\"\",e.whiteSpace=\"nowrap\";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+\"px\",e.whiteSpace=\"\",e.height=\"\";var i=this.options.maxHeight;i&&t.offsetHeight>i?(e.height=i+\"px\",he(t,\"leaflet-popup-scrolled\")):ce(t,\"leaflet-popup-scrolled\"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();ve(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(ie(this._container,\"marginBottom\"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new A(this._containerLeft,-n-this._containerBottom);o._add(ye(this._container));var r=t.layerPointToContainerPoint(o),a=D(this.options.autoPanPadding),s=D(this.options.autoPanPaddingTopLeft||a),l=D(this.options.autoPanPaddingBottomRight||a),u=t.getSize(),h=0,c=0;r.x+i+l.x>u.x&&(h=r.x+i-u.x+l.x),r.x-h-s.x<0&&(h=r.x-s.x),r.y+n+l.y>u.y&&(c=r.y+n-u.y+l.y),r.y-c-s.y<0&&(c=r.y-s.y),(h||c)&&t.fire(\"autopanstart\").panBy([h,c])}},_onCloseButtonClick:function(t){this._close(),Re(t)},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ye.mergeOptions({closePopupOnClick:!0}),Ye.include({openPopup:function(t,e,n){return t instanceof qn||(t=new qn(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),On.include({bindPopup:function(t,e){return t instanceof qn?(p(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new qn(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof On||(e=t,t=this),t instanceof Ln)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(Re(t),e instanceof An?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Jn=Kn.extend({options:{pane:\"tooltipPane\",offset:[0,0],direction:\"auto\",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Kn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire(\"tooltipopen\",{tooltip:this}),this._source&&this._source.fire(\"tooltipopen\",{tooltip:this},!0)},onRemove:function(t){Kn.prototype.onRemove.call(this,t),t.fire(\"tooltipclose\",{tooltip:this}),this._source&&this._source.fire(\"tooltipclose\",{tooltip:this},!0)},getEvents:function(){var t=Kn.prototype.getEvents.call(this);return wt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=oe(\"div\",\"leaflet-tooltip \"+(this.options.className||\"\")+\" leaflet-zoom-\"+(this._zoomAnimated?\"animated\":\"hide\"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),r=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,l=D(this.options.offset),u=this._getAnchor();\"top\"===r?t=t.add(D(-a/2+l.x,-s+l.y+u.y,!0)):\"bottom\"===r?t=t.subtract(D(a/2-l.x,-l.y,!0)):\"center\"===r?t=t.subtract(D(a/2+l.x,s/2-u.y+l.y,!0)):\"right\"===r||\"auto\"===r&&o.x<i.x?(r=\"right\",t=t.add(D(l.x+u.x,u.y-s/2+l.y,!0))):(r=\"left\",t=t.subtract(D(a+u.x-l.x,s/2-u.y-l.y,!0))),ce(n,\"leaflet-tooltip-right\"),ce(n,\"leaflet-tooltip-left\"),ce(n,\"leaflet-tooltip-top\"),ce(n,\"leaflet-tooltip-bottom\"),he(n,\"leaflet-tooltip-\"+r),ve(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&fe(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ye.include({openTooltip:function(t,e,n){return t instanceof Jn||(t=new Jn(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),On.include({bindTooltip:function(t,e){return t instanceof Jn?(p(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new Jn(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?\"off\":\"on\",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),wt&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof On||(e=t,t=this),t instanceof Ln)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(he(this._tooltip._container,\"leaflet-clickable\"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(ce(this._tooltip._container,\"leaflet-clickable\"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){this._tooltip&&this._map&&this.openTooltip(t.layer||t.target,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Qn=Sn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:\"leaflet-div-icon\"},createIcon:function(t){var e=t&&\"DIV\"===t.tagName?t:document.createElement(\"div\"),n=this.options;if(e.innerHTML=!1!==n.html?n.html:\"\",n.bgPos){var i=D(n.bgPos);e.style.backgroundPosition=-i.x+\"px \"+-i.y+\"px\"}return this._setIconStyles(e,\"icon\"),e},createShadow:function(){return null}});Sn.Default=Pn;var ti=On.extend({options:{tileSize:256,opacity:1,updateWhenIdle:vt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:\"tilePane\",className:\"\",keepBuffer:2},initialize:function(t){p(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),re(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(se(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement(\"div\")},getTileSize:function(){var t=this.options.tileSize;return t instanceof A?t:new A(t,t)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),o=0,r=n.length;o<r;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Q){fe(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);fe(o.el,r),r<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(M(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=oe(\"div\",\"leaflet-layer \"+(this.options.className||\"\")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(re(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||((i=this._levels[t]={}).el=oe(\"div\",\"leaflet-tile-container leaflet-zoom-animated\",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)re(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),r=Math.floor(e/2),a=n-1,s=new A(+o,+r);s.z=+a;var l=this._tileCoordsToKey(s),u=this._tiles[l];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),a>i&&this._retainParent(o,r,a,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var a=new A(o,r);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(o,r,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var o=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0),i&&!(this.options.updateWhenZooming&&o!==this._tileZoom)||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();mt?me(t.el,o,i):ve(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*i);return new E(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),r=o.getCenter(),a=[],s=this.options.keepBuffer,l=new E(o.getBottomLeft().subtract([s,-s]),o.getTopRight().add([s,-s]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error(\"Attempted to load an infinite number of tiles\");for(var u in this._tiles){var h=this._tiles[u].coords;h.z===this._tileZoom&&l.contains(new A(h.x,h.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var c=o.min.y;c<=o.max.y;c++)for(var d=o.min.x;d<=o.max.x;d++){var p=new A(d,c);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:a.push(p)}}if(a.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)}),0!==a.length){this._loading||(this._loading=!0,this.fire(\"loading\"));var g=document.createDocumentFragment();for(d=0;d<a.length;d++)this._addTile(a[d],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return B(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n);return[e.unproject(i,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new N(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+\":\"+t.y+\":\"+t.z},_keyToTileCoords:function(t){var e=t.split(\":\"),n=new A(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(re(e.el),delete this._tiles[t],this.fire(\"tileunload\",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){he(t,\"leaflet-tile\");var e=this.getTileSize();t.style.width=e.x+\"px\",t.style.height=e.y+\"px\",t.onselectstart=u,t.onmousemove=u,Q&&this.options.opacity<1&&fe(t,this.options.opacity),nt&&!it&&(t.style.WebkitBackfaceVisibility=\"hidden\")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),o(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&O(o(this._tileReady,this,t,null,r)),ve(r,n),this._tiles[i]={el:r,coords:t,current:!0},e.appendChild(r),this.fire(\"tileloadstart\",{tile:r,coords:t})},_tileReady:function(t,e,n){e&&this.fire(\"tileerror\",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(fe(n.el,0),M(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(he(n.el,\"leaflet-tile-loaded\"),this.fire(\"tileload\",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire(\"load\"),Q||!this._map._fadeAnimated?O(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new A(this._wrapX?l(t.x,this._wrapX):t.x,this._wrapY?l(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new E(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),ei=ti.extend({options:{minZoom:0,maxZoom:18,subdomains:\"abc\",errorTileUrl:\"\",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=p(this,e)).detectRetina&&Ot&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),\"string\"==typeof e.subdomains&&(e.subdomains=e.subdomains.split(\"\")),nt||this.on(\"tileunload\",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement(\"img\");return Le(n,\"load\",o(this._tileOnLoad,this,e,n)),Le(n,\"error\",o(this._tileOnError,this,e,n)),(this.options.crossOrigin||\"\"===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?\"\":this.options.crossOrigin),n.alt=\"\",n.setAttribute(\"role\",\"presentation\"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Ot?\"@2x\":\"\",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e[\"-y\"]=i}return m(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Q?setTimeout(o(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute(\"src\")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom;return this.options.zoomReverse&&(t=this.options.maxZoom-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=u,e.onerror=u,e.complete||(e.src=_,re(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return rt||e.el.setAttribute(\"src\",_),ti.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute(\"src\")!==_))return ti.prototype._tileReady.call(this,t,e,n)}});function ni(t,e){return new ei(t,e)}var ii=ei.extend({defaultWmsParams:{service:\"WMS\",request:\"GetMap\",layers:\"\",styles:\"\",format:\"image/jpeg\",transparent:!1,version:\"1.1.1\"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var o in e)o in this.options||(i[o]=e[o]);var r=(e=p(this,e)).detectRetina&&Ot?2:1,a=this.getTileSize();i.width=a.x*r,i.height=a.y*r,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?\"crs\":\"srs\"]=this._crs.code,ei.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=R(n.project(e[0]),n.project(e[1])),o=i.min,r=i.max,a=(this._wmsVersion>=1.3&&this._crs===Cn?[o.y,o.x,r.y,r.x]:[o.x,o.y,r.x,r.y]).join(\",\"),s=ei.prototype.getTileUrl.call(this,t);return s+f(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?\"&BBOX=\":\"&bbox=\")+a},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});ei.WMS=ii,ni.wms=function(t,e){return new ii(t,e)};var oi=On.extend({options:{padding:.1,tolerance:0},initialize:function(t){p(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&he(this._container,\"leaflet-zoom-animated\")),this.getPane().appendChild(this._container),this._update(),this.on(\"update\",this._updatePaths,this)},onRemove:function(){this.off(\"update\",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=ye(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),a=this._map.project(t,e).subtract(r),s=o.multiplyBy(-n).add(i).add(o).subtract(a);mt?me(this._container,s,n):ve(this._container,s)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new E(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ri=oi.extend({getEvents:function(){var t=oi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){oi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement(\"canvas\");Le(t,\"mousemove\",s(this._onMouseMove,32,this),this),Le(t,\"click dblclick mousedown mouseup contextmenu\",this._onClick,this),Le(t,\"mouseout\",this._handleMouseOut,this),this._ctx=t.getContext(\"2d\")},_destroyContainer:function(){M(this._redrawRequest),delete this._ctx,re(this._container),Pe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){oi.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Ot?2:1;ve(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+\"px\",e.style.height=n.y+\"px\",Ot&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire(\"update\")}},_reset:function(){oi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[a(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[a(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(\"string\"==typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),o=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||O(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new E,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,r,a=t._parts,s=a.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(i=0,o=a[n].length;i<o;i++)l[i?\"lineTo\":\"moveTo\"]((r=a[n][i]).x,r.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||\"evenodd\")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(Ve(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ce(this._container,\"leaflet-interactive\"),this._fireEvent([e],t,\"mouseout\"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,i,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(he(this._container,\"leaflet-interactive\"),this._fireEvent([i],t,\"mouseover\"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function ai(t){return Mt?new ri(t):null}var si=function(){try{return document.namespaces.add(\"lvml\",\"urn:schemas-microsoft-com:vml\"),function(t){return document.createElement(\"<lvml:\"+t+' class=\"lvml\">')}}catch(t){return function(t){return document.createElement(\"<\"+t+' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"lvml\">')}}}(),li={_initContainer:function(){this._container=oe(\"div\",\"leaflet-vml-container\")},_update:function(){this._map._animatingZoom||(oi.prototype._update.call(this),this.fire(\"update\"))},_initPath:function(t){var e=t._container=si(\"shape\");he(e,\"leaflet-vml-shape \"+(this.options.className||\"\")),e.coordsize=\"1 1\",t._path=si(\"path\"),e.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;re(e),t.removeInteractiveTarget(e),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=si(\"stroke\")),o.appendChild(e),e.weight=i.weight+\"px\",e.color=i.color,e.opacity=i.opacity,e.dashStyle=i.dashArray?v(i.dashArray)?i.dashArray.join(\" \"):i.dashArray.replace(/( *, *)/g,\" \"):\"\",e.endcap=i.lineCap.replace(\"butt\",\"flat\"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=si(\"fill\")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?\"M0 0\":\"AL \"+e.x+\",\"+e.y+\" \"+n+\",\"+i+\" 0,23592600\")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){se(t._container)},_bringToBack:function(t){le(t._container)}},ui=St?si:$,hi=oi.extend({getEvents:function(){var t=oi.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=ui(\"svg\"),this._container.setAttribute(\"pointer-events\",\"none\"),this._rootGroup=ui(\"g\"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){re(this._container),Pe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){oi.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute(\"width\",e.x),n.setAttribute(\"height\",e.y)),ve(n,t.min),n.setAttribute(\"viewBox\",[t.min.x,t.min.y,e.x,e.y].join(\" \")),this.fire(\"update\")}},_initPath:function(t){var e=t._path=ui(\"path\");t.options.className&&he(e,t.options.className),t.options.interactive&&he(e,\"leaflet-interactive\"),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){re(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute(\"stroke\",n.color),e.setAttribute(\"stroke-opacity\",n.opacity),e.setAttribute(\"stroke-width\",n.weight),e.setAttribute(\"stroke-linecap\",n.lineCap),e.setAttribute(\"stroke-linejoin\",n.lineJoin),n.dashArray?e.setAttribute(\"stroke-dasharray\",n.dashArray):e.removeAttribute(\"stroke-dasharray\"),n.dashOffset?e.setAttribute(\"stroke-dashoffset\",n.dashOffset):e.removeAttribute(\"stroke-dashoffset\")):e.setAttribute(\"stroke\",\"none\"),n.fill?(e.setAttribute(\"fill\",n.fillColor||n.color),e.setAttribute(\"fill-opacity\",n.fillOpacity),e.setAttribute(\"fill-rule\",n.fillRule||\"evenodd\")):e.setAttribute(\"fill\",\"none\"))},_updatePoly:function(t,e){this._setPath(t,K(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i=\"a\"+n+\",\"+(Math.max(Math.round(t._radiusY),1)||n)+\" 0 1,0 \",o=t._empty()?\"M0 0\":\"M\"+(e.x-n)+\",\"+e.y+i+2*n+\",0 \"+i+2*-n+\",0 \";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute(\"d\",e)},_bringToFront:function(t){se(t._path)},_bringToBack:function(t){le(t._path)}});function ci(t){return Lt||St?new hi(t):null}St&&hi.include(li),Ye.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(\"overlayPane\"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&ai(t)||ci(t)}});var di=Rn.extend({initialize:function(t,e){Rn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=B(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});hi.create=ui,hi.pointsToPath=K,Nn.geometryToLayer=Bn,Nn.coordsToLatLng=Fn,Nn.coordsToLatLngs=jn,Nn.latLngToCoords=Un,Nn.latLngsToCoords=Vn,Nn.getFeature=Gn,Nn.asFeature=Hn,Ye.mergeOptions({boxZoom:!0});var pi=tn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on(\"unload\",this._destroy,this)},addHooks:function(){Le(this._container,\"mousedown\",this._onMouseDown,this)},removeHooks:function(){Pe(this._container,\"mousedown\",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){re(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Xt(),be(),this._startPoint=this._map.mouseEventToContainerPoint(t),Le(document,{contextmenu:Re,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=oe(\"div\",\"leaflet-zoom-box\",this._container),he(this._container,\"leaflet-crosshair\"),this._map.fire(\"boxzoomstart\")),this._point=this._map.mouseEventToContainerPoint(t);var e=new E(this._point,this._startPoint),n=e.getSize();ve(this._box,e.min),this._box.style.width=n.x+\"px\",this._box.style.height=n.y+\"px\"},_finish:function(){this._moved&&(re(this._box),ce(this._container,\"leaflet-crosshair\")),$t(),xe(),Pe(document,{contextmenu:Re,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var e=new N(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire(\"boxzoomend\",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ye.addInitHook(\"addHandler\",\"boxZoom\",pi),Ye.mergeOptions({doubleClickZoom:!0});var fi=tn.extend({addHooks:function(){this._map.on(\"dblclick\",this._onDoubleClick,this)},removeHooks:function(){this._map.off(\"dblclick\",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;\"center\"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});Ye.addInitHook(\"addHandler\",\"doubleClickZoom\",fi),Ye.mergeOptions({dragging:!0,inertia:!it,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var gi=tn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new sn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on(\"predrag\",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on(\"predrag\",this._onPreDragWrap,this),t.on(\"zoomend\",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}he(this._map._container,\"leaflet-grab leaflet-touch-drag\"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ce(this._map._container,\"leaflet-grab\"),ce(this._map._container,\"leaflet-touch-drag\"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=B(this._map.options.maxBounds);this._offsetLimit=R(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire(\"movestart\").fire(\"dragstart\"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire(\"move\",t).fire(\"drag\",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,r=(i+e+n)%t-e-n,a=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire(\"dragend\",t),i)e.fire(\"moveend\");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),r=n.easeLinearity,a=o.multiplyBy(r/((this._lastTime-this._times[0])/1e3)),s=a.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,s),u=a.multiplyBy(l/s),h=l/(n.inertiaDeceleration*r),c=u.multiplyBy(-h/2).round();c.x||c.y?(c=e._limitOffset(c,e.options.maxBounds),O(function(){e.panBy(c,{duration:h,easeLinearity:r,noMoveStart:!0,animate:!0})})):e.fire(\"moveend\")}}});Ye.addInitHook(\"addHandler\",\"dragging\",gi),Ye.mergeOptions({keyboard:!0,keyboardPanDelta:80});var mi=tn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex=\"0\"),Le(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire(\"focus\")},_onBlur:function(){this._focused=!1,this._map.fire(\"blur\")},_setPanDelta:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)i[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){Le(document,\"keydown\",this._onKeyDown,this)},_removeHooks:function(){Pe(document,\"keydown\",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=D(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Re(t)}}});Ye.addInitHook(\"addHandler\",\"keyboard\",mi),Ye.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var vi=tn.extend({addHooks:function(){Le(this._map._container,\"mousewheel\",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pe(this._map._container,\"mousewheel\",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Fe(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),i),Re(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,r=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,r&&(\"center\"===t.options.scrollWheelZoom?t.setZoom(e+r):t.setZoomAround(this._lastMousePos,e+r))}});Ye.addInitHook(\"addHandler\",\"scrollWheelZoom\",vi),Ye.mergeOptions({tap:!0,tapTolerance:15});var yi=tn.extend({addHooks:function(){Le(this._map._container,\"touchstart\",this._onDown,this)},removeHooks:function(){Pe(this._map._container,\"touchstart\",this._onDown,this)},_onDown:function(t){if(t.touches){if(Ee(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new A(e.clientX,e.clientY),n.tagName&&\"a\"===n.tagName.toLowerCase()&&he(n,\"leaflet-active\"),this._holdTimeout=setTimeout(o(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent(\"contextmenu\",e))},this),1e3),this._simulateEvent(\"mousedown\",e),Le(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Pe(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&\"a\"===n.tagName.toLowerCase()&&ce(n,\"leaflet-active\"),this._simulateEvent(\"mouseup\",e),this._isTapValid()&&this._simulateEvent(\"click\",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new A(e.clientX,e.clientY),this._simulateEvent(\"mousemove\",e)},_simulateEvent:function(t,e){var n=document.createEvent(\"MouseEvents\");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});wt&&!xt&&Ye.addInitHook(\"addHandler\",\"tap\",yi),Ye.mergeOptions({touchZoom:wt&&!it,bounceAtZoomLimits:!0});var _i=tn.extend({addHooks:function(){he(this._map._container,\"leaflet-touch-zoom\"),Le(this._map._container,\"touchstart\",this._onTouchStart,this)},removeHooks:function(){ce(this._map._container,\"leaflet-touch-zoom\"),Pe(this._map._container,\"touchstart\",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),\"center\"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Le(document,\"touchmove\",this._onTouchMove,this),Le(document,\"touchend\",this._onTouchEnd,this),Ee(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),r=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)&&(this._zoom=e._limitZoom(this._zoom)),\"center\"===e.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var a=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),M(this._animRequest);var s=o(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=O(s,this,!0),Ee(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,M(this._animRequest),Pe(document,\"touchmove\",this._onTouchMove),Pe(document,\"touchend\",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ye.addInitHook(\"addHandler\",\"touchZoom\",_i),Ye.BoxZoom=pi,Ye.DoubleClickZoom=fi,Ye.Drag=gi,Ye.Keyboard=mi,Ye.ScrollWheelZoom=vi,Ye.Tap=yi,Ye.TouchZoom=_i,Object.freeze=e,t.version=\"1.4.0\",t.Control=Xe,t.control=$e,t.Browser=Tt,t.Evented=I,t.Mixin=nn,t.Util=S,t.Class=P,t.Handler=tn,t.extend=n,t.bind=o,t.stamp=a,t.setOptions=p,t.DomEvent=Ze,t.DomUtil=Me,t.PosAnimation=We,t.Draggable=sn,t.LineUtil=mn,t.PolyUtil=yn,t.Point=A,t.point=D,t.Bounds=E,t.bounds=R,t.Transformation=Z,t.transformation=W,t.Projection=xn,t.LatLng=F,t.latLng=j,t.LatLngBounds=N,t.latLngBounds=B,t.CRS=V,t.GeoJSON=Nn,t.geoJSON=Wn,t.geoJson=Yn,t.Layer=On,t.LayerGroup=Mn,t.layerGroup=function(t,e){return new Mn(t,e)},t.FeatureGroup=Ln,t.featureGroup=function(t){return new Ln(t)},t.ImageOverlay=Xn,t.imageOverlay=function(t,e,n){return new Xn(t,e,n)},t.VideoOverlay=$n,t.videoOverlay=function(t,e,n){return new $n(t,e,n)},t.DivOverlay=Kn,t.Popup=qn,t.popup=function(t,e){return new qn(t,e)},t.Tooltip=Jn,t.tooltip=function(t,e){return new Jn(t,e)},t.Icon=Sn,t.icon=function(t){return new Sn(t)},t.DivIcon=Qn,t.divIcon=function(t){return new Qn(t)},t.Marker=In,t.marker=function(t,e){return new In(t,e)},t.TileLayer=ei,t.tileLayer=ni,t.GridLayer=ti,t.gridLayer=function(t){return new ti(t)},t.SVG=hi,t.svg=ci,t.Renderer=oi,t.Canvas=ri,t.canvas=ai,t.Path=An,t.CircleMarker=zn,t.circleMarker=function(t,e){return new zn(t,e)},t.Circle=Dn,t.circle=function(t,e,n){return new Dn(t,e,n)},t.Polyline=En,t.polyline=function(t,e){return new En(t,e)},t.Polygon=Rn,t.polygon=function(t,e){return new Rn(t,e)},t.Rectangle=di,t.rectangle=function(t,e){return new di(t,e)},t.Map=Ye,t.map=function(t,e){return new Ye(t,e)};var bi=window.L;t.noConflict=function(){return window.L=bi,this},window.L=t}(e)},\"4bvL\":function(t,e,n){\"use strict\";var i=n(\"9aYe\"),o=n(\"Mi3D\"),r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";e.encode=function(t){for(var e,n,o,a,s,l,u=[],h=0,c=t.length,d=c,p=\"string\"!==i.getTypeOf(t);h<t.length;)d=c-h,p?(e=t[h++],n=h<c?t[h++]:0,o=h<c?t[h++]:0):(e=t.charCodeAt(h++),n=h<c?t.charCodeAt(h++):0,o=h<c?t.charCodeAt(h++):0),a=(3&e)<<4|n>>4,s=d>1?(15&n)<<2|o>>6:64,l=d>2?63&o:64,u.push(r.charAt(e>>2)+r.charAt(a)+r.charAt(s)+r.charAt(l));return u.join(\"\")},e.decode=function(t){var e,n,i,a,s,l,u=0,h=0;if(\"data:\"===t.substr(0,\"data:\".length))throw new Error(\"Invalid base64 input, it looks like a data url.\");var c,d=3*(t=t.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\")).length/4;if(t.charAt(t.length-1)===r.charAt(64)&&d--,t.charAt(t.length-2)===r.charAt(64)&&d--,d%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(c=o.uint8array?new Uint8Array(0|d):new Array(0|d);u<t.length;)i=r.indexOf(t.charAt(u++)),e=(15&(a=r.indexOf(t.charAt(u++))))<<4|(s=r.indexOf(t.charAt(u++)))>>2,n=(3&s)<<6|(l=r.indexOf(t.charAt(u++))),c[h++]=i<<2|a>>4,64!==s&&(c[h++]=e),64!==l&&(c[h++]=n);return c}},\"5B4H\":function(t,e,n){var i,o,r,a=n(\"G1OC\"),s=n(\"j9Ww\"),l=n(\"FuvK\"),u=n(\"/Xau\"),h=n(\"FpKF\"),c=h.process,d=h.setImmediate,p=h.clearImmediate,f=h.MessageChannel,g=0,m={},v=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},y=function(t){v.call(t.data)};d&&p||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++g]=function(){s(\"function\"==typeof t?t:Function(t),e)},i(g),g},p=function(t){delete m[t]},\"process\"==n(\"QnLI\")(c)?i=function(t){c.nextTick(a(v,t,1))}:f?(r=(o=new f).port2,o.port1.onmessage=y,i=a(r.postMessage,r,1)):h.addEventListener&&\"function\"==typeof postMessage&&!h.importScripts?(i=function(t){h.postMessage(t+\"\",\"*\")},h.addEventListener(\"message\",y,!1)):i=\"onreadystatechange\"in u(\"script\")?function(t){l.appendChild(u(\"script\")).onreadystatechange=function(){l.removeChild(this),v.call(t)}}:function(t){setTimeout(a(v,t,1),0)}),t.exports={set:d,clear:p}},\"6n/F\":function(t,e,n){var i,o,r;o=\"undefined\"!=typeof window?window:this,r=function(t){var e,n,i,o,r,a,s,l,u=(i=(e=void 0===t?window:t).navigator&&e.navigator.userAgent||\"\",o=(n=e.document)&&n.createElementNS&&!!n.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\").createSVGRect,r=/(edge|msie|trident)/i.test(i)&&!e.opera,a=-1!==i.indexOf(\"Firefox\"),s=-1!==i.indexOf(\"Chrome\"),l=a&&4>parseInt(i.split(\"Firefox/\")[1],10),e.Highcharts?e.Highcharts.error(16,!0):{product:\"Highcharts\",version:\"6.2.0\",deg2rad:2*Math.PI/360,doc:n,hasBidiBug:l,hasTouch:n&&void 0!==n.documentElement.ontouchstart,isMS:r,isWebKit:-1!==i.indexOf(\"AppleWebKit\"),isFirefox:a,isChrome:s,isSafari:!s&&-1!==i.indexOf(\"Safari\"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:\"http://www.w3.org/2000/svg\",chartCount:0,seriesTypes:{},symbolSizes:{},svg:o,win:e,marginNames:[\"plotTop\",\"marginRight\",\"marginBottom\",\"plotLeft\"],noop:function(){},charts:[]});!function(t){t.timers=[];var e=t.charts,n=t.doc,i=t.win;t.error=function(e,n){if(e=t.isNumber(e)?\"Highcharts error #\"+e+\": www.highcharts.com/errors/\"+e:e,n)throw Error(e);i.console&&console.log(e)},t.Fx=function(t,e,n){this.options=e,this.elem=t,this.prop=n},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],n=this.paths[1],i=[],o=this.now,r=e.length;if(1===o)i=this.toD;else if(r===n.length&&1>o)for(;r--;)t=parseFloat(e[r]),i[r]=isNaN(t)?n[r]:o*parseFloat(n[r]-t)+t;else i=n;this.elem.attr(\"d\",i,null,!0)},update:function(){var t=this.elem,e=this.prop,n=this.now,i=this.options.step;this[e+\"Setter\"]?this[e+\"Setter\"]():t.attr?t.element&&t.attr(e,n,null,!0):t.style[e]=n+this.unit,i&&i.call(t,n,this)},run:function(e,n,o){var r=this,a=r.options,s=function(t){return!s.stopped&&r.step(t)},l=i.requestAnimationFrame||function(t){setTimeout(t,13)},u=function(){for(var e=0;e<t.timers.length;e++)t.timers[e]()||t.timers.splice(e--,1);t.timers.length&&l(u)};e!==n||this.elem[\"forceAnimate:\"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=n,this.unit=o,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&1===t.timers.push(s)&&l(u)):(delete a.curAnim[this.prop],a.complete&&0===t.keys(a.curAnim).length&&a.complete.call(this.elem))},step:function(e){var n,i=+new Date,o=this.options,r=this.elem,a=o.complete,s=o.duration,l=o.curAnim;return r.attr&&!r.element?e=!1:e||i>=s+this.startTime?(this.now=this.end,this.pos=1,this.update(),n=l[this.prop]=!0,t.objectEach(l,function(t){!0!==t&&(n=!1)}),n&&a&&a.call(r),e=!1):(this.pos=o.easing((i-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},initPath:function(e,n,i){function o(t){var e,n;for(h=t.length;h--;)e=\"M\"===t[h]||\"L\"===t[h],n=/[a-zA-Z]/.test(t[h+3]),e&&n&&t.splice(h+1,0,t[h+1],t[h+2],t[h+1],t[h+2])}function r(t,e){for(;t.length<l;){t[0]=e[l-t.length];var n=t.slice(0,f);[].splice.apply(t,[0,0].concat(n)),m&&(n=t.slice(t.length-f),[].splice.apply(t,[t.length,0].concat(n)),h--)}t[0]=\"M\"}function a(t,e){for(var n=(l-t.length)/f;0<n&&n--;)(u=t.slice().splice(t.length/v-f,f*v))[0]=e[l-f-n*f],p&&(u[f-6]=u[f-2],u[f-5]=u[f-1]),[].splice.apply(t,[t.length/v,0].concat(u)),m&&n--}var s,l,u,h,c=e.startX,d=e.endX,p=-1<(n=n||\"\").indexOf(\"C\"),f=p?7:3;n=n.split(\" \"),i=i.slice();var g,m=e.isArea,v=m?2:1;if(p&&(o(n),o(i)),c&&d){for(h=0;h<c.length;h++){if(c[h]===d[0]){s=h;break}if(c[0]===d[d.length-c.length+h]){s=h,g=!0;break}}void 0===s&&(n=[])}return n.length&&t.isNumber(s)&&(l=i.length+s*v*f,g?(r(n,i),a(i,n)):(r(i,n),a(n,i))),[n,i]},fillSetter:function(){t.Fx.prototype.strokeSetter.apply(this,arguments)},strokeSetter:function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)}},t.merge=function(){var e,n,i=arguments,o={},r=function(e,n){return\"object\"!=typeof e&&(e={}),t.objectEach(n,function(i,o){e[o]=!t.isObject(i,!0)||t.isClass(i)||t.isDOMElement(i)?n[o]:r(e[o]||{},i)}),e};for(!0===i[0]&&(o=i[1],i=Array.prototype.slice.call(i,2)),n=i.length,e=0;e<n;e++)o=r(o,i[e]);return o},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return\"string\"==typeof t},t.isArray=function(t){return\"[object Array]\"===(t=Object.prototype.toString.call(t))||\"[object Array Iterator]\"===t},t.isObject=function(e,n){return!(!e||\"object\"!=typeof e||n&&t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&\"number\"==typeof e.nodeType},t.isClass=function(e){var n=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!n||!n.name||\"Object\"===n.name)},t.isNumber=function(t){return\"number\"==typeof t&&!isNaN(t)&&1/0>t&&-1/0<t},t.erase=function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},t.defined=function(t){return null!=t},t.attr=function(e,n,i){var o;return t.isString(n)?t.defined(i)?e.setAttribute(n,i):e&&e.getAttribute&&((o=e.getAttribute(n))||\"class\"!==n||(o=e.getAttribute(n+\"Name\"))):t.defined(n)&&t.isObject(n)&&t.objectEach(n,function(t,n){e.setAttribute(n,t)}),o},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,n){if(e)return setTimeout(t,e,n);t.call(0,n)},t.clearTimeout=function(e){t.defined(e)&&clearTimeout(e)},t.extend=function(t,e){var n;for(n in t||(t={}),e)t[n]=e[n];return t},t.pick=function(){var t,e,n=arguments,i=n.length;for(t=0;t<i;t++)if(null!=(e=n[t]))return e},t.css=function(e,n){t.isMS&&!t.svg&&n&&void 0!==n.opacity&&(n.filter=\"alpha(opacity=\"+100*n.opacity+\")\"),t.extend(e.style,n)},t.createElement=function(e,i,o,r,a){e=n.createElement(e);var s=t.css;return i&&t.extend(e,i),a&&s(e,{padding:0,border:\"none\",margin:0}),o&&s(e,o),r&&r.appendChild(e),e},t.extendClass=function(e,n){var i=function(){};return i.prototype=new e,t.extend(i.prototype,n),i},t.pad=function(t,e,n){return Array((e||2)+1-String(t).replace(\"-\",\"\").length).join(n||0)+t},t.relativeLength=function(t,e,n){return/%$/.test(t)?e*parseFloat(t)/100+(n||0):parseFloat(t)},t.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,o=this;return o.proceed=function(){i.apply(o,arguments.length?arguments:e)},t.unshift(i),t=n.apply(this,t),o.proceed=null,t}},t.datePropsToTimestamps=function(e){t.objectEach(e,function(n,i){t.isObject(n)&&\"function\"==typeof n.getTime?e[i]=n.getTime():(t.isObject(n)||t.isArray(n))&&t.datePropsToTimestamps(n)})},t.formatSingle=function(e,n,i){var o=t.defaultOptions.lang;return/f$/.test(e)?(i=(i=e.match(/\\.([0-9])/))?i[1]:-1,null!==n&&(n=t.numberFormat(n,i,o.decimalPoint,-1<e.indexOf(\",\")?o.thousandsSep:\"\"))):n=(i||t.time).dateFormat(e,n),n},t.format=function(e,n,i){for(var o,r,a,s,l,u=\"{\",h=!1,c=[];e&&-1!==(u=e.indexOf(u));){if(o=e.slice(0,u),h){for(s=(r=(o=o.split(\":\")).shift().split(\".\")).length,l=n,a=0;a<s;a++)l&&(l=l[r[a]]);o.length&&(l=t.formatSingle(o.join(\":\"),l,i)),c.push(l)}else c.push(o);e=e.slice(u+1),u=(h=!h)?\"}\":\"{\"}return c.push(e),c.join(\"\")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,n,i,o,r){var a,s=e;for(a=e/(i=t.pick(i,1)),n||(n=r?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===o&&(1===i?n=t.grep(n,function(t){return 0==t%1}):.1>=i&&(n=[1/i]))),o=0;o<n.length&&(s=n[o],!(r&&s*i>=e||!r&&a<=(n[o]+(n[o+1]||n[o]))/2));o++);return t.correctFloat(s*i,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var n,i,o=t.length;for(i=0;i<o;i++)t[i].safeI=i;for(t.sort(function(t,i){return 0===(n=e(t,i))?t.safeI-i.safeI:n}),i=0;i<o;i++)delete t[i].safeI},t.arrayMin=function(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n},t.arrayMax=function(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n},t.destroyObjectProperties=function(e,n){t.objectEach(e,function(t,i){t&&t!==n&&t.destroy&&t.destroy(),delete e[i]})},t.discardElement=function(e){var n=t.garbageBin;n||(n=t.createElement(\"div\")),e&&n.appendChild(e),n.innerHTML=\"\"},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,n){n.renderer.globalAnimation=t.pick(e,n.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,n,i,o){n=+n;var r,a,s=t.defaultOptions.lang,l=((e=+e||0).toString().split(\".\")[1]||\"\").split(\"e\")[0].length,u=e.toString().split(\"e\");return-1===n?n=Math.min(l,20):t.isNumber(n)?n&&u[1]&&0>u[1]&&(0<=(r=n+ +u[1])?(u[0]=(+u[0]).toExponential(r).split(\"e\")[0],n=r):(u[0]=u[0].split(\".\")[0]||0,e=20>n?(u[0]*Math.pow(10,u[1])).toFixed(n):0,u[1]=0)):n=2,a=(Math.abs(u[1]?u[0]:e)+Math.pow(10,-Math.max(n,l)-1)).toFixed(n),r=3<(l=String(t.pInt(a))).length?l.length%3:0,i=t.pick(i,s.decimalPoint),o=t.pick(o,s.thousandsSep),e=(0>e?\"-\":\"\")+(r?l.substr(0,r)+o:\"\"),e+=l.substr(r).replace(/(\\d{3})(?=\\d)/g,\"$1\"+o),n&&(e+=i+a.slice(-n)),u[1]&&0!=+e&&(e+=\"e\"+u[1]),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,n,o){return\"width\"===n?Math.max(0,Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,\"padding-left\")-t.getStyle(e,\"padding-right\")):\"height\"===n?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,\"padding-top\")-t.getStyle(e,\"padding-bottom\")):(i.getComputedStyle||t.error(27,!0),(e=i.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(n),t.pick(o,\"opacity\"!==n)&&(e=t.pInt(e))),e)},t.inArray=function(e,n,i){return(t.indexOfPolyfill||Array.prototype.indexOf).call(n,e,i)},t.grep=function(e,n){return(t.filterPolyfill||Array.prototype.filter).call(e,n)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var n,i=t.length;for(n=0;n<i;n++)if(e(t[n],n))return t[n]},t.some=function(e,n,i){return(t.somePolyfill||Array.prototype.some).call(e,n,i)},t.map=function(t,e){for(var n=[],i=0,o=t.length;i<o;i++)n[i]=e.call(t[i],t[i],i,t);return n},t.keys=function(e){return(t.keysPolyfill||Object.keys).call(void 0,e)},t.reduce=function(e,n,i){return(t.reducePolyfill||Array.prototype.reduce).apply(e,2<arguments.length?[n,i]:[n])},t.offset=function(t){var e=n.documentElement;return{top:(t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0}).top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,n){for(var i=t.timers.length;i--;)t.timers[i].elem!==e||n&&n!==t.timers[i].prop||(t.timers[i].stopped=!0)},t.each=function(e,n,i){return(t.forEachPolyfill||Array.prototype.forEach).call(e,n,i)},t.objectEach=function(t,e,n){for(var i in t)t.hasOwnProperty(i)&&e.call(n||t[i],t[i],i,t)},t.addEvent=function(e,n,i,o){var r,a=e.addEventListener||t.addEventListenerPolyfill;return r=\"function\"==typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{},t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),a&&a.call(e,n,i,!1),r[n]||(r[n]=[]),r[n].push(i),o&&t.isNumber(o.order)&&(i.order=o.order,r[n].sort(function(t,e){return t.order-e.order})),function(){t.removeEvent(e,n,i)}},t.removeEvent=function(e,n,i){function o(n,i){var o=e.removeEventListener||t.removeEventListenerPolyfill;o&&o.call(e,n,i,!1)}function r(i){var r,a;e.nodeName&&(n?(r={})[n]=!0:r=i,t.objectEach(r,function(t,e){if(i[e])for(a=i[e].length;a--;)o(e,i[e][a])}))}var a,s;t.each([\"protoEvents\",\"hcEvents\"],function(l){var u=e[l];u&&(n?(a=u[n]||[],i?(-1<(s=t.inArray(i,a))&&(a.splice(s,1),u[n]=a),o(n,i)):(r(u),u[n]=[])):(r(u),e[l]={}))})},t.fireEvent=function(e,i,o,r){var a,s,l,u,h;o=o||{},n.createEvent&&(e.dispatchEvent||e.fireEvent)?((a=n.createEvent(\"Events\")).initEvent(i,!0,!0),t.extend(a,o),e.dispatchEvent?e.dispatchEvent(a):e.fireEvent(i,a)):t.each([\"protoEvents\",\"hcEvents\"],function(n){if(e[n])for(l=(s=e[n][i]||[]).length,o.target||t.extend(o,{preventDefault:function(){o.defaultPrevented=!0},target:e,type:i}),u=0;u<l;u++)(h=s[u])&&!1===h.call(e,o)&&o.preventDefault()}),r&&!o.defaultPrevented&&r.call(e,o)},t.animate=function(e,n,i){var o,r,a,s,l=\"\";t.isObject(i)||(i={duration:(s=arguments)[2],easing:s[3],complete:s[4]}),t.isNumber(i.duration)||(i.duration=400),i.easing=\"function\"==typeof i.easing?i.easing:Math[i.easing]||Math.easeInOutSine,i.curAnim=t.merge(n),t.objectEach(n,function(s,u){t.stop(e,u),a=new t.Fx(e,i,u),r=null,\"d\"===u?(a.paths=a.initPath(e,e.d,n.d),a.toD=n.d,o=0,r=1):e.attr?o=e.attr(u):(o=parseFloat(t.getStyle(e,u))||0,\"opacity\"!==u&&(l=\"px\")),r||(r=s),r&&r.match&&r.match(\"px\")&&(r=r.replace(/px/g,\"\")),a.run(o,r,l)})},t.seriesType=function(e,n,i,o,r){var a=t.getOptions(),s=t.seriesTypes;return a.plotOptions[e]=t.merge(a.plotOptions[n],i),s[e]=t.extendClass(s[n]||function(){},o),s[e].prototype.type=e,r&&(s[e].prototype.pointClass=t.extendClass(t.Point,r)),s[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return\"highcharts-\"+t+\"-\"+e++}}(),i.jQuery&&(i.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new(t[t.isString(n[0])?n.shift():\"Chart\"])(this[0],n[0],n[1]),this):e[t.attr(this[0],\"data-highcharts-chart\")]})}(u),function(t){var e=t.each,n=t.isNumber,i=t.map,o=t.merge,r=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]?(?:\\.[0-9]+)?)\\s*\\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*\\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),1]}}],names:{white:\"#ffffff\",black:\"#000000\"},init:function(e){var n,o,r,a;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():\"\"]||e)&&e.stops)this.stops=i(e.stops,function(e){return new t.Color(e[1])});else if(e&&e.charAt&&\"#\"===e.charAt()&&(n=e.length,e=parseInt(e.substr(1),16),7===n?o=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===n&&(o=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!o)for(r=this.parsers.length;r--&&!o;)(n=(a=this.parsers[r]).regex.exec(e))&&(o=a.parse(n));this.rgba=o||[]},get:function(t){var i,r=this.input,a=this.rgba;return this.stops?((i=o(r)).stops=[].concat(i.stops),e(this.stops,function(e,n){i.stops[n]=[i.stops[n][0],e.get(t)]})):i=a&&n(a[0])?\"rgb\"===t||!t&&1===a[3]?\"rgb(\"+a[0]+\",\"+a[1]+\",\"+a[2]+\")\":\"a\"===t?a[3]:\"rgba(\"+a.join(\",\")+\")\":r,i},brighten:function(t){var i,o=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(n(t)&&0!==t)for(i=0;3>i;i++)o[i]+=r(255*t),0>o[i]&&(o[i]=0),255<o[i]&&(o[i]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var n=this.rgba,i=t.rgba;return i.length&&n&&n.length?((t=1!==i[3]||1!==n[3])?\"rgba(\":\"rgb(\")+Math.round(i[0]+(n[0]-i[0])*(1-e))+\",\"+Math.round(i[1]+(n[1]-i[1])*(1-e))+\",\"+Math.round(i[2]+(n[2]-i[2])*(1-e))+(t?\",\"+(i[3]+(n[3]-i[3])*(1-e)):\"\")+\")\":t.input||\"none\"}},t.color=function(e){return new t.Color(e)}}(u),function(t){var e,n,i=t.addEvent,o=t.animate,r=t.attr,a=t.charts,s=t.color,l=t.css,u=t.createElement,h=t.defined,c=t.deg2rad,d=t.destroyObjectProperties,p=t.doc,f=t.each,g=t.extend,m=t.erase,v=t.grep,y=t.hasTouch,_=t.inArray,b=t.isArray,x=t.isFirefox,w=t.isMS,C=t.isObject,k=t.isString,O=t.isWebKit,M=t.merge,L=t.noop,S=t.objectEach,P=t.pick,T=t.pInt,I=t.removeEvent,A=t.stop,z=t.svg,D=t.SVG_NS,E=t.symbolSizes,R=t.win;e=t.SVGElement=function(){return this},g(e.prototype,{opacity:1,SVG_NS:D,textProps:\"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor\".split(\" \"),init:function(t,e){this.element=\"span\"===e?u(e):p.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,n,i){return 0!==(n=t.animObject(P(n,this.renderer.globalAnimation,!0))).duration?(i&&(n.complete=i),o(this,e,n)):(this.attr(e,null,i),n.step&&n.step.call(this)),this},complexColor:function(e,n,i){var o,r,a,s,l,u,c,d,p,g,m,v,y=this.renderer,_=[];t.fireEvent(this.renderer,\"complexColor\",{args:arguments},function(){e.radialGradient?r=\"radialGradient\":e.linearGradient&&(r=\"linearGradient\"),r&&(l=y.gradients,c=e.stops,g=i.radialReference,b(a=e[r])&&(e[r]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:\"userSpaceOnUse\"}),\"radialGradient\"===r&&g&&!h(a.gradientUnits)&&(a=M(a,y.getRadialAttr(g,s=a),{gradientUnits:\"userSpaceOnUse\"})),S(a,function(t,e){\"id\"!==e&&_.push(e,t)}),S(c,function(t){_.push(t)}),_=_.join(\",\"),l[_]?m=l[_].attr(\"id\"):(a.id=m=t.uniqueKey(),l[_]=u=y.createElement(r).attr(a).add(y.defs),u.radAttr=s,u.stops=[],f(c,function(e){0===e[1].indexOf(\"rgba\")?(o=t.color(e[1]),d=o.get(\"rgb\"),p=o.get(\"a\")):(d=e[1],p=1),e=y.createElement(\"stop\").attr({offset:e[0],\"stop-color\":d,\"stop-opacity\":p}).add(u),u.stops.push(e)})),i.setAttribute(n,v=\"url(\"+y.url+\"#\"+m+\")\"),i.gradient=_,e.toString=function(){return v})})},applyTextOutline:function(e){var n,i,o,a,s,l=this.element;if(-1!==e.indexOf(\"contrast\")&&(e=e.replace(/contrast/g,this.renderer.getContrast(l.style.fill))),e=e.split(\" \"),i=e[e.length-1],(o=e[0])&&\"none\"!==o&&t.svg){for(this.fakeTS=!0,e=[].slice.call(l.getElementsByTagName(\"tspan\")),this.ySetter=this.xSetter,o=o.replace(/(^[\\d\\.]+)(.*?)$/g,function(t,e,n){return 2*e+n}),s=e.length;s--;)\"highcharts-text-outline\"===(n=e[s]).getAttribute(\"class\")&&m(e,l.removeChild(n));a=l.firstChild,f(e,function(t,e){0===e&&(t.setAttribute(\"x\",l.getAttribute(\"x\")),e=l.getAttribute(\"y\"),t.setAttribute(\"y\",e||0),null===e&&l.setAttribute(\"y\",0)),t=t.cloneNode(1),r(t,{class:\"highcharts-text-outline\",fill:i,stroke:i,\"stroke-width\":o,\"stroke-linejoin\":\"round\"}),l.insertBefore(t,a)})}},attr:function(t,e,n,i){var o,r,a,s,l=this.element,u=this;return\"string\"==typeof t&&void 0!==e&&(o=t,(t={})[o]=e),\"string\"==typeof t?u=(this[t+\"Getter\"]||this._defaultGetter).call(this,t,l):(S(t,function(e,n){a=!1,i||A(this,n),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(n)&&(r||(this.symbolAttr(t),r=!0),a=!0),!this.rotation||\"x\"!==n&&\"y\"!==n||(this.doTransform=!0),a||((s=this[n+\"Setter\"]||this._defaultSetter).call(this,e,n,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,e,s))},this),this.afterSetters()),n&&n.call(this),u},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,n){for(var i=this.shadows,o=i.length;o--;)n.call(i[o],\"height\"===t?Math.max(e-(i[o].cutHeight||0),0):\"d\"===t?this.d:e,t,i[o])},addClass:function(t,e){var n=this.attr(\"class\")||\"\";return-1===n.indexOf(t)&&(e||(t=(n+(n?\" \":\"\")+t).replace(\"  \",\" \")),this.attr(\"class\",t)),this},hasClass:function(t){return-1!==_(t,(this.attr(\"class\")||\"\").split(\" \"))},removeClass:function(t){return this.attr(\"class\",(this.attr(\"class\")||\"\").replace(t,\"\"))},symbolAttr:function(t){var e=this;f(\"x y r start end width height innerR anchorX anchorY\".split(\" \"),function(n){e[n]=P(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr(\"clip-path\",t?\"url(\"+this.renderer.url+\"#\"+t.id+\")\":\"none\")},crisp:function(t,e){var n;return e=e||t.strokeWidth||0,n=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+n,t.y=Math.floor(t.y||this.y||0)+n,t.width=Math.floor((t.width||this.width||0)-2*n),t.height=Math.floor((t.height||this.height||0)-2*n),h(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e,n,i=this.styles,o={},a=this.element,s=\"\",u=!i,h=[\"textOutline\",\"textOverflow\",\"width\"];return t&&t.color&&(t.fill=t.color),i&&S(t,function(t,e){t!==i[e]&&(o[e]=t,u=!0)}),u&&(i&&(t=g(i,o)),t&&(null===t.width||\"auto\"===t.width?delete this.textWidth:\"text\"===a.nodeName.toLowerCase()&&t.width&&(e=this.textWidth=T(t.width))),this.styles=t,e&&!z&&this.renderer.forExport&&delete t.width,a.namespaceURI===this.SVG_NS?(n=function(t,e){return\"-\"+e.toLowerCase()},S(t,function(t,e){-1===_(e,h)&&(s+=e.replace(/([A-Z])/g,n)+\":\"+t+\";\")}),s&&r(a,\"style\",s)):l(a,t),this.added&&(\"text\"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this[\"stroke-width\"]||0},on:function(t,e){var n=this,i=n.element;return y&&\"click\"===t?(i.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(-1===R.navigator.userAgent.indexOf(\"Android\")||1100<Date.now()-(n.touchEventFired||0))&&e.call(i,t)}):i[\"on\"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,n=this.scaleX,i=this.scaleY,o=this.inverted,r=this.rotation,a=this.matrix,s=this.element;o&&(t+=this.width,e+=this.height),t=[\"translate(\"+t+\",\"+e+\")\"],h(a)&&t.push(\"matrix(\"+a.join(\",\")+\")\"),o?t.push(\"rotate(90) scale(-1,1)\"):r&&t.push(\"rotate(\"+r+\" \"+P(this.rotationOriginX,s.getAttribute(\"x\"),0)+\" \"+P(this.rotationOriginY,s.getAttribute(\"y\")||0)+\")\"),(h(n)||h(i))&&t.push(\"scale(\"+P(n,1)+\" \"+P(i,1)+\")\"),t.length&&s.setAttribute(\"transform\",t.join(\" \"))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,o,r,a,s,l,u={};return r=(o=this.renderer).alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!n||k(n))&&(this.alignTo=i=n||\"renderer\",m(r,this),r.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,i=this.alignTo),n=P(n,o[i],o),o=t.verticalAlign,r=(n.x||0)+(t.x||0),a=(n.y||0)+(t.y||0),\"right\"===(i=t.align)?s=1:\"center\"===i&&(s=2),s&&(r+=(n.width-(t.width||0))/s),u[e?\"translateX\":\"x\"]=Math.round(r),\"bottom\"===o?l=1:\"middle\"===o&&(l=2),l&&(a+=(n.height-(t.height||0))/l),u[e?\"translateY\":\"y\"]=Math.round(a),this[this.placed?\"animate\":\"attr\"](u),this.placed=!0,this.alignAttr=u,this},getBBox:function(t,e){var n,i,o,r,a,s=this.renderer,l=this.element,u=this.styles,d=this.textStr,p=s.cache,m=s.cacheKeys,v=l.namespaceURI===this.SVG_NS;if(i=(e=P(e,this.rotation))*c,o=u&&u.fontSize,h(d)&&(-1===(a=d.toString()).indexOf(\"<\")&&(a=a.replace(/[0-9]/g,\"0\")),a+=[\"\",e||0,o,this.textWidth,u&&u.textOverflow].join()),a&&!t&&(n=p[a]),!n){if(v||s.forExport){try{(r=this.fakeTS&&function(t){f(l.querySelectorAll(\".highcharts-text-outline\"),function(e){e.style.display=t})})&&r(\"none\"),n=l.getBBox?g({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight},r&&r(\"\")}catch(y){}(!n||0>n.width)&&(n={width:0,height:0})}else n=this.htmlGetBBox();if(s.isSVG&&(t=n.width,s=n.height,v&&(n.height=s={\"11px,17\":14,\"13px,20\":16}[u&&u.fontSize+\",\"+Math.round(s)]||s),e&&(n.width=Math.abs(s*Math.sin(i))+Math.abs(t*Math.cos(i)),n.height=Math.abs(s*Math.cos(i))+Math.abs(t*Math.sin(i)))),a&&0<n.height){for(;250<m.length;)delete p[m.shift()];p[a]||m.push(a),p[a]=n}}return n},show:function(t){return this.attr({visibility:t?\"inherit\":\"visible\"})},hide:function(){return this.attr({visibility:\"hidden\"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,i=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},n=t.renderer.isSVG&&\"SPAN\"===e.nodeName&&t.parentGroup,i=e.ownerSVGElement,o=t.clipPath;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,A(t),o&&i&&(f(i.querySelectorAll(\"[clip-path],[CLIP-PATH]\"),function(t){var e=t.getAttribute(\"clip-path\"),n=o.element.id;(-1<e.indexOf(\"(#\"+n+\")\")||-1<e.indexOf('(\"#'+n+'\")'))&&t.removeAttribute(\"clip-path\")}),t.clipPath=o.destroy()),t.stops){for(i=0;i<t.stops.length;i++)t.stops[i]=t.stops[i].destroy();t.stops=null}for(t.safeRemoveChild(e),t.destroyShadows();n&&n.div&&0===n.div.childNodes.length;)e=n.parentGroup,t.safeRemoveChild(n.div),delete n.div,n=e;return t.alignTo&&m(t.renderer.alignedObjects,t),S(t,function(e,n){delete t[n]}),null},shadow:function(t,e,n){var i,o,a,s,l,u,h=[],c=this.element;if(t){if(!this.shadows){for(s=P(t.width,3),l=(t.opacity||.15)/s,u=this.parentInverted?\"(-1,-1)\":\"(\"+P(t.offsetX,1)+\", \"+P(t.offsetY,1)+\")\",i=1;i<=s;i++)o=c.cloneNode(0),r(o,{stroke:t.color||\"#000000\",\"stroke-opacity\":l*i,\"stroke-width\":a=2*s+1-2*i,transform:\"translate\"+u,fill:\"none\"}),o.setAttribute(\"class\",(o.getAttribute(\"class\")||\"\")+\" highcharts-shadow\"),n&&(r(o,\"height\",Math.max(r(o,\"height\")-a,0)),o.cutHeight=a),e?e.element.appendChild(o):c.parentNode&&c.parentNode.insertBefore(o,c),h.push(o);this.shadows=h}}else this.destroyShadows();return this},destroyShadows:function(){f(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return\"circle\"===this.element.nodeName&&(\"x\"===t?t=\"cx\":\"y\"===t&&(t=\"cy\")),this._defaultGetter(t)},_defaultGetter:function(t){return t=P(this[t+\"Value\"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\\-0-9\\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,n){t&&t.join&&(t=t.join(\" \")),/(NaN| {2}|^$)/.test(t)&&(t=\"M 0 0\"),this[e]!==t&&(n.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,n=this[\"stroke-width\"];if(\"inherit\"===n&&(n=1),t=t&&t.toLowerCase()){for(e=(t=t.replace(\"shortdashdotdot\",\"3,1,1,1,1,1,\").replace(\"shortdashdot\",\"3,1,1,1\").replace(\"shortdot\",\"1,1,\").replace(\"shortdash\",\"3,1,\").replace(\"longdash\",\"8,3,\").replace(/dot/g,\"1,3,\").replace(\"dash\",\"4,3,\").replace(/,$/,\"\").split(\",\")).length;e--;)t[e]=T(t[e])*n;t=t.join(\",\").replace(/NaN/g,\"none\"),this.element.setAttribute(\"stroke-dasharray\",t)}},alignSetter:function(t){this.alignValue=t,this.element.setAttribute(\"text-anchor\",{left:\"start\",center:\"middle\",right:\"end\"}[t])},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName(\"title\")[0];e||(e=p.createElementNS(this.SVG_NS,\"title\"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(p.createTextNode(String(P(t),\"\").replace(/<[^>]*>/g,\"\").replace(/&lt;/g,\"<\").replace(/&gt;/g,\">\")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){\"string\"==typeof t?n.setAttribute(e,t):t&&this.complexColor(t,e,n)},visibilitySetter:function(t,e,n){\"inherit\"===t?n.removeAttribute(e):this[e]!==t&&n.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var n,i,o,r,a=this.renderer,s=this.parentGroup,l=(s||a).element||a.box,u=this.element;if(a=l===a.box,n=this.added,h(t)?(u.setAttribute(\"data-z-index\",t),this[e]===(t=+t)&&(n=!1)):h(this[e])&&u.removeAttribute(\"data-z-index\"),this[e]=t,n){for((t=this.zIndex)&&s&&(s.handleZ=!0),r=(e=l.childNodes).length-1;0<=r&&!i;r--)n=(s=e[r]).getAttribute(\"data-z-index\"),o=!h(n),s!==u&&(0>t&&o&&!a&&!r?(l.insertBefore(u,e[r]),i=!0):(T(n)<=t||o&&(!h(t)||0<=t))&&(l.insertBefore(u,e[r+1]||null),i=!0));i||(l.insertBefore(u,e[a?3:0]||null),i=!0)}return i},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype[\"stroke-widthSetter\"]=e.prototype.strokeSetter=function(t,n,i){this[n]=t,this.stroke&&this[\"stroke-width\"]?(e.prototype.fillSetter.call(this,this.stroke,\"stroke\",i),i.setAttribute(\"stroke-width\",this[\"stroke-width\"]),this.hasStroke=!0):\"stroke-width\"===n&&0===t&&this.hasStroke&&(i.removeAttribute(\"stroke\"),this.hasStroke=!1)},n=t.SVGRenderer=function(){this.init.apply(this,arguments)},g(n.prototype,{Element:e,SVG_NS:D,init:function(t,e,n,o,a,s){var u,h;o=this.createElement(\"svg\").attr({version:\"1.1\",class:\"highcharts-root\"}).css(this.getStyle(o)),t.appendChild(u=o.element),r(t,\"dir\",\"ltr\"),-1===t.innerHTML.indexOf(\"xmlns\")&&r(u,\"xmlns\",this.SVG_NS),this.isSVG=!0,this.box=u,this.boxWrapper=o,this.alignedObjects=[],this.url=(x||O)&&p.getElementsByTagName(\"base\").length?R.location.href.split(\"#\")[0].replace(/<[^>]*>/g,\"\").replace(/([\\('\\)])/g,\"\\\\$1\").replace(/ /g,\"%20\"):\"\",this.createElement(\"desc\").add().element.appendChild(p.createTextNode(\"Created with Highcharts 6.2.0\")),this.defs=this.createElement(\"defs\").add(),this.allowHTML=s,this.forExport=a,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1),x&&t.getBoundingClientRect&&((e=function(){l(t,{left:0,top:0}),h=t.getBoundingClientRect(),l(t,{left:Math.ceil(h.left)-h.left+\"px\",top:Math.ceil(h.top)-h.top+\"px\"})})(),this.unSubPixelFix=i(R,\"resize\",e))},getStyle:function(t){return this.style=g({fontFamily:'\"Lucida Grande\", \"Lucida Sans Unicode\", Arial, Helvetica, sans-serif',fontSize:\"12px\"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),d(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:L,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},truncate:function(t,e,n,i,o,r,a){var s,l,u,h=this,c=t.rotation,d=i?1:0,f=(n||i).length,g=f,m=[],v=function(t){e.firstChild&&e.removeChild(e.firstChild),t&&e.appendChild(p.createTextNode(t))},y=function(r,s){if(void 0===m[s=s||r])if(e.getSubStringLength)try{m[s]=o+e.getSubStringLength(0,i?s+1:s)}catch(l){}else h.getSpanWidth&&(v(a(n||i,r)),m[s]=o+h.getSpanWidth(t,e));return m[s]};if(t.rotation=0,l=y(e.textContent.length),u=o+l>r){for(;d<=f;)g=Math.ceil((d+f)/2),i&&(s=a(i,g)),l=y(g,s&&s.length-1),d===f?d=f+1:l>r?f=g-1:d=g;0===f?v(\"\"):n&&f===n.length-1||v(s||a(n||i,g))}return i&&i.splice(0,g),t.actualWidth=l,t.rotation=c,u},escapes:{\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",\"'\":\"&#39;\",'\"':\"&quot;\"},buildText:function(t){var e,n,i,o=t.element,a=this,s=a.forExport,u=P(t.textStr,\"\").toString(),h=-1!==u.indexOf(\"<\"),c=o.childNodes,d=r(o,\"x\"),g=t.textWidth,m=(k=t.styles)&&k.lineHeight,y=k&&k.textOutline,b=k&&\"ellipsis\"===k.textOverflow,x=k&&\"nowrap\"===k.whiteSpace,w=k&&k.fontSize,C=c.length,k=g&&!t.added&&this.box,O=function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:w||a.style.fontSize||12,m?T(m):a.fontMetrics(e,t.getAttribute(\"style\")?t:o).h},M=function(t,e){return S(a.escapes,function(n,i){e&&-1!==_(n,e)||(t=t.toString().replace(new RegExp(n,\"g\"),i))}),t},L=function(t,e){var n;if(n=t.indexOf(\"<\"),-1!==(n=(t=t.substring(n,t.indexOf(\">\")-n)).indexOf(e+\"=\"))&&('\"'===(e=t.charAt(n=n+e.length+1))||\"'\"===e))return(t=t.substring(n+1)).substring(0,t.indexOf(e))};if((n=[u,b,x,m,y,w,g].join())!==t.textCache){for(t.textCache=n;C--;)o.removeChild(c[C]);h||y||b||g||-1!==u.indexOf(\" \")?(k&&k.appendChild(o),u=h?u.replace(/<(b|strong)>/g,'<span style=\"font-weight:bold\">').replace(/<(i|em)>/g,'<span style=\"font-style:italic\">').replace(/<a/g,\"<span\").replace(/<\\/(b|strong|i|em|a)>/g,\"</span>\").split(/<br.*?>/g):[u],u=v(u,function(t){return\"\"!==t}),f(u,function(n,u){var h,c=0,m=0;n=n.replace(/^\\s+|\\s+$/g,\"\").replace(/<span/g,\"|||<span\").replace(/<\\/span>/g,\"</span>|||\"),h=n.split(\"|||\"),f(h,function(n){if(\"\"!==n||1===h.length){var f,v,y={},_=p.createElementNS(a.SVG_NS,\"tspan\");if((f=L(n,\"class\"))&&r(_,\"class\",f),(f=L(n,\"style\"))&&(f=f.replace(/(;| |^)color([ :])/,\"$1fill$2\"),r(_,\"style\",f)),(v=L(n,\"href\"))&&!s&&(r(_,\"onclick\",'location.href=\"'+v+'\"'),r(_,\"class\",\"highcharts-anchor\"),l(_,{cursor:\"pointer\"})),\" \"!==(n=M(n.replace(/<[a-zA-Z\\/](.|\\n)*?>/g,\"\")||\" \"))){if(_.appendChild(p.createTextNode(n)),c?y.dx=0:u&&null!==d&&(y.x=d),r(_,y),o.appendChild(_),!c&&i&&(!z&&s&&l(_,{display:\"block\"}),r(_,\"dy\",O(_))),g){var C=n.replace(/([^\\^])-/g,\"$1- \").split(\" \");y=!x&&(1<h.length||u||1<C.length),v=0;var k=O(_);if(b)e=a.truncate(t,_,n,void 0,0,Math.max(0,g-parseInt(w||12,10)),function(t,e){return t.substring(0,e)+\"\\u2026\"});else if(y)for(;C.length;)C.length&&!x&&0<v&&(_=p.createElementNS(D,\"tspan\"),r(_,{dy:k,x:d}),f&&r(_,\"style\",f),_.appendChild(p.createTextNode(C.join(\" \").replace(/- /g,\"-\"))),o.appendChild(_)),a.truncate(t,_,null,C,0===v?m:0,g,function(t,e){return C.slice(0,e).join(\" \").replace(/- /g,\"-\")}),m=t.actualWidth,v++}c++}}}),i=i||o.childNodes.length}),b&&e&&t.attr(\"title\",M(t.textStr,[\"&lt;\",\"&gt;\"])),k&&k.removeChild(o),y&&t.applyTextOutline&&t.applyTextOutline(y)):o.appendChild(p.createTextNode(M(u)))}},getContrast:function(t){return(t=s(t).rgba)[0]*=1,t[1]*=1.2,t[2]*=.5,459<t[0]+t[1]+t[2]?\"#000000\":\"#FFFFFF\"},button:function(t,e,n,o,r,a,s,l,u){var h,c,d,p,f=this.label(t,e,n,u,null,null,null,null,\"button\"),m=0;return f.attr(M({padding:8,r:2},r)),r=M({fill:\"#f7f7f7\",stroke:\"#cccccc\",\"stroke-width\":1,style:{color:\"#333333\",cursor:\"pointer\",fontWeight:\"normal\"}},r),h=r.style,delete r.style,a=M(r,{fill:\"#e6e6e6\"},a),c=a.style,delete a.style,s=M(r,{fill:\"#e6ebf5\",style:{color:\"#000000\",fontWeight:\"bold\"}},s),d=s.style,delete s.style,l=M(r,{style:{color:\"#cccccc\"}},l),p=l.style,delete l.style,i(f.element,w?\"mouseover\":\"mouseenter\",function(){3!==m&&f.setState(1)}),i(f.element,w?\"mouseout\":\"mouseleave\",function(){3!==m&&f.setState(m)}),f.setState=function(t){1!==t&&(f.state=m=t),f.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass(\"highcharts-button-\"+[\"normal\",\"hover\",\"pressed\",\"disabled\"][t||0]),f.attr([r,a,s,l][t||0]).css([h,c,d,p][t||0])},f.attr(r).css(g({cursor:\"default\"},h)),f.on(\"click\",function(t){3!==m&&o.call(f,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:\"none\"};return b(t)?e.d=t:C(t)&&g(e,t),this.createElement(\"path\").attr(e)},circle:function(t,e,n){return t=C(t)?t:{x:t,y:e,r:n},(e=this.createElement(\"circle\")).xSetter=e.ySetter=function(t,e,n){n.setAttribute(\"c\"+e,t)},e.attr(t)},arc:function(t,e,n,i,o,r){return C(t)?(e=(i=t).y,n=i.r,t=i.x):i={innerR:i,start:o,end:r},(t=this.symbol(\"arc\",t,e,n,n,i)).r=n,t},rect:function(t,e,n,i,o,a){o=C(t)?t.r:o;var s=this.createElement(\"rect\");return t=C(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(n,0),height:Math.max(i,0)},void 0!==a&&(t.strokeWidth=a,t=s.crisp(t)),t.fill=\"none\",o&&(t.r=o),s.rSetter=function(t,e,n){r(n,{rx:t,ry:t})},s.attr(t)},setSize:function(t,e,n){var i=this.alignedObjects,o=i.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:\"0 0 \"+this.attr(\"width\")+\" \"+this.attr(\"height\")})},duration:P(n,!0)?void 0:0});o--;)i[o].align()},g:function(t){var e=this.createElement(\"g\");return t?e.attr({class:\"highcharts-\"+t}):e},image:function(t,e,n,o,r,a){var s,l={preserveAspectRatio:\"none\"},u=function(t,e){t.setAttributeNS?t.setAttributeNS(\"http://www.w3.org/1999/xlink\",\"href\",e):t.setAttribute(\"hc-svg-href\",e)},h=function(e){u(s.element,t),a.call(s,e)};return 1<arguments.length&&g(l,{x:e,y:n,width:o,height:r}),s=this.createElement(\"image\").attr(l),a?(u(s.element,\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\"),l=new R.Image,i(l,\"load\",h),l.src=t,l.complete&&h({})):u(s.element,t),s},symbol:function(t,e,n,i,o,r){var s,c,d,m=this,v=/^url\\((.*?)\\)$/,y=v.test(t),_=!y&&(this.symbols[t]?t:\"circle\"),b=_&&this.symbols[_],x=h(e)&&b&&b.call(this.symbols,Math.round(e),Math.round(n),i,o,r);return b?((s=this.path(x)).attr(\"fill\",\"none\"),g(s,{symbolName:_,x:e,y:n,width:i,height:o}),r&&g(s,r)):y&&(c=t.match(v)[1],(s=this.image(c)).imgwidth=P(E[c]&&E[c].width,r&&r.width),s.imgheight=P(E[c]&&E[c].height,r&&r.height),d=function(){s.attr({width:s.width,height:s.height})},f([\"width\",\"height\"],function(t){s[t+\"Setter\"]=function(t,e){var n={},i=this[\"img\"+e],o=\"width\"===e?\"translateX\":\"translateY\";this[e]=t,h(i)&&(this.element&&this.element.setAttribute(e,i),this.alignByTranslate||(n[o]=((this[e]||0)-i)/2,this.attr(n)))}}),h(e)&&s.attr({x:e,y:n}),s.isImg=!0,h(s.imgwidth)&&h(s.imgheight)?d():(s.attr({width:0,height:0}),u(\"img\",{onload:function(){var t=a[m.chartIndex];0===this.width&&(l(this,{position:\"absolute\",top:\"-999em\"}),p.body.appendChild(this)),E[c]={width:this.width,height:this.height},s.imgwidth=this.width,s.imgheight=this.height,s.element&&d(),this.parentNode&&this.parentNode.removeChild(this),m.imgCount--,!m.imgCount&&t&&t.onload&&t.onload()},src:c}),this.imgCount++)),s},symbols:{circle:function(t,e,n,i){return this.arc(t+n/2,e+i/2,n/2,i/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,n,i){return[\"M\",t,e,\"L\",t+n,e,t+n,e+i,t,e+i,\"Z\"]},triangle:function(t,e,n,i){return[\"M\",t+n/2,e,\"L\",t+n,e+i,t,e+i,\"Z\"]},\"triangle-down\":function(t,e,n,i){return[\"M\",t,e,\"L\",t+n,e,t+n/2,e+i,\"Z\"]},diamond:function(t,e,n,i){return[\"M\",t+n/2,e,\"L\",t+n,e+i/2,t+n/2,e+i,t,e+i/2,\"Z\"]},arc:function(t,e,n,i,o){var r=o.start,a=o.r||n,s=o.r||i||n,l=o.end-.001;n=o.innerR,i=P(o.open,.001>Math.abs(o.end-o.start-2*Math.PI));var u=Math.cos(r),c=Math.sin(r),d=Math.cos(l);return l=Math.sin(l),a=[\"M\",t+a*u,e+s*c,\"A\",a,s,0,o=.001>o.end-r-Math.PI?0:1,1,t+a*d,e+s*l],h(n)&&a.push(i?\"M\":\"L\",t+n*d,e+n*l,\"A\",n,n,0,o,0,t+n*u,e+n*c),a.push(i?\"\":\"Z\"),a},callout:function(t,e,n,i,o){var r,a=Math.min(o&&o.r||0,n,i),s=a+6,l=o&&o.anchorX;return o=o&&o.anchorY,r=[\"M\",t+a,e,\"L\",t+n-a,e,\"C\",t+n,e,t+n,e,t+n,e+a,\"L\",t+n,e+i-a,\"C\",t+n,e+i,t+n,e+i,t+n-a,e+i,\"L\",t+a,e+i,\"C\",t,e+i,t,e+i,t,e+i-a,\"L\",t,e+a,\"C\",t,e,t,e,t+a,e],l&&l>n?o>e+s&&o<e+i-s?r.splice(13,3,\"L\",t+n,o-6,t+n+6,o,t+n,o+6,t+n,e+i-a):r.splice(13,3,\"L\",t+n,i/2,l,o,t+n,i/2,t+n,e+i-a):l&&0>l?o>e+s&&o<e+i-s?r.splice(33,3,\"L\",t,o+6,t-6,o,t,o-6,t,e+a):r.splice(33,3,\"L\",t,i/2,l,o,t,i/2,t,e+a):o&&o>i&&l>t+s&&l<t+n-s?r.splice(23,3,\"L\",l+6,e+i,l,e+i+6,l-6,e+i,t+a,e+i):o&&0>o&&l>t+s&&l<t+n-s&&r.splice(3,3,\"L\",l-6,e,l,e-6,l+6,e,n-a,e),r}},clipRect:function(e,n,i,o){var r=t.uniqueKey(),a=this.createElement(\"clipPath\").attr({id:r}).add(this.defs);return(e=this.rect(e,n,i,o,0).add(a)).id=r,e.clipPath=a,e.count=0,e},text:function(t,e,n,i){var o={};return!i||!this.allowHTML&&this.forExport?(o.x=Math.round(e||0),n&&(o.y=Math.round(n)),h(t)&&(o.text=t),t=this.createElement(\"text\").attr(o),i||(t.xSetter=function(t,e,n){var i,o,r=n.getElementsByTagName(\"tspan\"),a=n.getAttribute(e);for(o=0;o<r.length;o++)(i=r[o]).getAttribute(e)===a&&i.setAttribute(e,t);n.setAttribute(e,t)}),t):this.html(t,e,n)},fontMetrics:function(t,e){return{h:e=24>(t=/px/.test(t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize)?T(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12)?t+3:Math.round(1.2*t),b:Math.round(.8*e),f:t}},rotCorr:function(t,e,n){var i=t;return e&&n&&(i=Math.max(i*Math.cos(e*c),4)),{x:-t/3*Math.sin(e*c),y:i}},label:function(n,i,o,r,a,s,l,u,c){var d,p,m,v,y,_,b,x,w,C,k,O,L,S=this,P=S.g(\"button\"!==c&&\"label\"),T=P.text=S.text(\"\",0,0,l).attr({zIndex:1}),A=0,z=3,D=0,E={},R=/^url\\((.*?)\\)$/.test(r),N=R;c&&P.addClass(\"highcharts-\"+c),N=R,C=function(){return(x||0)%2/2},k=function(){var t=T.element.style,e={};p=(void 0===m||void 0===v||b)&&h(T.textStr)&&T.getBBox(),P.width=(m||p.width||0)+2*z+D,P.height=(v||p.height||0)+2*z,w=z+S.fontMetrics(t&&t.fontSize,T).b,N&&(d||(P.box=d=S.symbols[r]||R?S.symbol(r):S.rect(),d.addClass((\"button\"===c?\"\":\"highcharts-label-box\")+(c?\" highcharts-\"+c+\"-box\":\"\")),d.add(P),t=C(),e.x=t,e.y=(u?-w:0)+t),e.width=Math.round(P.width),e.height=Math.round(P.height),d.attr(g(e,E)),E={})},O=function(){var t,e=D+z;t=u?0:w,h(m)&&p&&(\"center\"===b||\"right\"===b)&&(e+={center:.5,right:1}[b]*(m-p.width)),e===T.x&&t===T.y||(T.attr(\"x\",e),T.hasBoxWidthChanged&&(p=T.getBBox(!0),k()),void 0!==t&&T.attr(\"y\",t)),T.x=e,T.y=t},L=function(t,e){d?d.attr(t,e):E[t]=e},P.onAdd=function(){T.add(P),P.attr({text:n||0===n?n:\"\",x:i,y:o}),d&&h(a)&&P.attr({anchorX:a,anchorY:s})},P.widthSetter=function(e){m=t.isNumber(e)?e:null},P.heightSetter=function(t){v=t},P[\"text-alignSetter\"]=function(t){b=t},P.paddingSetter=function(t){h(t)&&t!==z&&(z=P.padding=t,O())},P.paddingLeftSetter=function(t){h(t)&&t!==D&&(D=t,O())},P.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==A&&(A=t,p&&P.attr({x:y}))},P.textSetter=function(t){void 0!==t&&T.textSetter(t),k(),O()},P[\"stroke-widthSetter\"]=function(t,e){t&&(N=!0),x=this[\"stroke-width\"]=t,L(e,t)},P.strokeSetter=P.fillSetter=P.rSetter=function(t,e){\"r\"!==e&&(\"fill\"===e&&t&&(N=!0),P[e]=t),L(e,t)},P.anchorXSetter=function(t,e){a=P.anchorX=t,L(e,Math.round(t)-C()-y)},P.anchorYSetter=function(t,e){s=P.anchorY=t,L(e,t-_)},P.xSetter=function(t){P.x=t,A&&(t-=A*((m||p.width)+2*z),P[\"forceAnimate:x\"]=!0),y=Math.round(t),P.attr(\"translateX\",y)},P.ySetter=function(t){_=P.y=Math.round(t),P.attr(\"translateY\",_)};var B=P.css;return g(P,{css:function(t){if(t){var e={};t=M(t),f(P.textProps,function(n){void 0!==t[n]&&(e[n]=t[n],delete t[n])}),T.css(e),\"width\"in e&&k()}return B.call(P,t)},getBBox:function(){return{width:p.width+2*z,height:p.height+2*z,x:p.x-z,y:p.y-z}},shadow:function(t){return t&&(k(),d&&d.shadow(t)),P},destroy:function(){I(P.element,\"mouseenter\"),I(P.element,\"mouseleave\"),T&&(T=T.destroy()),d&&(d=d.destroy()),e.prototype.destroy.call(P),P=S=k=O=L=null}})}}),t.Renderer=n}(u),function(t){var e=u.attr,n=u.createElement,i=u.css,o=u.defined,r=u.each,a=u.extend,s=u.isFirefox,l=u.isMS,h=u.isWebKit,c=u.pick,d=u.pInt,p=u.SVGRenderer,f=u.win,g=u.wrap;a(u.SVGElement.prototype,{htmlCss:function(t){var e=\"SPAN\"===this.element.tagName&&t&&\"width\"in t,n=c(e&&t.width,void 0);return e&&(delete t.width,this.textWidth=n,this.htmlUpdateTransform()),t&&\"ellipsis\"===t.textOverflow&&(t.whiteSpace=\"nowrap\",t.overflow=\"hidden\"),this.styles=a(this.styles,t),i(this.element,t),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,a=this.translateY||0,s=this.x||0,l=this.y||0,u=this.textAlign||\"left\",h={left:0,center:.5,right:1}[u],c=(f=this.styles)&&f.whiteSpace;if(i(e,{marginLeft:n,marginTop:a}),this.shadows&&r(this.shadows,function(t){i(t,{marginLeft:n+1,marginTop:a+1})}),this.inverted&&r(e.childNodes,function(n){t.invertChild(n,e)}),\"SPAN\"===e.tagName){var p,f=this.rotation,g=this.textWidth&&d(this.textWidth),m=[f,u,e.innerHTML,this.textWidth,this.textAlign].join();(p=g!==this.oldTextWidth)&&!(p=g>this.oldTextWidth)&&((p=this.textPxLength)||(i(e,{width:\"\",whiteSpace:c||\"nowrap\"}),p=e.offsetWidth),p=p>g),p&&/[ \\-]/.test(e.textContent||e.innerText)?(i(e,{width:g+\"px\",display:\"block\",whiteSpace:c||\"normal\"}),this.oldTextWidth=g,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,m!==this.cTT&&(c=t.fontMetrics(e.style.fontSize).b,!o(f)||f===(this.oldRotation||0)&&u===this.oldAlign||this.setSpanRotation(f,h,c),this.getSpanCorrection(!o(f)&&this.textPxLength||e.offsetWidth,c,h,f,u)),i(e,{left:s+(this.xCorr||0)+\"px\",top:l+(this.yCorr||0)+\"px\"}),this.cTT=m,this.oldRotation=f,this.oldAlign=u}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var o={},r=this.renderer.getTransformKey();o[r]=o.transform=\"rotate(\"+t+\"deg)\",o[r+(s?\"Origin\":\"-origin\")]=o.transformOrigin=100*e+\"% \"+n+\"px\",i(this.element,o)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),a(p.prototype,{getTransformKey:function(){return l&&!/Edge/.test(f.navigator.userAgent)?\"-ms-transform\":h?\"-webkit-transform\":s?\"MozTransform\":f.opera?\"-o-transform\":\"\"},html:function(t,i,o){var s=this.createElement(\"span\"),l=s.element,u=s.renderer,h=u.isSVG,d=function(t,e){r([\"opacity\",\"visibility\"],function(n){g(t,n+\"Setter\",function(t,n,i,o){t.call(this,n,i,o),e[i]=n})}),t.addedSetters=!0};return s.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,this.textStr=t,l.innerHTML=c(t,\"\"),s.doTransform=!0},h&&d(s,s.element.style),s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=function(t,e){\"align\"===e&&(e=\"textAlign\"),s[e]=t,s.doTransform=!0},s.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},s.attr({text:t,x:Math.round(i),y:Math.round(o)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:\"absolute\"}),l.style.whiteSpace=\"nowrap\",s.css=s.htmlCss,h&&(s.add=function(t){var i,o=u.box.parentNode,h=[];if(this.parentGroup=t){if(!(i=t.div)){for(;t;)h.push(t),t=t.parentGroup;r(h.reverse(),function(t){function r(e,n){t[n]=e,\"translateX\"===n?l.left=e+\"px\":l.top=e+\"px\",t.doTransform=!0}var l,u=e(t.element,\"class\");u&&(u={className:u}),i=t.div=t.div||n(\"div\",u,{position:\"absolute\",left:(t.translateX||0)+\"px\",top:(t.translateY||0)+\"px\",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},i||o),l=i.style,a(t,{classSetter:function(t){return function(e){this.element.setAttribute(\"class\",e),t.className=e}}(i),on:function(){return h[0].div&&s.on.apply({element:h[0].div},arguments),t},translateXSetter:r,translateYSetter:r}),t.addedSetters||d(t,l)})}}else i=o;return i.appendChild(l),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}})}(),function(t){var e=t.defined,n=t.each,i=t.extend,o=t.merge,r=t.pick,a=t.timeUnits,s=t.win;t.Time=function(t){this.update(t,!1)},t.Time.prototype={defaultOptions:{},update:function(t){var e=r(t&&t.useUTC,!0),n=this;this.options=t=o(!0,this.options||{},t),this.Date=t.Date||s.Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(e&&!t.getTimezoneOffset&&!t.timezone))||this.timezoneOffset?(this.get=function(t,e){var i=e.getTime(),o=i-n.getTimezoneOffset(e);return e.setTime(o),t=e[\"getUTC\"+t](),e.setTime(i),t},this.set=function(t,e,i){var o;\"Milliseconds\"===t||\"Seconds\"===t||\"Minutes\"===t&&0==e.getTimezoneOffset()%60?e[\"set\"+t](i):(o=n.getTimezoneOffset(e),o=e.getTime()-o,e.setTime(o),e[\"setUTC\"+t](i),t=n.getTimezoneOffset(e),o=e.getTime()+t,e.setTime(o))}):e?(this.get=function(t,e){return e[\"getUTC\"+t]()},this.set=function(t,e,n){return e[\"setUTC\"+t](n)}):(this.get=function(t,e){return e[\"get\"+t]()},this.set=function(t,e,n){return e[\"set\"+t](n)})},makeTime:function(e,n,i,o,a,s){var l,u,h;return this.useUTC?(l=this.Date.UTC.apply(0,arguments),(u=this.getTimezoneOffset(l))!==(h=this.getTimezoneOffset(l+=u))?l+=h-u:u-36e5!==this.getTimezoneOffset(l-36e5)||t.isSafari||(l-=36e5)):l=new this.Date(e,n,r(i,1),r(o,0),r(a,0),r(s,0)).getTime(),l},timezoneOffsetFunction:function(){var e=this,n=this.options,i=s.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(n.timezone){if(i)return function(t){return 6e4*-i.tz(t,n.timezone).utcOffset()};t.error(25)}return this.useUTC&&n.getTimezoneOffset?function(t){return 6e4*n.getTimezoneOffset(t)}:function(){return 6e4*(e.timezoneOffset||0)}},dateFormat:function(e,n,i){if(!t.defined(n)||isNaN(n))return t.defaultOptions.lang.invalidDate||\"\";e=t.pick(e,\"%Y-%m-%d %H:%M:%S\");var o=this,r=new this.Date(n),a=this.get(\"Hours\",r),s=this.get(\"Day\",r),l=this.get(\"Date\",r),u=this.get(\"Month\",r),h=this.get(\"FullYear\",r),c=t.defaultOptions.lang,d=c.weekdays,p=c.shortWeekdays,f=t.pad;return r=t.extend({a:p?p[s]:d[s].substr(0,3),A:d[s],d:f(l),e:f(l,2,\" \"),w:s,b:c.shortMonths[u],B:c.months[u],m:f(u+1),o:u+1,y:h.toString().substr(2,2),Y:h,H:f(a),k:a,I:f(a%12||12),l:a%12||12,M:f(o.get(\"Minutes\",r)),p:12>a?\"AM\":\"PM\",P:12>a?\"am\":\"pm\",S:f(r.getSeconds()),L:f(Math.floor(n%1e3),3)},t.dateFormats),t.objectEach(r,function(t,i){for(;-1!==e.indexOf(\"%\"+i);)e=e.replace(\"%\"+i,\"function\"==typeof t?t.call(o,n):t)}),i?e.substr(0,1).toUpperCase()+e.substr(1):e},resolveDTLFormat:function(e){return t.isObject(e,!0)?e:{main:(e=t.splat(e))[0],from:e[1],to:e[2]}},getTimeTicks:function(t,o,s,l){var u,h,c=this,d=[],p={};u=new c.Date(o);var f,g=t.unitRange,m=t.count||1;if(l=r(l,1),e(o)){c.set(\"Milliseconds\",u,g>=a.second?0:m*Math.floor(c.get(\"Milliseconds\",u)/m)),g>=a.second&&c.set(\"Seconds\",u,g>=a.minute?0:m*Math.floor(c.get(\"Seconds\",u)/m)),g>=a.minute&&c.set(\"Minutes\",u,g>=a.hour?0:m*Math.floor(c.get(\"Minutes\",u)/m)),g>=a.hour&&c.set(\"Hours\",u,g>=a.day?0:m*Math.floor(c.get(\"Hours\",u)/m)),g>=a.day&&c.set(\"Date\",u,g>=a.month?1:m*Math.floor(c.get(\"Date\",u)/m)),g>=a.month&&(c.set(\"Month\",u,g>=a.year?0:m*Math.floor(c.get(\"Month\",u)/m)),h=c.get(\"FullYear\",u)),g>=a.year&&c.set(\"FullYear\",u,h-h%m),g===a.week&&(h=c.get(\"Day\",u),c.set(\"Date\",u,c.get(\"Date\",u)-h+l+(h<l?-7:0))),h=c.get(\"FullYear\",u),l=c.get(\"Month\",u);var v=c.get(\"Date\",u),y=c.get(\"Hours\",u);for(o=u.getTime(),c.variableTimezone&&(f=s-o>4*a.month||c.getTimezoneOffset(o)!==c.getTimezoneOffset(s)),o=u.getTime(),u=1;o<s;)d.push(o),o=g===a.year?c.makeTime(h+u*m,0):g===a.month?c.makeTime(h,l+u*m):!f||g!==a.day&&g!==a.week?f&&g===a.hour&&1<m?c.makeTime(h,l,v,y+u*m):o+g*m:c.makeTime(h,l,v+u*m*(g===a.day?1:7)),u++;d.push(o),g<=a.hour&&1e4>d.length&&n(d,function(t){0==t%18e5&&\"000000000\"===c.dateFormat(\"%H%M%S%L\",t)&&(p[t]=\"day\")})}return d.info=i(t,{higherRanks:p,totalRange:g*m}),d}}}(u),function(t){var e=t.color,n=t.merge;t.defaultOptions={colors:\"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1\".split(\" \"),symbols:[\"circle\",\"diamond\",\"square\",\"triangle\",\"triangle-down\"],lang:{loading:\"Loading...\",months:\"January February March April May June July August September October November December\".split(\" \"),shortMonths:\"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\".split(\" \"),weekdays:\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday\".split(\" \"),decimalPoint:\".\",numericSymbols:\"kMGTPE\".split(\"\"),resetZoom:\"Reset zoom\",resetZoomTitle:\"Reset zoom level 1:1\",thousandsSep:\" \"},global:{},time:t.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:\"line\",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:\"right\",x:-10,y:10}},width:null,height:null,borderColor:\"#335cad\",backgroundColor:\"#ffffff\",plotBorderColor:\"#cccccc\"},title:{text:\"Chart title\",align:\"center\",margin:15,widthAdjust:-44},subtitle:{text:\"\",align:\"center\",widthAdjust:-44},plotOptions:{},labels:{style:{position:\"absolute\",color:\"#333333\"}},legend:{enabled:!0,align:\"center\",alignColumns:!0,layout:\"horizontal\",labelFormatter:function(){return this.name},borderColor:\"#999999\",borderRadius:0,navigation:{activeColor:\"#003399\",inactiveColor:\"#cccccc\"},itemStyle:{color:\"#333333\",fontSize:\"12px\",fontWeight:\"bold\",textOverflow:\"ellipsis\"},itemHoverStyle:{color:\"#000000\"},itemHiddenStyle:{color:\"#cccccc\"},shadow:!1,itemCheckboxStyle:{position:\"absolute\",width:\"13px\",height:\"13px\"},squareSymbol:!0,symbolPadding:5,verticalAlign:\"bottom\",x:0,y:0,title:{style:{fontWeight:\"bold\"}}},loading:{labelStyle:{fontWeight:\"bold\",position:\"relative\",top:\"45%\"},style:{position:\"absolute\",backgroundColor:\"#ffffff\",opacity:.5,textAlign:\"center\"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:\"%A, %b %e, %H:%M:%S.%L\",second:\"%A, %b %e, %H:%M:%S\",minute:\"%A, %b %e, %H:%M\",hour:\"%A, %b %e, %H:%M\",day:\"%A, %b %e, %Y\",week:\"Week from %A, %b %e, %Y\",month:\"%B %Y\",year:\"%Y\"},footerFormat:\"\",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:e(\"#f7f7f7\").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style=\"font-size: 10px\">{point.key}</span><br/>',pointFormat:'<span style=\"color:{point.color}\">\\u25cf</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:\"#333333\",cursor:\"default\",fontSize:\"12px\",pointerEvents:\"none\",whiteSpace:\"nowrap\"}},credits:{enabled:!0,href:\"https://www.highcharts.com\",position:{align:\"right\",x:-10,verticalAlign:\"bottom\",y:-5},style:{cursor:\"pointer\",color:\"#999999\",fontSize:\"9px\"},text:\"Highcharts.com\"}},t.setOptions=function(e){return t.defaultOptions=n(!0,t.defaultOptions,e),t.time.update(n(t.defaultOptions.global,t.defaultOptions.time),!1),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,t.time=new t.Time(n(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,n,i){return t.time.dateFormat(e,n,i)}}(u),function(t){var e=t.correctFloat,n=t.defined,i=t.destroyObjectProperties,o=t.fireEvent,r=t.isNumber,a=t.merge,s=t.pick,l=t.deg2rad;t.Tick=function(t,e,n,i,o){this.axis=t,this.pos=e,this.type=n||\"\",this.isNewLabel=this.isNew=!0,this.parameters=o||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,n||i||this.addLabel()},t.Tick.prototype={addLabel:function(){var i,o,r,l,u=this,h=u.axis,c=h.options,d=h.chart,p=h.categories,f=h.names,g=u.pos,m=s(u.options&&u.options.labels,c.labels),v=g===(b=h.tickPositions)[0],y=g===b[b.length-1],_=(p=this.parameters.category||(p?s(p[g],f[g],g):g),u.label),b=b.info;h.isDatetimeAxis&&b&&(i=(o=d.time.resolveDTLFormat(c.dateTimeLabelFormats[!c.grid&&b.higherRanks[g]||b.unitName])).main),u.isFirst=v,u.isLast=y,u.formatCtx={axis:h,chart:d,isFirst:v,isLast:y,dateTimeLabelFormat:i,tickPositionInfo:b,value:h.isLog?e(h.lin2log(p)):p,pos:g},c=h.labelFormatter.call(u.formatCtx,this.formatCtx),(l=o&&o.list)&&(u.shortenLabel=function(){for(r=0;r<l.length;r++)if(_.attr({text:h.labelFormatter.call(t.extend(u.formatCtx,{dateTimeLabelFormat:l[r]}))}),_.getBBox().width<h.getSlotWidth(u)-2*s(m.padding,5))return;_.attr({text:\"\"})}),n(_)?_&&_.textStr!==c&&(!_.textWidth||m.style&&m.style.width||_.styles.width||_.css({width:null}),_.attr({text:c})):((u.label=_=n(c)&&m.enabled?d.renderer.text(c,0,0,m.useHTML).css(a(m.style)).add(h.labelGroup):null)&&(_.textPxLength=_.getBBox().width),u.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?\"height\":\"width\"]:0},handleOverflow:function(t){var e,n=this.axis,i=n.options.labels,o=t.x,r=n.chart.chartWidth,a=n.chart.spacing,u=s(n.labelLeft,Math.min(n.pos,a[3])),h=(a=s(n.labelRight,Math.max(n.isRadial?0:n.pos+n.len,r-a[1])),this.label),c=this.rotation,d={left:0,center:.5,right:1}[n.labelAlign||h.attr(\"align\")],p=h.getBBox().width,f=n.getSlotWidth(this),g=f,m=1,v={};c||\"justify\"!==s(i.overflow,\"justify\")?0>c&&o-d*p<u?e=Math.round(o/Math.cos(c*l)-u):0<c&&o+d*p>a&&(e=Math.round((r-o)/Math.cos(c*l))):(r=o+(1-d)*p,o-d*p<u?g=t.x+g*(1-d)-u:r>a&&(g=a-t.x+g*d,m=-1),(g=Math.min(f,g))<f&&\"center\"===n.labelAlign&&(t.x+=m*(f-g-d*(f-Math.min(p,g)))),(p>g||n.autoRotation&&(h.styles||{}).width)&&(e=g)),e&&(this.shortenLabel?this.shortenLabel():(v.width=e,(i.style||{}).textOverflow||(v.textOverflow=\"ellipsis\"),h.css(v)))},getPosition:function(e,n,i,r){var a=this.axis,s=a.chart,l=r&&s.oldChartHeight||s.chartHeight;return e={x:e?t.correctFloat(a.translate(n+i,null,null,r)+a.transB):a.left+a.offset+(a.opposite?(r&&s.oldChartWidth||s.chartWidth)-a.right-a.left:0),y:e?l-a.bottom+a.offset-(a.opposite?a.height:0):t.correctFloat(l-a.translate(n+i,null,null,r)-a.transB)},o(this,\"afterGetPosition\",{pos:e}),e},getLabelPosition:function(t,e,i,r,a,s,u,h){var c=this.axis,d=c.transA,p=c.reversed,f=c.staggerLines,g=c.tickRotCorr||{x:0,y:0},m=a.y,v=r||c.reserveSpaceDefault?0:-c.labelOffset*(\"center\"===c.labelAlign?.5:1),y={};return n(m)||(m=0===c.side?i.rotation?-8:-i.getBBox().height:2===c.side?g.y+8:Math.cos(i.rotation*l)*(g.y-i.getBBox(!1,0).height/2)),e=e+m-(s&&!r?s*d*(p?1:-1):0),f&&(i=u/(h||1)%f,c.opposite&&(i=f-i-1),e+=c.labelOffset/f*i),y.x=t=t+a.x+v+g.x-(s&&r?s*d*(p?-1:1):0),y.y=Math.round(e),o(this,\"afterGetLabelPosition\",{pos:y}),y},getMarkPath:function(t,e,n,i,o,r){return r.crispLine([\"M\",t,e,\"L\",t+(o?0:-n),e+(o?n:0)],i)},renderGridLine:function(t,e,n){var i=this.axis,o=i.options,r=this.gridLine,a={},l=this.pos,u=this.type,h=s(this.tickmarkOffset,i.tickmarkOffset),c=i.chart.renderer,d=u?u+\"Grid\":\"grid\",p=o[d+\"LineWidth\"],f=o[d+\"LineColor\"];o=o[d+\"LineDashStyle\"],r||(a.stroke=f,a[\"stroke-width\"]=p,o&&(a.dashstyle=o),u||(a.zIndex=1),t&&(e=0),this.gridLine=r=c.path().attr(a).addClass(\"highcharts-\"+(u?u+\"-\":\"\")+\"grid-line\").add(i.gridGroup)),r&&(n=i.getPlotLinePath(l+h,r.strokeWidth()*n,t,\"pass\"))&&r[t||this.isNew?\"attr\":\"animate\"]({d:n,opacity:e})},renderMark:function(t,e,n){var i=this.axis,o=i.options,r=i.chart.renderer,a=this.type,l=a?a+\"Tick\":\"tick\",u=i.tickSize(l),h=this.mark,c=!h,d=t.x;t=t.y;var p=s(o[l+\"Width\"],!a&&i.isXAxis?1:0);o=o[l+\"Color\"],u&&(i.opposite&&(u[0]=-u[0]),c&&(this.mark=h=r.path().addClass(\"highcharts-\"+(a?a+\"-\":\"\")+\"tick\").add(i.axisGroup),h.attr({stroke:o,\"stroke-width\":p})),h[c?\"attr\":\"animate\"]({d:this.getMarkPath(d,t,u[0],h.strokeWidth()*n,i.horiz,r),opacity:e}))},renderLabel:function(t,e,n,i){var o=(c=this.axis).horiz,a=c.options,l=this.label,u=a.labels,h=u.step,c=s(this.tickmarkOffset,c.tickmarkOffset),d=!0,p=t.x;t=t.y,l&&r(p)&&(l.xy=t=this.getLabelPosition(p,t,l,o,u,c,i,h),this.isFirst&&!this.isLast&&!s(a.showFirstLabel,1)||this.isLast&&!this.isFirst&&!s(a.showLastLabel,1)?d=!1:!o||u.step||u.rotation||e||0===n||this.handleOverflow(t),h&&i%h&&(d=!1),d&&r(t.y)?(t.opacity=n,l[this.isNewLabel?\"attr\":\"animate\"](t),this.isNewLabel=!1):(l.attr(\"y\",-9999),this.isNewLabel=!0))},render:function(e,n,i){var o=(l=this.axis).horiz,r=this.pos,a=s(this.tickmarkOffset,l.tickmarkOffset),l=(a=(r=this.getPosition(o,r,a,n)).x,o&&a===l.pos+l.len||!o&&r.y===l.pos?-1:1);i=s(i,1),this.isActive=!0,this.renderGridLine(n,i,l),this.renderMark(r,i,l),this.renderLabel(r,n,i,e),this.isNew=!1,t.fireEvent(this,\"afterRender\")},destroy:function(){i(this,this.axis)}}}(u);var h=function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,o=t.arrayMin,r=t.color,a=t.correctFloat,s=t.defaultOptions,l=t.defined,u=t.deg2rad,h=t.destroyObjectProperties,c=t.each,d=t.extend,p=t.fireEvent,f=t.format,g=t.getMagnitude,m=t.grep,v=t.inArray,y=t.isArray,_=t.isNumber,b=t.isString,x=t.merge,w=t.normalizeTickInterval,C=t.objectEach,k=t.pick,O=t.removeEvent,M=t.splat,L=t.syncTimeout,S=t.Tick,P=function(){this.init.apply(this,arguments)};return t.extend(P.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:{main:\"%H:%M:%S.%L\",range:!1},second:{main:\"%H:%M:%S\",range:!1},minute:{main:\"%H:%M\",range:!1},hour:{main:\"%H:%M\",range:!1},day:{main:\"%e. %b\"},week:{main:\"%e. %b\"},month:{main:\"%b '%y\"},year:{main:\"%Y\"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0,style:{color:\"#666666\",cursor:\"default\",fontSize:\"11px\"}},maxPadding:.01,minorTickLength:2,minorTickPosition:\"outside\",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:\"between\",tickPosition:\"outside\",title:{align:\"middle\",style:{color:\"#666666\"}},type:\"linear\",minorGridLineColor:\"#f2f2f2\",minorGridLineWidth:1,minorTickColor:\"#999999\",lineColor:\"#ccd6eb\",lineWidth:1,gridLineColor:\"#e6e6e6\",tickColor:\"#ccd6eb\"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:\"Values\"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{color:\"#000000\",fontSize:\"11px\",fontWeight:\"bold\",textOutline:\"1px contrast\"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,n){var i=n.isX,o=this;o.chart=t,o.horiz=t.inverted&&!o.isZAxis?!i:i,o.isXAxis=i,o.coll=o.coll||(i?\"xAxis\":\"yAxis\"),p(this,\"init\",{userOptions:n}),o.opposite=n.opposite,o.side=n.side||(o.horiz?o.opposite?0:2:o.opposite?1:3),o.setOptions(n);var r=this.options,a=r.type;o.labelFormatter=r.labels.formatter||o.defaultLabelFormatter,o.userOptions=n,o.minPixelPadding=0,o.reversed=r.reversed,o.visible=!1!==r.visible,o.zoomEnabled=!1!==r.zoomEnabled,o.hasNames=\"category\"===a||!0===r.categories,o.categories=r.categories||o.hasNames,o.names||(o.names=[],o.names.keys={}),o.plotLinesAndBandsGroups={},o.isLog=\"logarithmic\"===a,o.isDatetimeAxis=\"datetime\"===a,o.positiveValuesOnly=o.isLog&&!o.allowNegativeLog,o.isLinked=l(r.linkedTo),o.ticks={},o.labelEdge=[],o.minorTicks={},o.plotLinesAndBands=[],o.alternateBands={},o.len=0,o.minRange=o.userMinRange=r.minRange||r.maxZoom,o.range=r.range,o.offset=r.offset||0,o.stacks={},o.oldStacks={},o.stacksTouched=0,o.max=null,o.min=null,o.crosshair=k(r.crosshair,M(t.options.tooltip.crosshairs)[i?0:1],!1),n=o.options.events,-1===v(o,t.axes)&&(i?t.axes.splice(t.xAxis.length,0,o):t.axes.push(o),t[o.coll].push(o)),o.series=o.series||[],t.inverted&&!o.isZAxis&&i&&void 0===o.reversed&&(o.reversed=!0),C(n,function(t,n){e(o,n,t)}),o.lin2log=r.linearToLogConverter||o.lin2log,o.isLog&&(o.val2lin=o.log2lin,o.lin2val=o.lin2log),p(this,\"afterInit\")},setOptions:function(t){this.options=x(this.defaultOptions,\"yAxis\"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],x(s[this.coll],t)),p(this,\"afterSetOptions\",{userOptions:t})},defaultLabelFormatter:function(){var e,n=this.value,i=(c=this.axis).chart.time,o=c.categories,r=this.dateTimeLabelFormat,a=(l=s.lang).numericSymbols,l=l.numericSymbolMagnitude||1e3,u=a&&a.length,h=c.options.labels.format,c=c.isLog?Math.abs(n):c.tickInterval;if(h)e=f(h,this,i);else if(o)e=n;else if(r)e=i.dateFormat(r,n);else if(u&&1e3<=c)for(;u--&&void 0===e;)c>=(i=Math.pow(l,u+1))&&0==10*n%i&&null!==a[u]&&0!==n&&(e=t.numberFormat(n/i,-1)+a[u]);return void 0===e&&(e=1e4<=Math.abs(n)?t.numberFormat(n,-1):t.numberFormat(n,-1,void 0,\"\")),e},getSeriesExtremes:function(){var t=this,e=t.chart;p(this,\"getSeriesExtremes\",null,function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),c(t.series,function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var r,a=n.options,s=a.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=s&&(s=null),t.isXAxis?(a=n.xData).length&&(n=o(a),r=i(a),_(n)||n instanceof Date||(a=m(a,_),n=o(a),r=i(a)),a.length&&(t.dataMin=Math.min(k(t.dataMin,a[0],n),n),t.dataMax=Math.max(k(t.dataMax,a[0],r),r))):(n.getExtremes(),r=n.dataMax,l(n=n.dataMin)&&l(r)&&(t.dataMin=Math.min(k(t.dataMin,n),n),t.dataMax=Math.max(k(t.dataMax,r),r)),l(s)&&(t.threshold=s),(!a.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}})}),p(this,\"afterGetSeriesExtremes\")},translate:function(t,e,n,i,o,r){var a=this.linkedParent||this,s=1,l=0,u=i?a.oldTransA:a.transA;i=i?a.oldMin:a.min;var h=a.minPixelPadding;return o=(a.isOrdinal||a.isBroken||a.isLog&&o)&&a.lin2val,u||(u=a.transA),n&&(s*=-1,l=a.len),a.reversed&&(l-=(s*=-1)*(a.sector||a.len)),e?(t=(t*s+l-h)/u+i,o&&(t=a.lin2val(t))):(o&&(t=a.val2lin(t)),t=_(i)?s*(t-i)*u+l+s*h+(_(r)?u*r:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,o){var r,a,s,l=this.chart,u=this.left,h=this.top,c=n&&l.oldChartHeight||l.chartHeight,d=n&&l.oldChartWidth||l.chartWidth;r=this.transB;var p=function(t,e,n){return(\"pass\"!==i&&t<e||t>n)&&(i?t=Math.min(Math.max(e,t),n):s=!0),t};return o=k(o,this.translate(t,null,null,n)),o=Math.min(Math.max(-1e5,o),1e5),t=n=Math.round(o+r),r=a=Math.round(c-o-r),_(o)?this.horiz?(r=h,a=c-this.bottom,t=n=p(t,u,u+this.width)):(t=u,n=d-this.right,r=a=p(r,h,h+this.height)):(s=!0,i=!1),s&&!i?null:l.renderer.crispLine([\"M\",t,r,\"L\",n,a],e||1)},getLinearTickPositions:function(t,e,n){var i,o=a(Math.floor(e/t)*t);n=a(Math.ceil(n/t)*t);var r,s=[];if(a(o+t)===o&&(r=20),this.single)return[e];for(e=o;e<=n&&(s.push(e),(e=a(e+t,r))!==i);)i=e;return s},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?k(t.minorTickInterval,\"auto\"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t,e=this,n=e.options,i=e.tickPositions,o=e.minorTickInterval,r=[],a=e.min-(t=e.pointRangePadding||0),s=(t=e.max+t)-a;if(s&&s/o<e.len/3)if(e.isLog)c(this.paddedTicks,function(t,n,i){n&&r.push.apply(r,e.getLogTickPositions(o,i[n-1],i[n],!0))});else if(e.isDatetimeAxis&&\"auto\"===this.getMinorTickInterval())r=r.concat(e.getTimeTicks(e.normalizeTimeTickInterval(o),a,t,n.startOfWeek));else for(n=a+(i[0]-a)%o;n<=t&&n!==r[0];n+=o)r.push(n);return 0!==r.length&&e.trimTicks(r),r},adjustForMinRange:function(){var t,e,n,r,a,s,u,h=this.options,d=this.min,p=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(h.min)||l(h.max)?this.minRange=null:(c(this.series,function(t){for(s=t.xData,r=t.xIncrement?1:s.length-1;0<r;r--)a=s[r]-s[r-1],(void 0===n||a<n)&&(n=a)}),this.minRange=Math.min(5*n,this.dataMax-this.dataMin))),p-d<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,t=[d-(t=((u=this.minRange)-p+d)/2),k(h.min,d-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),p=[(d=i(t))+u,k(h.max,d+u)],e&&(p[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(p=o(p))-d<u&&(t[0]=p-u,t[1]=k(h.min,p-u),d=i(t))),this.min=d,this.max=p},getClosest:function(){var t;return this.categories?t=1:c(this.series,function(e){var n=e.closestPointRange,i=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(n)&&i&&(t=l(t)?Math.min(t,n):n)}),t},nameToX:function(t){var e,n=y(this.categories),i=n?this.categories:this.names,o=t.options.x;return t.series.requireSorting=!1,l(o)||(o=!1===this.options.uniqueNames?t.series.autoIncrement():n?v(t.name,i):k(i.keys[t.name],-1)),-1===o?n||(e=i.length):e=o,void 0!==e&&(this.names[e]=t.name,this.names.keys[t.name]=e),e},updateNames:function(){var e=this,n=this.names;0<n.length&&(c(t.keys(n.keys),function(t){delete n.keys[t]}),n.length=0,this.minRange=this.userMinRange,c(this.series||[],function(t){t.xIncrement=null,t.points&&!t.isDirtyData||(t.processData(),t.generatePoints()),c(t.points,function(n,i){var o;n.options&&void 0!==(o=e.nameToX(n))&&o!==n.x&&(n.x=o,t.xData[i]=o)})}))},setAxisTranslation:function(t){var e,n=this,i=n.max-n.min,o=n.axisPointRange||0,r=0,a=0,s=n.linkedParent,l=!!n.categories,u=n.transA,h=n.isXAxis;(h||l||o)&&(e=n.getClosest(),s?(r=s.minPointOffset,a=s.pointRangePadding):c(n.series,function(t){var i=l?1:h?k(t.options.pointRange,e,0):n.axisPointRange||0;t=t.options.pointPlacement,o=Math.max(o,i),n.single||(r=Math.max(r,b(t)?0:i/2),a=Math.max(a,\"on\"===t?0:i))}),n.minPointOffset=r*=s=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.pointRangePadding=a*=s,n.pointRange=Math.min(o,i),h&&(n.closestPointRange=e)),t&&(n.oldTransA=u),n.translationSlope=n.transA=u=n.staticScale||n.len/(i+a||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=u*r,p(this,\"afterSetAxisTranslation\")},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var n,i,o,r,s=this,u=s.chart,h=s.options,d=s.isLog,f=s.isDatetimeAxis,m=s.isXAxis,v=s.isLinked,y=h.maxPadding,b=h.minPadding,x=h.tickInterval,C=h.tickPixelInterval,O=s.categories,M=_(s.threshold)?s.threshold:null,L=s.softThreshold;f||O||v||this.getTickAmount(),o=k(s.userMin,h.min),r=k(s.userMax,h.max),v?(s.linkedParent=u[s.coll][h.linkedTo],u=s.linkedParent.getExtremes(),s.min=k(u.min,u.dataMin),s.max=k(u.max,u.dataMax),h.type!==s.linkedParent.options.type&&t.error(11,1)):(!L&&l(M)&&(s.dataMin>=M?(n=M,b=0):s.dataMax<=M&&(i=M,y=0)),s.min=k(o,n,s.dataMin),s.max=k(r,i,s.dataMax)),d&&(s.positiveValuesOnly&&!e&&0>=Math.min(s.min,k(s.dataMin,s.min))&&t.error(10,1),s.min=a(s.log2lin(s.min),15),s.max=a(s.log2lin(s.max),15)),s.range&&l(s.max)&&(s.userMin=s.min=o=Math.max(s.dataMin,s.minFromRange()),s.userMax=r=s.max,s.range=null),p(s,\"foundExtremes\"),s.beforePadding&&s.beforePadding(),s.adjustForMinRange(),!(O||s.axisPointRange||s.usePercentage||v)&&l(s.min)&&l(s.max)&&(u=s.max-s.min)&&(!l(o)&&b&&(s.min-=u*b),!l(r)&&y&&(s.max+=u*y)),_(h.softMin)&&!_(s.userMin)&&(s.min=Math.min(s.min,h.softMin)),_(h.softMax)&&!_(s.userMax)&&(s.max=Math.max(s.max,h.softMax)),_(h.floor)&&(s.min=Math.max(s.min,h.floor)),_(h.ceiling)&&(s.max=Math.min(s.max,h.ceiling)),L&&l(s.dataMin)&&(M=M||0,!l(o)&&s.min<M&&s.dataMin>=M?s.min=M:!l(r)&&s.max>M&&s.dataMax<=M&&(s.max=M)),s.tickInterval=s.min===s.max||void 0===s.min||void 0===s.max?1:v&&!x&&C===s.linkedParent.options.tickPixelInterval?x=s.linkedParent.tickInterval:k(x,this.tickAmount?(s.max-s.min)/Math.max(this.tickAmount-1,1):void 0,O?1:(s.max-s.min)*C/Math.max(s.len,C)),m&&!e&&c(s.series,function(t){t.processData(s.min!==s.oldMin||s.max!==s.oldMax)}),s.setAxisTranslation(!0),s.beforeSetTickPositions&&s.beforeSetTickPositions(),s.postProcessTickInterval&&(s.tickInterval=s.postProcessTickInterval(s.tickInterval)),s.pointRange&&!x&&(s.tickInterval=Math.max(s.pointRange,s.tickInterval)),e=k(h.minTickInterval,s.isDatetimeAxis&&s.closestPointRange),!x&&s.tickInterval<e&&(s.tickInterval=e),f||d||x||(s.tickInterval=w(s.tickInterval,null,g(s.tickInterval),k(h.allowDecimals,!(.5<s.tickInterval&&5>s.tickInterval&&1e3<s.max&&9999>s.max)),!!this.tickAmount)),this.tickAmount||(s.tickInterval=s.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,n=this.options,i=n.tickPositions;e=this.getMinorTickInterval();var o=n.tickPositioner,r=n.startOnTick,a=n.endOnTick;this.tickmarkOffset=this.categories&&\"between\"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval=\"auto\"===e&&this.tickInterval?this.tickInterval/5:e,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==n.allowDecimals),this.tickPositions=e=i&&i.slice(),!e&&(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(e=[this.min,this.max],t.error(19)):e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&(e=[e[0],e.pop()])[0]===e[1]&&(e.length=1),this.tickPositions=e,o&&(o=o.apply(this,[this.min,this.max])))&&(this.tickPositions=e=o),this.paddedTicks=e.slice(0),this.trimTicks(e,r,a),this.isLinked||(this.single&&2>e.length&&(this.min-=.5,this.max+=.5),i||o||this.adjustTickAmount()),p(this,\"afterSetTickPositions\")},trimTicks:function(t,e,n){var i=t[0],o=t[t.length-1],r=this.minPointOffset||0;if(!this.isLinked){if(e&&-1/0!==i)this.min=i;else for(;this.min-r>t[0];)t.shift();if(n)this.max=o;else for(;this.max+r<t[t.length-1];)t.pop();0===t.length&&l(i)&&!this.options.tickPositions&&t.push((o+i)/2)}},alignToOthers:function(){var t,e={},n=this.options;return!1===this.chart.options.chart.alignTicks||!1===n.alignTicks||!1===n.startOnTick||!1===n.endOnTick||this.isLog||c(this.chart[this.coll],function(n){var i=n.options;i=[n.horiz?i.left:i.top,i.width,i.height,i.pane].join(),n.series.length&&(e[i]?t=!0:e[i]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!l(t.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/n)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,n=this.tickAmount,i=this.finalTickAmt,o=e&&e.length,r=k(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(o<n){for(;e.length<n;)e.length%2||this.min===r?e.push(a(e[e.length-1]+t)):e.unshift(a(e[0]-t));this.transA*=(o-1)/(n-1),this.min=e[0],this.max=e[e.length-1]}else o>n&&(this.tickInterval*=2,this.setTickPositions());if(l(i)){for(t=n=e.length;t--;)(3===i&&1==t%2||2>=i&&0<t&&t<n-1)&&e.splice(t,1);this.finalTickAmt=void 0}}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,c(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),p(this,\"afterSetScale\")},setExtremes:function(t,e,n,i,o){var r=this,a=r.chart;n=k(n,!0),c(r.series,function(t){delete t.kdTree}),o=d(o,{min:t,max:e}),p(r,\"setExtremes\",o,function(){r.userMin=t,r.userMax=e,r.eventArgs=o,n&&a.redraw(i)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,o=this.options,r=Math.min(n,k(o.min,n));return o=Math.max(i,k(o.max,i)),t===this.min&&e===this.max||(this.allowZoomOutside||(l(n)&&(t<r&&(t=r),t>o&&(t=o)),l(i)&&(e<r&&(e=r),e>o&&(e=o))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:\"zoom\"})),!0},setAxisSize:function(){var e=this.chart,n=(s=this.options).offsets||[0,0,0,0],i=this.horiz,o=this.width=Math.round(t.relativeLength(k(s.width,e.plotWidth-n[3]+n[1]),e.plotWidth)),r=this.height=Math.round(t.relativeLength(k(s.height,e.plotHeight-n[0]+n[2]),e.plotHeight)),a=this.top=Math.round(t.relativeLength(k(s.top,e.plotTop+n[0]),e.plotHeight,e.plotTop)),s=this.left=Math.round(t.relativeLength(k(s.left,e.plotLeft+n[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-r-a,this.right=e.chartWidth-o-s,this.len=Math.max(i?o:r,0),this.pos=i?s:a},getExtremes:function(){var t=this.isLog;return{min:t?a(this.lin2log(this.min)):this.min,max:t?a(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=(n=this.isLog)?this.lin2log(this.min):this.min,n=n?this.lin2log(this.max):this.max;return null===t||-1/0===t?t=e:1/0===t?t=n:e>t?t=e:n<t&&(t=n),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return 15<(t=(k(t,0)-90*this.side+720)%360)&&165>t?\"right\":195<t&&345>t?\"left\":\"center\"},tickSize:function(t){var e=this.options,n=e[t+\"Length\"],i=k(e[t+\"Width\"],\"tick\"===t&&this.isXAxis?1:0);if(i&&n)return\"inside\"===e[t+\"Position\"]&&(n=-n),[n,i]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,n,i=this.options.labels,o=this.horiz,r=this.tickInterval,s=r,h=this.len/(((this.categories?1:0)+this.max-this.min)/r),d=i.rotation,p=this.labelMetrics(),f=Number.MAX_VALUE,g=function(t){return t=1<(t/=h||1)?Math.ceil(t):1,a(t*r)};return o?(n=!i.staggerLines&&!i.step&&(l(d)?[d]:h<k(i.autoRotationLimit,80)&&i.autoRotation))&&c(n,function(n){var i;(n===d||n&&-90<=n&&90>=n)&&(i=(e=g(Math.abs(p.h/Math.sin(u*n))))+Math.abs(n/360))<f&&(f=i,t=n,s=e)}):i.step||(s=g(p.h)),this.autoRotation=n,this.labelRotation=k(t,d),s},getSlotWidth:function(t){var e=this.chart,n=this.horiz,i=this.options.labels,o=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=e.margin[3];return t&&t.slotWidth||n&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/o||!n&&(i.style&&parseInt(i.style.width,10)||r&&r-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var t,e,n,i=this.chart,o=i.renderer,r=this.tickPositions,a=this.ticks,s=this.options.labels,l=s&&s.style||{},u=this.horiz,h=this.getSlotWidth(),d=Math.max(1,Math.round(h-2*(s.padding||5))),p={},f=this.labelMetrics(),g=s.style&&s.style.textOverflow,m=0;if(b(s.rotation)||(p.rotation=s.rotation||0),c(r,function(t){(t=a[t])&&t.label&&t.label.textPxLength>m&&(m=t.label.textPxLength)}),this.maxLabelLength=m,this.autoRotation)m>d&&m>f.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(h&&(t=d,!g))for(e=\"clip\",d=r.length;!u&&d--;)(n=a[n=r[d]].label)&&(n.styles&&\"ellipsis\"===n.styles.textOverflow?n.css({textOverflow:\"clip\"}):n.textPxLength>h&&n.css({width:h+\"px\"}),n.getBBox().height>this.len/r.length-(f.h-f.f)&&(n.specificTextOverflow=\"ellipsis\"));p.rotation&&(t=m>.5*i.chartHeight?.33*i.chartHeight:m,g||(e=\"ellipsis\")),(this.labelAlign=s.align||this.autoLabelAlign(this.labelRotation))&&(p.align=this.labelAlign),c(r,function(n){var i=(n=a[n])&&n.label,o=l.width,r={};i&&(i.attr(p),n.shortenLabel?n.shortenLabel():t&&!o&&\"nowrap\"!==l.whiteSpace&&(t<i.textPxLength||\"SPAN\"===i.element.tagName)?(r.width=t,g||(r.textOverflow=i.specificTextOverflow||e),i.css(r)):i.styles&&i.styles.width&&!r.width&&!o&&i.css({width:null}),delete i.specificTextOverflow,n.rotation=p.rotation)},this),this.tickRotCorr=o.rotCorr(f.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(t){var e,n=this.opposite,i=this.options.title;this.axisTitle||((e=i.textAlign)||(e=(this.horiz?{low:\"left\",middle:\"center\",high:\"right\"}:{low:n?\"right\":\"left\",middle:\"center\",high:n?\"left\":\"right\"})[i.align]),this.axisTitle=this.chart.renderer.text(i.text,0,0,i.useHTML).attr({zIndex:7,rotation:i.rotation||0,align:e}).addClass(\"highcharts-axis-title\").css(x(i.style)).add(this.axisGroup),this.axisTitle.isNew=!0),i.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[t?\"show\":\"hide\"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new S(this,t)},getOffset:function(){var t,e,n,i=this,o=(b=i.chart).renderer,r=i.options,a=i.tickPositions,s=i.ticks,u=i.horiz,h=i.side,d=b.inverted&&!i.isZAxis?[1,0,3,2][h]:h,f=0,g=0,m=r.title,v=r.labels,y=0,_=b.axisOffset,b=b.clipOffset,x=[-1,1,1,-1][h],w=r.className,O=i.axisParent;t=i.hasData(),i.showAxis=e=t||k(r.showEmpty,!0),i.staggerLines=i.horiz&&v.staggerLines,i.axisGroup||(i.gridGroup=o.g(\"grid\").attr({zIndex:r.gridZIndex||1}).addClass(\"highcharts-\"+this.coll.toLowerCase()+\"-grid \"+(w||\"\")).add(O),i.axisGroup=o.g(\"axis\").attr({zIndex:r.zIndex||2}).addClass(\"highcharts-\"+this.coll.toLowerCase()+\" \"+(w||\"\")).add(O),i.labelGroup=o.g(\"axis-labels\").attr({zIndex:v.zIndex||7}).addClass(\"highcharts-\"+i.coll.toLowerCase()+\"-labels \"+(w||\"\")).add(O)),t||i.isLinked?(c(a,function(t,e){i.generateTick(t,e)}),i.renderUnsquish(),i.reserveSpaceDefault=0===h||2===h||{1:\"left\",3:\"right\"}[h]===i.labelAlign,k(v.reserveSpace,\"center\"===i.labelAlign||null,i.reserveSpaceDefault)&&c(a,function(t){y=Math.max(s[t].getLabelSize(),y)}),i.staggerLines&&(y*=i.staggerLines),i.labelOffset=y*(i.opposite?-1:1)):C(s,function(t,e){t.destroy(),delete s[e]}),m&&m.text&&!1!==m.enabled&&(i.addTitle(e),e&&!1!==m.reserveSpace&&(i.titleOffset=f=i.axisTitle.getBBox()[u?\"height\":\"width\"],g=l(n=m.offset)?0:k(m.margin,u?5:10))),i.renderLine(),i.offset=x*k(r.offset,_[h]),i.tickRotCorr=i.tickRotCorr||{x:0,y:0},o=0===h?-i.labelMetrics().h:2===h?i.tickRotCorr.y:0,g=Math.abs(y)+g,y&&(g=g-o+x*(u?k(v.y,i.tickRotCorr.y+8*x):v.x)),i.axisTitleMargin=k(n,g),i.getMaxLabelDimensions&&(i.maxLabelDimensions=i.getMaxLabelDimensions(s,a)),u=this.tickSize(\"tick\"),_[h]=Math.max(_[h],i.axisTitleMargin+f+x*i.offset,g,t&&a.length&&u?u[0]+x*i.offset:0),r=r.offset?0:2*Math.floor(i.axisLine.strokeWidth()/2),b[d]=Math.max(b[d],r),p(this,\"afterGetOffset\")},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.horiz,o=this.left+(n?this.width:0)+(r=this.offset),r=e.chartHeight-this.bottom-(n?this.height:0)+r;return n&&(t*=-1),e.renderer.crispLine([\"M\",i?this.left:o,i?r:this.top,\"L\",i?e.chartWidth-this.right:o,i?r:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass(\"highcharts-axis-line\").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,\"stroke-width\":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,i=this.len,o=this.options.title,r=t?e:n,a=this.opposite,s=this.offset,l=o.x||0,u=o.y||0,h=this.chart.renderer.fontMetrics(o.style&&o.style.fontSize,c=this.axisTitle),c=Math.max(c.getBBox(null,0).height-h.h-1,0);return i={low:r+(t?0:i),middle:r+i/2,high:r+(t?i:0)}[o.align],e=(t?n+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+[-c,c,h.f,-c][this.side],{x:t?i+l:e+(a?this.width:0)+s+l,y:t?e+u-(a?this.height:0)+s:i+u}},renderMinorTick:function(t){var e=this.chart.hasRendered&&_(this.oldMin),n=this.minorTicks;n[t]||(n[t]=new S(this,t,\"minor\")),e&&n[t].isNew&&n[t].render(null,!0),n[t].render(null,!1,1)},renderTick:function(t,e){var n=this.isLinked,i=this.ticks,o=this.chart.hasRendered&&_(this.oldMin);(!n||t>=this.min&&t<=this.max)&&(i[t]||(i[t]=new S(this,t)),o&&i[t].isNew&&i[t].render(e,!0,-1),i[t].render(e))},render:function(){var e,i,o=this,r=o.chart,a=o.options,s=o.isLog,l=o.isLinked,u=o.tickPositions,h=o.axisTitle,d=o.ticks,f=o.minorTicks,g=o.alternateBands,m=a.stackLabels,v=a.alternateGridColor,y=o.tickmarkOffset,b=o.axisLine,x=o.showAxis,w=n(r.renderer.globalAnimation);o.labelEdge.length=0,o.overlap=!1,c([d,f,g],function(t){C(t,function(t){t.isActive=!1})}),(o.hasData()||l)&&(o.minorTickInterval&&!o.categories&&c(o.getMinorTickPositions(),function(t){o.renderMinorTick(t)}),u.length&&(c(u,function(t,e){o.renderTick(t,e)}),y&&(0===o.min||o.single)&&(d[-1]||(d[-1]=new S(o,-1,null,!0)),d[-1].render(-1))),v&&c(u,function(n,a){i=void 0!==u[a+1]?u[a+1]+y:o.max-y,0==a%2&&n<o.max&&i<=o.max+(r.polar?-y:y)&&(g[n]||(g[n]=new t.PlotLineOrBand(o)),e=n+y,g[n].options={from:s?o.lin2log(e):e,to:s?o.lin2log(i):i,color:v},g[n].render(),g[n].isActive=!0)}),o._addedPlotLB||(c((a.plotLines||[]).concat(a.plotBands||[]),function(t){o.addPlotBandOrLine(t)}),o._addedPlotLB=!0)),c([d,f,g],function(t){var e,n=[],i=w.duration;C(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,n.push(e))}),L(function(){for(e=n.length;e--;)t[n[e]]&&!t[n[e]].isActive&&(t[n[e]].destroy(),delete t[n[e]])},t!==g&&r.hasRendered&&i?i:0)}),b&&(b[b.isPlaced?\"animate\":\"attr\"]({d:this.getLinePath(b.strokeWidth())}),b.isPlaced=!0,b[x?\"show\":\"hide\"](!0)),h&&x&&(a=o.getTitlePosition(),_(a.y)?(h[h.isNew?\"attr\":\"animate\"](a),h.isNew=!1):(h.attr(\"y\",-9999),h.isNew=!0)),m&&m.enabled&&o.renderStackTotals(),o.isDirty=!1,p(this,\"afterRender\")},redraw:function(){this.visible&&(this.render(),c(this.plotLinesAndBands,function(t){t.render()})),c(this.series,function(t){t.isDirty=!0})},keepProps:\"extKey hcEvents names series userMax userMin\".split(\" \"),destroy:function(t){var e,n=this,i=n.stacks,o=n.plotLinesAndBands;if(p(this,\"destroy\",{keepEvents:t}),t||O(n),C(i,function(t,e){h(t),i[e]=null}),c([n.ticks,n.minorTicks,n.alternateBands],function(t){h(t)}),o)for(t=o.length;t--;)o[t].destroy();for(e in c(\"stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar\".split(\" \"),function(t){n[t]&&(n[t]=n[t].destroy())}),n.plotLinesAndBandsGroups)n.plotLinesAndBandsGroups[e]=n.plotLinesAndBandsGroups[e].destroy();C(n,function(t,e){-1===v(e,n.keepProps)&&delete n[e]})},drawCrosshair:function(t,e){var n,i,o=this.crosshair,a=k(o.snap,!0),s=this.cross;if(p(this,\"drawCrosshair\",{e:t,point:e}),t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(l(e)||!a)){if(a?l(e)&&(i=k(e.crosshairPos,this.isXAxis?e.plotX:this.len-e.plotY)):i=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(i)&&(n=this.getPlotLinePath(e&&(this.isXAxis?e.x:k(e.stackY,e.y)),null,null,null,i)||null),!l(n))return void this.hideCrosshair();a=this.categories&&!this.isRadial,s||(this.cross=s=this.chart.renderer.path().addClass(\"highcharts-crosshair highcharts-crosshair-\"+(a?\"category \":\"thin \")+o.className).attr({zIndex:k(o.zIndex,2)}).add(),s.attr({stroke:o.color||(a?r(\"#ccd6eb\").setOpacity(.25).get():\"#cccccc\"),\"stroke-width\":k(o.width,1)}).css({\"pointer-events\":\"none\"}),o.dashStyle&&s.attr({dashstyle:o.dashStyle})),s.show().attr({d:n}),a&&!o.width&&s.attr({\"stroke-width\":this.transA}),this.cross.e=t}else this.hideCrosshair();p(this,\"afterDrawCrosshair\",{e:t,point:e})},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=P}(u);return function(t){var e=u.Axis,n=u.getMagnitude,i=u.normalizeTickInterval,o=u.timeUnits;e.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},e.prototype.normalizeTimeTickInterval=function(t,e){var r,a=e||[[\"millisecond\",[1,2,5,10,20,25,50,100,200,500]],[\"second\",[1,2,5,10,15,30]],[\"minute\",[1,2,5,10,15,30]],[\"hour\",[1,2,3,4,6,8,12]],[\"day\",[1,2]],[\"week\",[1,2]],[\"month\",[1,2,3,4,6]],[\"year\",null]],s=o[(e=a[a.length-1])[0]],l=e[1];for(r=0;r<a.length&&(s=o[(e=a[r])[0]],l=e[1],!(a[r+1]&&t<=(s*l[l.length-1]+o[a[r+1][0]])/2));r++);return s===o.year&&t<5*s&&(l=[1,2,5]),{unitRange:s,count:t=i(t/s,l,\"year\"===e[0]?Math.max(n(t/s),1):1),unitName:e[0]}}}(),function(t){var e=u.Axis,n=u.getMagnitude,i=u.map,o=u.normalizeTickInterval,r=u.pick;e.prototype.getLogTickPositions=function(t,e,a,s){var l=this.options,u=this.len,h=[];if(s||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),h=this.getLinearTickPositions(t,e,a);else if(.08<=t){var c,d,p,f,g;for(u=Math.floor(e),l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];u<a+1&&!g;u++)for(d=l.length,c=0;c<d&&!g;c++)(p=this.log2lin(this.lin2log(u)*l[c]))>e&&(!s||f<=a)&&void 0!==f&&h.push(f),f>a&&(g=!0),f=p}else e=this.lin2log(e),a=this.lin2log(a),t=s?this.getMinorTickInterval():l.tickInterval,t=r(\"auto\"===t?null:t,this._minorAutoInterval,l.tickPixelInterval/(s?5:1)*(a-e)/((s?u/this.tickPositions.length:u)||1)),t=o(t,null,n(t)),h=i(this.getLinearTickPositions(t,e,a),this.log2lin),s||(this._minorAutoInterval=t/5);return s||(this.tickInterval=t),h},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(),function(t,e){var n=t.arrayMax,i=t.arrayMin,o=t.defined,r=t.destroyObjectProperties,a=t.each,s=t.erase,l=t.merge,u=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){t.fireEvent(this,\"render\");var e=this,n=e.axis,i=n.horiz,r=e.options,a=r.label,s=e.label,h=r.to,c=r.from,d=r.value,p=o(c)&&o(h),f=o(d),g=e.svgElem,m=!g,v=[],y=r.color,_=u(r.zIndex,0),b=r.events,x=(v={class:\"highcharts-plot-\"+(p?\"band \":\"line \")+(r.className||\"\")},{}),w=n.chart.renderer,C=p?\"bands\":\"lines\";if(n.isLog&&(c=n.log2lin(c),h=n.log2lin(h),d=n.log2lin(d)),f?(v.stroke=y,v[\"stroke-width\"]=r.width,r.dashStyle&&(v.dashstyle=r.dashStyle)):p&&(y&&(v.fill=y),r.borderWidth&&(v.stroke=r.borderColor,v[\"stroke-width\"]=r.borderWidth)),x.zIndex=_,(y=n.plotLinesAndBandsGroups[C+=\"-\"+_])||(n.plotLinesAndBandsGroups[C]=y=w.g(\"plot-\"+C).attr(x).add()),m&&(e.svgElem=g=w.path().attr(v).add(y)),f)v=n.getPlotLinePath(d,g.strokeWidth());else{if(!p)return;v=n.getPlotBandPath(c,h,r)}return m&&v&&v.length?(g.attr({d:v}),b&&t.objectEach(b,function(t,n){g.on(n,function(t){b[n].apply(e,[t])})})):g&&(v?(g.show(),g.animate({d:v})):(g.hide(),s&&(e.label=s=s.destroy()))),a&&o(a.text)&&v&&v.length&&0<n.width&&0<n.height&&!v.isFlat?(a=l({align:i&&p&&\"center\",x:i?!p&&4:10,verticalAlign:!i&&p&&\"middle\",y:i?p?16:10:p?6:-4,rotation:i&&!p&&90},a),this.renderLabel(a,v,p,_)):s&&s.hide(),e},renderLabel:function(t,e,o,r){var a=this.label,s=this.axis.chart.renderer;a||((a={align:t.textAlign||t.align,rotation:t.rotation,class:\"highcharts-plot-\"+(o?\"band\":\"line\")+\"-label \"+(t.className||\"\")}).zIndex=r,this.label=a=s.text(t.text,0,0,t.useHTML).attr(a).add(),a.css(t.style)),r=e.xBounds||[e[1],e[4],o?e[6]:e[1]],e=e.yBounds||[e[2],e[5],o?e[7]:e[2]],o=i(r),s=i(e),a.align(t,!1,{x:o,y:s,width:n(r)-o,height:n(e)-s}),a.show()},destroy:function(){s(this.axis.plotLinesAndBands,this),delete this.axis,r(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var n,i=this.getPlotLinePath(e,null,null,!0),o=this.getPlotLinePath(t,null,null,!0),r=[],a=this.horiz,s=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,o&&i)for(t&&(n=o.toString()===i.toString(),s=0),t=0;t<o.length;t+=6)a&&i[t+1]===o[t+1]?(i[t+1]+=s,i[t+4]+=s):a||i[t+2]!==o[t+2]||(i[t+2]+=s,i[t+5]+=s),r.push(\"M\",o[t+1],o[t+2],\"L\",o[t+4],o[t+5],i[t+4],i[t+5],i[t+1],i[t+2],\"z\"),r.isFlat=n;return r},addPlotBand:function(t){return this.addPlotBandOrLine(t,\"plotBands\")},addPlotLine:function(t){return this.addPlotBandOrLine(t,\"plotLines\")},addPlotBandOrLine:function(e,n){var i=new t.PlotLineOrBand(this,e).render(),o=this.userOptions;return i&&(n&&(o[n]=o[n]||[],o[n].push(e)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,o=e.length;o--;)e[o].id===t&&e[o].destroy();a([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(o=e.length;o--;)e[o].id===t&&s(e,e[o])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(u,h),function(t){var e=t.doc,n=t.each,i=t.extend,o=t.format,r=t.isNumber,a=t.map,s=t.merge,l=t.pick,u=t.splat,h=t.syncTimeout,c=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split,this.outside=e.outside&&!this.split},cleanSplit:function(t){n(this.chart.series,function(e){var n=e&&e.tt;n&&(!n.isActive||t?e.tt=n.destroy():n.isActive=!1)})},getLabel:function(){var e,n=this.chart.renderer,i=this.options;return this.label||(this.outside&&(this.container=e=t.doc.createElement(\"div\"),e.className=\"highcharts-tooltip-container\",t.css(e,{position:\"absolute\",top:\"1px\",pointerEvents:i.style&&i.style.pointerEvents}),t.doc.body.appendChild(e),this.renderer=n=new t.Renderer(e,0,0)),this.split?this.label=n.g(\"tooltip\"):(this.label=n.label(\"\",0,0,i.shape||\"callout\",null,null,i.useHTML,null,\"tooltip\").attr({padding:i.padding,r:i.borderRadius}),this.label.attr({fill:i.backgroundColor,\"stroke-width\":i.borderWidth}).css(i.style).shadow(i.shadow)),this.outside&&(this.label.attr({x:this.distance,y:this.distance}),this.label.xSetter=function(t){e.style.left=t+\"px\"},this.label.ySetter=function(t){e.style.top=t+\"px\"}),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),s(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,s(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),t.discardElement(this.container)),t.clearTimeout(this.hideTimer),t.clearTimeout(this.tooltipTimeout)},move:function(e,n,o,r){var a=this,s=a.now,l=!1!==a.options.animation&&!a.isHidden&&(1<Math.abs(e-s.x)||1<Math.abs(n-s.y)),u=a.followPointer||1<a.len;i(s,{x:l?(2*s.x+e)/3:e,y:l?(s.y+n)/2:n,anchorX:u?void 0:l?(2*s.anchorX+o)/3:o,anchorY:u?void 0:l?(s.anchorY+r)/2:r}),a.getLabel().attr(s),l&&(t.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){a&&a.move(e,n,o,r)},32))},hide:function(e){var n=this;t.clearTimeout(this.hideTimer),e=l(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=h(function(){n.getLabel()[e?\"fadeOut\":\"hide\"](),n.isHidden=!0},e))},getAnchor:function(t,e){var i,o,r=this.chart,s=r.pointer,l=r.inverted,h=r.plotTop,c=r.plotLeft,d=0,p=0;return t=u(t),this.followPointer&&e?(void 0===e.chartX&&(e=s.normalize(e)),t=[e.chartX-r.plotLeft,e.chartY-h]):t[0].tooltipPos?t=t[0].tooltipPos:(n(t,function(t){i=t.series.yAxis,o=t.series.xAxis,d+=t.plotX+(!l&&o?o.left-c:0),p+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&i?i.top-h:0)}),d/=t.length,p/=t.length,t=[l?r.plotWidth-p:d,this.shared&&!l&&1<t.length&&e?e.chartY-h:l?r.plotHeight-d:p]),a(t,Math.round)},getPosition:function(t,n,i){var o,r=this.chart,a=this.distance,s={},u=r.inverted&&i.h||0,h=this.outside,c=h?e.documentElement.clientWidth-2*a:r.chartWidth,d=h?Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.documentElement.clientHeight):r.chartHeight,p=r.pointer.chartPosition,f=[\"y\",d,n,(h?p.top-a:0)+i.plotY+r.plotTop,h?0:r.plotTop,h?d:r.plotTop+r.plotHeight],g=[\"x\",c,t,(h?p.left-a:0)+i.plotX+r.plotLeft,h?0:r.plotLeft,h?c:r.plotLeft+r.plotWidth],m=!this.followPointer&&l(i.ttBelow,!r.inverted==!!i.negative),v=function(t){var e=f;f=g,g=e,o=t},y=function(){!1!==(function(t,e,n,i,o,r){var l=n<i-a,h=i+a+n<e,c=i-a-n;if(i+=a,m&&h)s[t]=i;else if(!m&&l)s[t]=c;else if(l)s[t]=Math.min(r-n,0>c-u?c:c-u);else{if(!h)return!1;s[t]=Math.max(o,i+u+n>e?i:i+u)}}).apply(0,f)?!1!==(function(t,e,n,i){var o;return i<a||i>e-a?o=!1:s[t]=i<n/2?1:i>e-n/2?e-n-2:i-n/2,o}).apply(0,g)||o||(v(!0),y()):o?s.x=s.y=0:(v(!0),y())};return(r.inverted||1<this.len)&&v(),y(),s},defaultFormatter:function(t){var e,n=this.points||u(this);return(e=(e=[t.tooltipFooterHeaderFormatter(n[0])]).concat(t.bodyFormatter(n))).push(t.tooltipFooterHeaderFormatter(n[0],!0)),e},refresh:function(e,i){var o,r,a,s,h=this.options,c=e,d={},p=[];o=h.formatter||this.defaultFormatter,d=this.shared,h.enabled&&(t.clearTimeout(this.hideTimer),this.followPointer=u(c)[0].series.tooltipOptions.followPointer,i=(a=this.getAnchor(c,i))[0],r=a[1],!d||c.series&&c.series.noSharedTooltip?d=c.getLabelConfig():(n(c,function(t){t.setState(\"hover\"),p.push(t.getLabelConfig())}),(d={x:c[0].category,y:c[0].y}).points=p,c=c[0]),this.len=p.length,d=o.call(d,this),this.distance=l((s=c.series).tooltipOptions.distance,16),!1===d?this.hide():(o=this.getLabel(),this.isHidden&&o.attr({opacity:1}).show(),this.split?this.renderSplit(d,u(e)):(h.style.width||o.css({width:this.chart.spacingBox.width}),o.attr({text:d&&d.join?d.join(\"\"):d}),o.removeClass(/highcharts-color-[\\d]+/g).addClass(\"highcharts-color-\"+l(c.colorIndex,s.colorIndex)),o.attr({stroke:h.borderColor||c.color||s.color||\"#666666\"}),this.updatePosition({plotX:i,plotY:r,negative:c.negative,ttBelow:c.ttBelow,h:a[2]||0})),this.isHidden=!1))},renderSplit:function(e,i){var o,r=this,a=[],s=this.chart,u=s.renderer,h=!0,c=this.options,d=0,p=this.getLabel(),f=s.plotTop;t.isString(e)&&(e=[!1,e]),n(e.slice(0,i.length+1),function(t,e){if(!1!==t){var n=(e=i[e-1]||{isHeader:!0,plotX:i[0].plotX}).series||r,g=n.tt,m=e.series||{},v=\"highcharts-color-\"+l(e.colorIndex,m.colorIndex,\"none\");g||(n.tt=g=u.label(null,null,null,\"callout\",null,null,c.useHTML).addClass(\"highcharts-tooltip-box \"+v+(e.isHeader?\" highcharts-tooltip-header\":\"\")).attr({padding:c.padding,r:c.borderRadius,fill:c.backgroundColor,stroke:c.borderColor||e.color||m.color||\"#333333\",\"stroke-width\":c.borderWidth}).add(p)),g.isActive=!0,g.attr({text:t}),g.css(c.style).shadow(c.shadow),m=(t=g.getBBox()).width+g.strokeWidth(),e.isHeader?(d=t.height,s.xAxis[0].opposite&&(o=!0,f-=d),m=Math.max(0,Math.min(e.plotX+s.plotLeft-m/2,s.chartWidth+(s.scrollablePixels?s.scrollablePixels-s.marginRight:0)-m))):m=e.plotX+s.plotLeft-l(c.distance,16)-m,0>m&&(h=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=f,e.isHeader&&(t=o?-d:s.plotHeight+d),a.push({target:t,rank:e.isHeader?1:0,size:n.tt.getBBox().height+1,point:e,x:m,tt:g})}}),this.cleanSplit(),t.distribute(a,s.plotHeight+d),n(a,function(t){var e=t.point,n=e.series;t.tt.attr({visibility:void 0===t.pos?\"hidden\":\"inherit\",x:h||e.isHeader?t.x:e.plotX+s.plotLeft+l(c.distance,16),y:t.pos+f,anchorX:e.isHeader?e.plotX+s.plotLeft:e.plotX+n.xAxis.pos,anchorY:e.isHeader?s.plotTop+s.plotHeight/2:e.plotY+n.yAxis.pos})})},updatePosition:function(t){var e,n=this.chart,i=this.getLabel(),o=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t),r=t.plotX+n.plotLeft;t=t.plotY+n.plotTop,this.outside&&(this.renderer.setSize(i.width+(e=(this.options.borderWidth||0)+2*this.distance),i.height+e,!1),r+=n.pointer.chartPosition.left-o.x,t+=n.pointer.chartPosition.top-o.y),this.move(Math.round(o.x),Math.round(o.y||0),r,t)},getDateFormat:function(t,e,n,i){var o,r,a=this.chart.time,s=a.dateFormat(\"%m-%d %H:%M:%S.%L\",e),l={millisecond:15,second:12,minute:9,hour:6,day:3},u=\"millisecond\";for(r in c){if(t===c.week&&+a.dateFormat(\"%w\",e)===n&&\"00:00:00.000\"===s.substr(6)){r=\"week\";break}if(c[r]>t){r=u;break}if(l[r]&&s.substr(l[r])!==\"01-01 00:00:00.000\".substr(l[r]))break;\"week\"!==r&&(u=r)}return r&&(o=a.resolveDTLFormat(i[r]).main),o},getXDateFormat:function(t,e,n){e=e.dateTimeLabelFormats;var i=n&&n.closestPointRange;return(i?this.getDateFormat(i,t.x,n.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(t,e){e=e?\"footer\":\"header\";var i=t.series,a=i.tooltipOptions,s=a.xDateFormat,l=i.xAxis,u=l&&\"datetime\"===l.options.type&&r(t.key),h=a[e+\"Format\"];return u&&!s&&(s=this.getXDateFormat(t,a,l)),u&&s&&n(t.point&&t.point.tooltipDateKeys||[\"key\"],function(t){h=h.replace(\"{point.\"+t+\"}\",\"{point.\"+t+\":\"+s+\"}\")}),o(h,{point:t,series:i},this.chart.time)},bodyFormatter:function(t){return a(t,function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||\"point\")+\"Formatter\"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||\"point\")+\"Format\"])})}}}(u),function(t){var e=t.addEvent,n=t.attr,i=t.charts,o=t.color,r=t.css,a=t.defined,s=t.each,l=t.extend,u=t.find,h=t.fireEvent,c=t.isNumber,d=t.isObject,p=t.offset,f=t.pick,g=t.splat,m=t.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},m&&(t.tooltip=new m(t,e.tooltip),this.followTouchMove=f(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=(i=this.chart).options.chart,n=e.zoomType||\"\",i=i.inverted;/touch/.test(t.type)&&(n=f(e.pinchType,n)),this.zoomX=t=/x/.test(n),this.zoomY=n=/y/.test(n),this.zoomHor=t&&!i||n&&i,this.zoomVert=n&&!i||t&&i,this.hasZoom=t||n},normalize:function(t,e){var n;return n=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=p(this.chart.container)),l(t,{chartX:Math.round(n.pageX-e.left),chartY:Math.round(n.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return s(this.chart.axes,function(n){e[n.isXAxis?\"xAxis\":\"yAxis\"].push({axis:n,value:n.toValue(t[n.horiz?\"chartX\":\"chartY\"])})}),e},findNearestKDPoint:function(t,e,n){var i;return s(t,function(t){var o=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf(\"y\");if(t=t.searchPoint(n,o),(o=d(t,!0))&&!(o=!d(i,!0))){var r=i.dist-t.dist,a=(t.series.group&&t.series.group.zIndex)-(i.series.group&&i.series.group.zIndex);o=0<(0!=(o=i.distX-t.distX)&&e?o:0!==r?r:0!==a?a:i.series.index>t.series.index?-1:1)}o&&(i=t)}),i},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var n=(i=t.series).xAxis,i=i.yAxis,o=f(t.clientX,t.plotX),r=t.shapeArgs;return n&&i?e?{chartX:n.len+n.pos-o,chartY:i.len+i.pos-t.plotY}:{chartX:o+n.pos,chartY:t.plotY+i.pos}:r&&r.x&&r.y?{chartX:r.x,chartY:r.y}:void 0},getHoverData:function(e,n,i,o,r,a,l){var h,c=[],p=l&&l.isBoosting;return o=!(!o||!e),l=n&&!n.stickyTracking?[n]:t.grep(i,function(t){return t.visible&&!(!r&&t.directTouch)&&f(t.options.enableMouseTracking,!0)&&t.stickyTracking}),n=(h=o?e:this.findNearestKDPoint(l,r,a))&&h.series,h&&(r&&!n.noSharedTooltip?(l=t.grep(i,function(t){return t.visible&&!(!r&&t.directTouch)&&f(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip}),s(l,function(t){var e=u(t.points,function(t){return t.x===h.x&&!t.isNull});d(e)&&(p&&(e=t.getPoint(e)),c.push(e))})):c.push(h)),{hoverPoint:h,hoverSeries:n,hoverPoints:c}},runPointActions:function(n,o){var r,a,l=this.chart,u=l.tooltip&&l.tooltip.options.enabled?l.tooltip:void 0,h=!!u&&u.shared,c=(r=this.getHoverData(c=o||l.hoverPoint,r=c&&c.series||l.hoverSeries,l.series,\"touchmove\"!==n.type&&(!!o||r&&r.directTouch&&this.isDirectTouch),h,n,{isBoosting:l.isBoosting})).hoverPoint;if(a=r.hoverPoints,o=(r=r.hoverSeries)&&r.tooltipOptions.followPointer,h=h&&r&&!r.noSharedTooltip,c&&(c!==l.hoverPoint||u&&u.isHidden)){if(s(l.hoverPoints||[],function(e){-1===t.inArray(e,a)&&e.setState()}),s(a||[],function(t){t.setState(\"hover\")}),l.hoverSeries!==r&&r.onMouseOver(),l.hoverPoint&&l.hoverPoint.firePointEvent(\"mouseOut\"),!c.series)return;c.firePointEvent(\"mouseOver\"),l.hoverPoints=a,l.hoverPoint=c,u&&u.refresh(h?a:c,n)}else o&&u&&!u.isHidden&&(c=u.getAnchor([{}],n),u.updatePosition({plotX:c[0],plotY:c[1]}));this.unDocMouseMove||(this.unDocMouseMove=e(l.container.ownerDocument,\"mousemove\",function(e){var n=i[t.hoverChartIndex];n&&n.pointer.onDocumentMouseMove(e)})),s(l.axes,function(e){var i=f(e.crosshair.snap,!0),o=i?t.find(a,function(t){return t.series[e.coll]===e}):void 0;o||!i?e.drawCrosshair(n,o):e.hideCrosshair()})},reset:function(t,e){var n=this.chart,i=n.hoverSeries,o=n.hoverPoint,r=n.hoverPoints,a=n.tooltip,l=a&&a.shared?r:o;t&&l&&s(g(l),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?a&&l&&(a.refresh(l),a.shared&&r?s(r,function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))}):o&&(o.setState(o.state,!0),s(n.axes,function(t){t.crosshair&&t.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),r&&s(r,function(t){t.setState()}),i&&i.onMouseOut(),a&&a.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),s(n.axes,function(t){t.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var n,i=this.chart;s(i.series,function(o){n=t||o.getPlotBox(),o.xAxis&&o.xAxis.zoomEnabled&&o.group&&(o.group.attr(n),o.markerGroup&&(o.markerGroup.attr(n),o.markerGroup.clip(e?i.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n=this.chart,i=n.options.chart,r=t.chartX,a=t.chartY,s=this.zoomHor,l=this.zoomVert,u=n.plotLeft,h=n.plotTop,c=n.plotWidth,d=n.plotHeight,p=this.selectionMarker,f=this.mouseDownX,g=this.mouseDownY,m=i.panKey&&t[i.panKey+\"Key\"];p&&p.touch||(r<u?r=u:r>u+c&&(r=u+c),a<h?a=h:a>h+d&&(a=h+d),this.hasDragged=Math.sqrt(Math.pow(f-r,2)+Math.pow(g-a,2)),10<this.hasDragged&&(e=n.isInsidePlot(f-u,g-h),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!m&&!p&&(this.selectionMarker=p=n.renderer.rect(u,h,s?1:c,l?1:d,0).attr({fill:i.selectionMarkerFill||o(\"#335cad\").setOpacity(.25).get(),class:\"highcharts-selection-marker\",zIndex:7}).add()),p&&s&&(r-=f,p.attr({width:Math.abs(r),x:(0<r?0:r)+f})),p&&l&&(r=a-g,p.attr({height:Math.abs(r),y:(0<r?0:r)+g})),e&&!p&&i.panning&&n.pan(t,i.panning)))},drop:function(t){var e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var o,u={originalEvent:t,xAxis:[],yAxis:[]},d=this.selectionMarker,p=d.attr?d.attr(\"x\"):d.x,f=d.attr?d.attr(\"y\"):d.y,g=d.attr?d.attr(\"width\"):d.width,m=d.attr?d.attr(\"height\"):d.height;(this.hasDragged||i)&&(s(n.axes,function(n){if(n.zoomEnabled&&a(n.min)&&(i||e[{xAxis:\"zoomX\",yAxis:\"zoomY\"}[n.coll]])){var r=\"touchend\"===t.type?n.minPixelPadding:0,s=n.toValue(((l=n.horiz)?p:f)+r),l=n.toValue((l?p+g:f+m)-r);u[n.coll].push({axis:n,min:Math.min(s,l),max:Math.max(s,l)}),o=!0}}),o&&h(n,\"selection\",u,function(t){n.zoom(l(t,i?{animation:!1}:null))})),c(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),i&&this.scaleGroups()}n&&c(n.index)&&(r(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){2!==(t=this.normalize(t)).button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(e){i[t.hoverChartIndex]&&i[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n),!n||this.inClass(t.target,\"highcharts-tracker\")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var n=i[t.hoverChartIndex];n&&(e.relatedTarget||e.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=null)},onContainerMouseMove:function(e){var n=this.chart;a(t.hoverChartIndex)&&i[t.hoverChartIndex]&&i[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=n.index),(e=this.normalize(e)).returnValue=!1,\"mousedown\"===n.mouseIsDown&&this.drag(e),!this.inClass(e.target,\"highcharts-tracker\")&&!n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)||n.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var i;t;){if(i=n(t,\"class\")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf(\"highcharts-container\"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,\"highcharts-tooltip\")||this.inClass(t,\"highcharts-series-\"+e.index)&&this.inClass(t,\"highcharts-tracker\")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,o=e.plotTop;t=this.normalize(t),e.cancelClick||(n&&this.inClass(t.target,\"highcharts-tracker\")?(h(n.series,\"click\",l(t,{point:n})),e.hoverPoint&&n.firePointEvent(\"click\",t)):(l(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-o)&&h(e,\"click\",t)))},setDOMEvents:function(){var n=this,i=n.chart.container,o=i.ownerDocument;i.onmousedown=function(t){n.onContainerMouseDown(t)},i.onmousemove=function(t){n.onContainerMouseMove(t)},i.onclick=function(t){n.onContainerClick(t)},this.unbindContainerMouseLeave=e(i,\"mouseleave\",n.onContainerMouseLeave),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=e(o,\"mouseup\",n.onDocumentMouseUp)),t.hasTouch&&(i.ontouchstart=function(t){n.onContainerTouchStart(t)},i.ontouchmove=function(t){n.onContainerTouchMove(t)},t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=e(o,\"touchend\",n.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),t.objectEach(e,function(t,n){e[n]=null})}}}(u),function(t){var e=t.charts,n=t.each,i=t.extend,o=t.map,r=t.noop,a=t.pick;i(t.Pointer.prototype,{pinchTranslate:function(t,e,n,i,o,r){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,n,i,o,r),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,n,i,o,r)},pinchTranslateDirection:function(t,e,n,i,o,r,a,s){var l,u,h,c=this.chart,d=t?\"x\":\"y\",p=t?\"X\":\"Y\",f=\"chart\"+p,g=t?\"width\":\"height\",m=c[\"plot\"+(t?\"Left\":\"Top\")],v=s||1,y=c.inverted,_=c.bounds[t?\"h\":\"v\"],b=1===e.length,x=e[0][f],w=n[0][f],C=!b&&e[1][f],k=!b&&n[1][f];(n=function(){!b&&20<Math.abs(x-C)&&(v=s||Math.abs(w-k)/Math.abs(x-C)),u=(m-w)/v+x,l=c[\"plot\"+(t?\"Width\":\"Height\")]/v})(),(e=u)<_.min?(e=_.min,h=!0):e+l>_.max&&(e=_.max-l,h=!0),h?(w-=.8*(w-a[d][0]),b||(k-=.8*(k-a[d][1])),n()):a[d]=[w,k],y||(r[d]=u-m,r[g]=l),r=y?1/v:v,o[g]=l,o[d]=e,i[y?t?\"scaleY\":\"scaleX\":\"scale\"+p]=v,i[\"translate\"+p]=r*m+(w-r*x)},pinch:function(t){var e=this,s=e.chart,l=e.pinchDown,u=t.touches,h=u.length,c=e.lastValidTouch,d=e.hasZoom,p=e.selectionMarker,f={},g=1===h&&(e.inClass(t.target,\"highcharts-tracker\")&&s.runTrackerClick||e.runChartClick),m={};1<h&&(e.initiated=!0),d&&e.initiated&&!g&&t.preventDefault(),o(u,function(t){return e.normalize(t)}),\"touchstart\"===t.type?(n(u,function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}}),c.x=[l[0].chartX,l[1]&&l[1].chartX],c.y=[l[0].chartY,l[1]&&l[1].chartY],n(s.axes,function(t){if(t.zoomEnabled){var e=s.bounds[t.horiz?\"h\":\"v\"],n=t.minPixelPadding,i=t.toPixels(a(t.options.min,t.dataMin)),o=t.toPixels(a(t.options.max,t.dataMax)),r=Math.max(i,o);e.min=Math.min(t.pos,Math.min(i,o)-n),e.max=Math.max(t.pos+t.len,r+n)}}),e.res=!0):e.followTouchMove&&1===h?this.runPointActions(e.normalize(t)):l.length&&(p||(e.selectionMarker=p=i({destroy:r,touch:!0},s.plotBox)),e.pinchTranslate(l,u,f,p,m,c),e.hasPinched=d,e.scaleGroups(f,m),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,n){var i,o=this.chart;o.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=o.index,1===e.touches.length?(e=this.normalize(e),o.isInsidePlot(e.chartX-o.plotLeft,e.chartY-o.plotTop)&&!o.openMenu?(n&&this.runPointActions(e),\"touchmove\"===e.type&&(i=!!(n=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(n[0].chartX-e.chartX,2)+Math.pow(n[0].chartY-e.chartY,2))),a(i,!0)&&this.pinch(e)):n&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(n){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(n)}})}(u),function(t){var e=t.addEvent,n=t.charts,i=t.css,o=t.doc,r=t.noop,a=t.Pointer,s=t.removeEvent,l=t.win,u=t.wrap;if(!t.hasTouch&&(l.PointerEvent||l.MSPointerEvent)){var h={},c=!!l.PointerEvent,d=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(h,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e},p=function(e,i,o,a){\"touch\"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!n[t.hoverChartIndex]||(a(e),(a=n[t.hoverChartIndex].pointer)[i]({type:o,target:e.currentTarget,preventDefault:r,touches:d()}))};(0,t.extend)(a.prototype,{onContainerPointerDown:function(t){p(t,\"onContainerTouchStart\",\"touchstart\",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){p(t,\"onContainerTouchMove\",\"touchmove\",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY},h[t.pointerId].target||(h[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){p(t,\"onDocumentTouchEnd\",\"touchend\",function(t){delete h[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,c?\"pointerdown\":\"MSPointerDown\",this.onContainerPointerDown),t(this.chart.container,c?\"pointermove\":\"MSPointerMove\",this.onContainerPointerMove),t(o,c?\"pointerup\":\"MSPointerUp\",this.onDocumentPointerUp)}}),u(a.prototype,\"init\",function(t,e,n){t.call(this,e,n),this.hasZoom&&i(e.container,{\"-ms-touch-action\":\"none\",\"touch-action\":\"none\"})}),u(a.prototype,\"setDOMEvents\",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),u(a.prototype,\"destroy\",function(t){this.batchMSEvents(s),t.call(this)})}}(u),function(t){var e=t.addEvent,n=t.css,i=t.discardElement,o=t.defined,r=t.each,a=t.fireEvent,s=t.isFirefox,l=t.marginNames,u=t.merge,h=t.pick,c=t.setAnimation,d=t.stableSort,p=t.win,f=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,n){this.chart=t,this.setOptions(n),n.enabled&&(this.render(),e(this.chart,\"endResize\",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=e(this.chart,\"render\",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},setOptions:function(t){var e=h(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=u(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=h(t.symbolWidth,16),this.pages=[],this.proximate=\"proximate\"===t.layout&&!this.chart.inverted},update:function(t,e){var n=this.chart;this.setOptions(u(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,h(e,!0)&&n.redraw(),a(this,\"afterUpdate\")},colorizeItem:function(t,e){t.legendGroup[e?\"removeClass\":\"addClass\"](\"highcharts-legend-item-hidden\");var n=this.options,i=t.legendItem,o=t.legendLine,r=t.legendSymbol,s=this.itemHiddenStyle.color,l=(n=e?n.itemStyle.color:s,e&&t.color||s),u=t.options&&t.options.marker,h={fill:l};i&&i.css({fill:n,color:n}),o&&o.attr({stroke:l}),r&&(u&&r.isMarker&&(h=t.pointAttribs(),e||(h.stroke=h.fill=s)),r.attr(h)),a(this,\"afterColorizeItem\",{item:t,visible:e})},positionItems:function(){r(this.allItems,this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var e=(n=this.options).symbolPadding,n=!n.rtl,i=(r=t._legendItemPos)[0],r=r[1],a=t.checkbox;(t=t.legendGroup)&&t.element&&t[o(t.translateY)?\"animate\":\"attr\"]({translateX:n?i:this.legendWidth-i-2*e-4,translateY:r}),a&&(a.x=i,a.y=r)},destroyItem:function(t){var e=t.checkbox;r([\"legendItem\",\"legendLine\",\"legendSymbol\",\"legendGroup\"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&i(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}r(this.getAllItems(),function(e){r([\"legendItem\",\"legendGroup\"],t,e)}),r(\"clipRect up down pager nav box title group\".split(\" \"),t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,i=this.clipHeight||this.legendHeight,o=this.titleHeight;e&&(t=e.translateY,r(this.allItems,function(r){var a,s=r.checkbox;s&&n(s,{left:e.translateX+r.checkboxOffset+s.x-20+\"px\",top:(a=t+o+s.y+(this.scrollOffset||0)+3)+\"px\",display:this.proximate||a>t-6&&a<t+i-6?\"\":\"none\"})},this))},renderTitle:function(){var t=this.options,e=this.padding,n=t.title,i=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,e-3,e-4,null,null,null,t.useHTML,null,\"legend-title\").attr({zIndex:1}).css(n.style).add(this.group)),i=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(e){var n=this.options;e.legendItem.attr({text:n.labelFormat?t.format(n.labelFormat,e,this.chart.time):n.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,n=e.renderer,i=this.options,o=this.symbolWidth,r=i.symbolPadding,a=this.itemStyle,s=this.itemHiddenStyle,l=\"horizontal\"===i.layout?h(i.itemDistance,20):0,c=!i.rtl,d=t.legendItem,p=!t.series,f=!p&&t.series.drawLegendSymbol?t.series:t,g=f.options,m=(l=o+r+l+((g=this.createCheckboxForItem&&g&&g.showCheckbox)?20:0),i.useHTML),v=t.options.className;d||(t.legendGroup=n.g(\"legend-item\").addClass(\"highcharts-\"+f.type+\"-series highcharts-color-\"+t.colorIndex+(v?\" \"+v:\"\")+(p?\" highcharts-series-\"+t.index:\"\")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=d=n.text(\"\",c?o+r:-r,this.baseline||0,m).css(u(t.visible?a:s)).attr({align:c?\"left\":\"right\",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=n.fontMetrics(o=a.fontSize,d),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,d.attr(\"y\",this.baseline)),this.symbolHeight=i.symbolHeight||this.fontMetrics.f,f.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,d,m),g&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),a.width||d.css({width:(i.itemWidth||i.width||e.spacingBox.width)-l}),this.setText(t),e=d.getBBox(),t.itemWidth=t.checkboxOffset=i.itemWidth||t.legendItemWidth||e.width+l,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},layoutItem:function(t){var e=this.padding,n=\"horizontal\"===(u=this.options).layout,i=t.itemHeight,o=u.itemMarginBottom||0,r=this.itemMarginTop,a=n?h(u.itemDistance,20):0,s=u.width,l=s||this.chart.spacingBox.width-2*e-u.x,u=u.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:t.itemWidth;n&&this.itemX-e+u>l&&(this.itemX=e,this.itemY+=r+this.lastLineHeight+o,this.lastLineHeight=0),this.lastItemY=r+this.itemY+o,this.lastLineHeight=Math.max(i,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],n?this.itemX+=u:(this.itemY+=r+i+o,this.lastLineHeight=i),this.offsetWidth=s||Math.max((n?this.itemX-e-(t.checkbox?0:a):u)+e,this.offsetWidth)},getAllItems:function(){var t=[];return r(this.chart.series,function(e){var n=e&&e.options;e&&h(n.showInLegend,!o(n.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||(\"point\"===n.legendType?e.data:e)))}),a(this,\"afterGetAllItems\",{allItems:t}),t},getAlignment:function(){var t=this.options;return this.proximate?t.align.charAt(0)+\"tv\":t.floating?\"\":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(t,e){var n=this.chart,i=this.options,a=this.getAlignment();a&&r([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(r,s){r.test(a)&&!o(t[s])&&(n[l[s]]=Math.max(n[l[s]],n.legend[(s+1)%2?\"legendHeight\":\"legendWidth\"]+[1,-1,-1,1][s]*i[s%2?\"x\":\"y\"]+h(i.margin,12)+e[s]+(0===s&&void 0!==n.options.title.margin?n.titleOffset+n.options.title.margin:0)))})},proximatePositions:function(){var e=this.chart,n=[],i=\"left\"===this.options.align;r(this.allItems,function(o){var r,a;r=i,o.xAxis&&o.points&&(o.xAxis.options.reversed&&(r=!r),r=t.find(r?o.points:o.points.slice(0).reverse(),function(e){return t.isNumber(e.plotY)}),a=o.legendGroup.getBBox().height,n.push({target:o.visible?(r?r.plotY:o.xAxis.height)-.3*a:e.plotHeight,size:a,item:o}))},this),t.distribute(n,e.plotHeight),r(n,function(t){t.item._legendItemPos[1]=e.plotTop-e.spacing[0]+t.pos})},render:function(){var t,e,n,i=this.chart,o=i.renderer,a=this.group,s=this.box,l=this.options,h=this.padding;this.itemX=h,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,a||(this.group=a=o.g(\"legend\").attr({zIndex:7}).add(),this.contentGroup=o.g().attr({zIndex:1}).add(a),this.scrollGroup=o.g().add(this.contentGroup)),this.renderTitle(),t=this.getAllItems(),d(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),l.reversed&&t.reverse(),this.allItems=t,this.display=e=!!t.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,r(t,this.renderItem,this),r(t,this.layoutItem,this),t=(l.width||this.offsetWidth)+h,n=this.handleOverflow(n=this.lastItemY+this.lastLineHeight+this.titleHeight),n+=h,s||(this.box=s=o.rect().addClass(\"highcharts-legend-box\").attr({r:l.borderRadius}).add(a),s.isNew=!0),s.attr({stroke:l.borderColor,\"stroke-width\":l.borderWidth||0,fill:l.backgroundColor||\"none\"}).shadow(l.shadow),0<t&&0<n&&(s[s.isNew?\"attr\":\"animate\"](s.crisp.call({},{x:0,y:0,width:t,height:n},s.strokeWidth())),s.isNew=!1),s[e?\"show\":\"hide\"](),this.legendWidth=t,this.legendHeight=n,e&&(o=i.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(o=u(o,{y:o.y+i.titleOffset+i.options.title.margin})),a.align(u(l,{width:t,height:n,verticalAlign:this.proximate?\"top\":l.verticalAlign}),!0,o)),this.proximate||this.positionItems()},handleOverflow:function(t){var e,n,i=this,o=(u=this.chart).renderer,a=this.options,s=a.y,l=this.padding,u=u.spacingBox.height+(\"top\"===a.verticalAlign?-s:s)-l,c=(s=a.maxHeight,this.clipRect),d=a.navigation,p=h(d.animation,!0),f=d.arrowSize||12,g=this.nav,m=this.pages,v=this.allItems,y=function(t){\"number\"==typeof t?c.attr({height:t}):c&&(i.clipRect=c.destroy(),i.contentGroup.clip()),i.contentGroup.div&&(i.contentGroup.div.style.clip=t?\"rect(\"+l+\"px,9999px,\"+(l+t)+\"px,0)\":\"auto\")};return\"horizontal\"!==a.layout||\"middle\"===a.verticalAlign||a.floating||(u/=2),s&&(u=Math.min(u,s)),m.length=0,t>u&&!1!==d.enabled?(this.clipHeight=e=Math.max(u-20-this.titleHeight-l,0),this.currentPage=h(this.currentPage,1),this.fullHeight=t,r(v,function(t,i){var o=t._legendItemPos[1],r=Math.round(t.legendItem.getBBox().height),a=m.length;(!a||o-m[a-1]>e&&(n||o)!==m[a-1])&&(m.push(n||o),a++),t.pageIx=a-1,n&&(v[i-1].pageIx=a-1),i===v.length-1&&o+r-m[a-1]>e&&(m.push(o),t.pageIx=a),o!==n&&(n=o)}),c||(c=i.clipRect=o.clipRect(0,l,9999,0),i.contentGroup.clip(c)),y(e),g||(this.nav=g=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol(\"triangle\",0,0,f,f).on(\"click\",function(){i.scroll(-1,p)}).add(g),this.pager=o.text(\"\",15,10).addClass(\"highcharts-legend-navigation\").css(d.style).add(g),this.down=o.symbol(\"triangle-down\",0,0,f,f).on(\"click\",function(){i.scroll(1,p)}).add(g)),i.scroll(0),t=u):g&&(y(),this.nav=g.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n=this.pages,i=n.length,o=this.clipHeight,r=this.options.navigation,a=this.pager,s=this.padding;(t=this.currentPage+t)>i&&(t=i),0<t&&(void 0!==e&&c(e,this.chart),this.nav.attr({translateX:s,translateY:o+this.padding+7+this.titleHeight,visibility:\"visible\"}),this.up.attr({class:1===t?\"highcharts-legend-nav-inactive\":\"highcharts-legend-nav-active\"}),a.attr({text:t+\"/\"+i}),this.down.attr({x:18+this.pager.getBBox().width,class:t===i?\"highcharts-legend-nav-inactive\":\"highcharts-legend-nav-active\"}),this.up.attr({fill:1===t?r.inactiveColor:r.activeColor}).css({cursor:1===t?\"default\":\"pointer\"}),this.down.attr({fill:t===i?r.inactiveColor:r.activeColor}).css({cursor:t===i?\"default\":\"pointer\"}),this.scrollOffset=-n[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=t,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.symbolHeight,i=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(i?(t.symbolWidth-n)/2:0,t.baseline-n+1,i?n:t.symbolWidth,n,h(t.options.symbolRadius,n/2)).addClass(\"highcharts-point\").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,n=this.options,i=n.marker,o=t.symbolWidth,r=t.symbolHeight,a=r/2,s=this.chart.renderer,l=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b),e={\"stroke-width\":n.lineWidth||0},n.dashStyle&&(e.dashstyle=n.dashStyle),this.legendLine=s.path([\"M\",0,t,\"L\",o,t]).addClass(\"highcharts-graph\").attr(e).add(l),i&&!1!==i.enabled&&o&&(n=Math.min(h(i.radius,a),a),0===this.symbol.indexOf(\"url\")&&(i=u(i,{width:r,height:r}),n=0),this.legendSymbol=i=s.symbol(this.symbol,o/2-n,t-n,2*n,2*n,i).addClass(\"highcharts-point\").add(l),i.isMarker=!0)}},(/Trident\\/7\\.0/.test(p.navigator.userAgent)||s)&&f(t.Legend.prototype,\"positionItem\",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),setTimeout(i)})}(u),function(t){var e=t.addEvent,n=t.animate,i=t.animObject,o=t.attr,r=t.doc,a=t.Axis,s=t.createElement,l=t.defaultOptions,u=t.discardElement,h=t.charts,c=t.css,d=t.defined,p=t.each,f=t.extend,g=t.find,m=t.fireEvent,v=t.grep,y=t.isNumber,_=t.isObject,b=t.isString,x=t.Legend,w=t.marginNames,C=t.merge,k=t.objectEach,O=t.Pointer,M=t.pick,L=t.pInt,S=t.removeEvent,P=t.seriesTypes,T=t.splat,I=t.syncTimeout,A=t.win,z=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,n){return new z(t,e,n)},f(z.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(b(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(n,i){var o,r,a=n.series,s=n.plotOptions||{};m(this,\"init\",{args:arguments},function(){for(r in n.series=null,(o=C(l,n)).plotOptions)o.plotOptions[r].tooltip=s[r]&&C(s[r].tooltip)||void 0;o.tooltip.userOptions=n.chart&&n.chart.forExport&&n.tooltip.userOptions||n.tooltip,o.series=n.series=a,this.userOptions=n;var u=o.chart,c=u.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=i,this.isResizing=0,this.options=o,this.axes=[],this.series=[],this.time=n.time&&t.keys(n.time).length?new t.Time(n.time):t.time,this.hasCartesianSeries=u.showAxes;var d=this;d.index=h.length,h.push(d),t.chartCount++,c&&k(c,function(t,n){e(d,n,t)}),d.xAxis=[],d.yAxis=[],d.pointCount=d.colorCounter=d.symbolCounter=0,m(d,\"afterInit\"),d.firstRender()})},initSeries:function(e){var n=this.options.chart;return(n=P[e.type||n.type||n.defaultSeriesType])||t.error(17,!0),(n=new n).init(this,e),n},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,n){var i=n?e:t;return t=n?t:e,0<=i&&i<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){m(this,\"beforeRedraw\");var n,i,o,r=this.axes,a=this.series,s=this.pointer,l=this.legend,u=this.userOptions.legend,h=this.isDirtyLegend,c=this.hasCartesianSeries,d=this.isDirtyBox,g=this.renderer,v=g.isHidden(),y=[];for(this.setResponsive&&this.setResponsive(!1),t.setAnimation(e,this),v&&this.temporaryDisplay(),this.layOutTitles(),e=a.length;e--;)if((o=a[e]).options.stacking&&(n=!0,o.isDirty)){i=!0;break}if(i)for(e=a.length;e--;)(o=a[e]).options.stacking&&(o.isDirty=!0);p(a,function(t){t.isDirty&&(\"point\"===t.options.legendType?(t.updateTotals&&t.updateTotals(),h=!0):u&&(u.labelFormatter||u.labelFormat)&&(h=!0)),t.isDirtyData&&m(t,\"updatedData\")}),h&&l&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),n&&this.getStacks(),c&&p(r,function(t){t.updateNames(),t.updateYNames&&t.updateYNames(),t.setScale()}),this.getMargins(),c&&(p(r,function(t){t.isDirty&&(d=!0)}),p(r,function(t){var e=t.min+\",\"+t.max;t.extKey!==e&&(t.extKey=e,y.push(function(){m(t,\"afterSetExtremes\",f(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(d||n)&&t.redraw()})),d&&this.drawChartBox(),m(this,\"predraw\"),p(a,function(t){(d||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),s&&s.reset(!0),g.draw(),m(this,\"redraw\"),m(this,\"render\"),v&&this.temporaryDisplay(!0),p(y,function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var n,i,o=this.series;for(n=g(this.axes,e)||g(this.series,e),i=0;!n&&i<o.length;i++)n=g(o[i].points||[],e);return n},getAxes:function(){var t=this,e=(n=this.options).xAxis=T(n.xAxis||{}),n=n.yAxis=T(n.yAxis||{});m(this,\"getAxes\"),p(e,function(t,e){t.index=e,t.isX=!0}),p(n,function(t,e){t.index=e}),e=e.concat(n),p(e,function(e){new a(t,e)}),m(this,\"afterGetAxes\")},getSelectedPoints:function(){var t=[];return p(this.series,function(e){t=t.concat(v(e.data||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return v(this.series,function(t){return t.selected})},setTitle:function(t,e,n){var i,o=this,r=o.options;i=r.title=C({style:{color:\"#333333\",fontSize:r.isStock?\"16px\":\"18px\"}},r.title,t),r=r.subtitle=C({style:{color:\"#666666\"}},r.subtitle,e),p([[\"title\",t,i],[\"subtitle\",e,r]],function(t,e){var n=t[0],i=o[n],r=t[1];t=t[2],i&&r&&(o[n]=i=i.destroy()),t&&!i&&(o[n]=o.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:\"highcharts-\"+n,zIndex:t.zIndex||4}).add(),o[n].update=function(t){o.setTitle(!e&&t,e&&t)},o[n].css(t.style))}),o.layOutTitles(n)},layOutTitles:function(t){var e,n=0,i=this.renderer,o=this.spacingBox;p([\"title\",\"subtitle\"],function(t){var e,r=this[t],a=this.options[t];t=\"title\"===t?-3:a.verticalAlign?0:n+2,r&&(e=i.fontMetrics(e=a.style.fontSize,r).b,r.css({width:(a.width||o.width+a.widthAdjust)+\"px\"}).align(f({y:t+e},a),!1,\"spacingBox\"),a.floating||a.verticalAlign||(n=Math.ceil(n+r.getBBox(a.useHTML).height)))},this),e=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&e&&(this.isDirtyBox=this.isDirtyLegend=e,this.hasRendered&&M(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=(n=this.options.chart).width,n=n.height,i=this.renderTo;d(e)||(this.containerWidth=t.getStyle(i,\"width\")),d(n)||(this.containerHeight=t.getStyle(i,\"height\")),this.chartWidth=Math.max(0,e||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(n,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var n=this.renderTo;if(e)for(;n&&n.style;)n.hcOrigStyle&&(t.css(n,n.hcOrigStyle),delete n.hcOrigStyle),n.hcOrigDetached&&(r.body.removeChild(n),n.hcOrigDetached=!1),n=n.parentNode;else for(;n&&n.style&&(r.body.contains(n)||n.parentNode||(n.hcOrigDetached=!0,r.body.appendChild(n)),(\"none\"===t.getStyle(n,\"display\",!1)||n.hcOricDetached)&&(n.hcOrigStyle={display:n.style.display,height:n.style.height,overflow:n.style.overflow},e={display:\"block\",overflow:\"hidden\"},n!==this.renderTo&&(e.height=0),t.css(n,e),n.offsetWidth||n.style.setProperty(\"display\",\"block\",\"important\")),(n=n.parentNode)!==r.body););},setClassName:function(t){this.container.className=\"highcharts-container \"+(t||\"\")},getContainer:function(){var e,n,i,a=this.options,l=a.chart;e=this.renderTo;var u,c=t.uniqueKey();e||(this.renderTo=e=l.renderTo),b(e)&&(this.renderTo=e=r.getElementById(e)),e||t.error(13,!0),n=L(o(e,\"data-highcharts-chart\")),y(n)&&h[n]&&h[n].hasRendered&&h[n].destroy(),o(e,\"data-highcharts-chart\",this.index),e.innerHTML=\"\",l.skipClone||e.offsetWidth||this.temporaryDisplay(),this.getChartSize(),u=f({position:\"relative\",overflow:\"hidden\",width:(n=this.chartWidth)+\"px\",height:(i=this.chartHeight)+\"px\",textAlign:\"left\",lineHeight:\"normal\",zIndex:0,\"-webkit-tap-highlight-color\":\"rgba(0,0,0,0)\"},l.style),this.container=e=s(\"div\",{id:c},u,e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||t.Renderer)(e,n,i,null,l.forExport,a.exporting&&a.exporting.allowHTML),this.setClassName(l.className),this.renderer.setStyle(l.style),this.renderer.chartIndex=this.index,m(this,\"afterGetContainer\")},getMargins:function(t){var e=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i&&!d(n[0])&&(this.plotTop=Math.max(this.plotTop,i+this.options.title.margin+e[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(n,e),m(this,\"getMargins\"),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.margin;t.hasCartesianSeries&&p(t.axes,function(t){t.visible&&t.getOffset()}),p(w,function(i,o){d(n[o])||(t[i]+=e[o])}),t.setChartSize()},reflow:function(e){var n=this,i=n.renderTo,o=d((s=n.options.chart).width)&&d(s.height),a=s.width||t.getStyle(i,\"width\"),s=s.height||t.getStyle(i,\"height\");i=e?e.target:A,o||n.isPrinting||!a||!s||i!==A&&i!==r||(a===n.containerWidth&&s===n.containerHeight||(t.clearTimeout(n.reflowTimeout),n.reflowTimeout=I(function(){n.container&&n.setSize(void 0,void 0,!1)},e?100:0)),n.containerWidth=a,n.containerHeight=s)},setReflow:function(t){var n=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=e(A,\"resize\",function(t){n.reflow(t)}),e(this,\"destroy\",this.unbindReflow))},setSize:function(e,o,r){var a=this,s=a.renderer;a.isResizing+=1,t.setAnimation(r,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,void 0!==e&&(a.options.chart.width=e),void 0!==o&&(a.options.chart.height=o),a.getChartSize(),((e=s.globalAnimation)?n:c)(a.container,{width:a.chartWidth+\"px\",height:a.chartHeight+\"px\"},e),a.setChartSize(!0),s.setSize(a.chartWidth,a.chartHeight,r),p(a.axes,function(t){t.isDirty=!0,t.setScale()}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(r),a.oldChartHeight=null,m(a,\"resize\"),I(function(){a&&m(a,\"endResize\",null,function(){--a.isResizing})},i(e).duration)},setChartSize:function(t){var e,n,i,o,r=this.inverted,a=this.renderer,s=this.chartWidth,l=this.chartHeight,u=this.options.chart,h=this.spacing,c=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=i=Math.max(0,Math.round(s-e-this.marginRight)),this.plotHeight=o=Math.max(0,Math.round(l-n-this.marginBottom)),this.plotSizeX=r?o:i,this.plotSizeY=r?i:o,this.plotBorderWidth=u.plotBorderWidth||0,this.spacingBox=a.spacingBox={x:h[3],y:h[0],width:s-h[3]-h[1],height:l-h[0]-h[2]},this.plotBox=a.plotBox={x:e,y:n,width:i,height:o},s=2*Math.floor(this.plotBorderWidth/2),r=Math.ceil(Math.max(s,c[3])/2),a=Math.ceil(Math.max(s,c[0])/2),this.clipBox={x:r,y:a,width:Math.floor(this.plotSizeX-Math.max(s,c[1])/2-r),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(s,c[2])/2-a))},t||p(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()}),m(this,\"afterSetChartSize\",{skipAxes:t})},resetMargins:function(){var t=this,e=t.options.chart;p([\"margin\",\"spacing\"],function(n){var i=e[n],o=_(i)?i:[i,i,i,i];p([\"Top\",\"Right\",\"Bottom\",\"Left\"],function(i,r){t[n][r]=M(e[n+i],o[r])})}),p(w,function(e,n){t[e]=M(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n=this.options.chart,i=this.renderer,o=this.chartWidth,r=this.chartHeight,a=this.chartBackground,s=this.plotBackground,l=this.plotBorder,u=this.plotBGImage,h=n.backgroundColor,c=n.plotBackgroundColor,d=n.plotBackgroundImage,p=this.plotLeft,f=this.plotTop,g=this.plotWidth,v=this.plotHeight,y=this.plotBox,_=this.clipRect,b=this.clipBox,x=\"animate\";a||(this.chartBackground=a=i.rect().addClass(\"highcharts-background\").add(),x=\"attr\"),e=(t=n.borderWidth||0)+(n.shadow?8:0),h={fill:h||\"none\"},(t||a[\"stroke-width\"])&&(h.stroke=n.borderColor,h[\"stroke-width\"]=t),a.attr(h).shadow(n.shadow),a[x]({x:e/2,y:e/2,width:o-e-t%2,height:r-e-t%2,r:n.borderRadius}),x=\"animate\",s||(x=\"attr\",this.plotBackground=s=i.rect().addClass(\"highcharts-plot-background\").add()),s[x](y),s.attr({fill:c||\"none\"}).shadow(n.plotShadow),d&&(u?u.animate(y):this.plotBGImage=i.image(d,p,f,g,v).add()),_?_.animate({width:b.width,height:b.height}):this.clipRect=i.clipRect(b),x=\"animate\",l||(x=\"attr\",this.plotBorder=l=i.rect().addClass(\"highcharts-plot-border\").attr({zIndex:1}).add()),l.attr({stroke:n.plotBorderColor,\"stroke-width\":n.plotBorderWidth||0,fill:\"none\"}),l[x](l.crisp({x:p,y:f,width:g,height:v},-l.strokeWidth())),this.isDirtyBox=!1,m(this,\"afterDrawChartBox\")},propFromSeries:function(){var t,e,n,i=this,o=i.options.chart,r=i.options.series;p([\"inverted\",\"angular\",\"polar\"],function(a){for(t=P[o.type||o.defaultSeriesType],n=o[a]||t&&t.prototype[a],e=r&&r.length;!n&&e--;)(t=P[r[e].type])&&t.prototype[a]&&(n=!0);i[a]=n})},linkSeries:function(){var t=this,e=t.series;p(e,function(t){t.linkedSeries.length=0}),p(e,function(e){var n=e.options.linkedTo;b(n)&&(n=\":previous\"===n?t.series[e.index-1]:t.get(n))&&n.linkedParent!==e&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=M(e.options.visible,n.options.visible,e.visible))}),m(this,\"afterLinkSeries\")},renderSeries:function(){p(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&p(e.items,function(n){var i=f(e.style,n.style),o=L(i.left)+t.plotLeft,r=L(i.top)+t.plotTop+12;delete i.left,delete i.top,t.renderer.text(n.html,o,r).attr({zIndex:2}).css(i).add()})},render:function(){var t,e,n,i=this.axes,o=this.renderer,r=this.options;this.setTitle(),this.legend=new x(this,r.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),r=this.plotWidth,t=this.plotHeight=Math.max(this.plotHeight-21,0),p(i,function(t){t.setScale()}),this.getAxisMargins(),n=1.05<t/this.plotHeight,((e=1.1<r/this.plotWidth)||n)&&(p(i,function(t){(t.horiz&&e||!t.horiz&&n)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&p(i,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=o.g(\"series-group\").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;(t=C(!0,this.options.credits,t)).enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||\"\"),0,0).addClass(\"highcharts-credits\").on(\"click\",function(){t.href&&(A.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,n=this,i=n.axes,o=n.series,r=n.container,a=r&&r.parentNode;for(m(n,\"destroy\"),n.renderer.forExport?t.erase(h,n):h[n.index]=void 0,t.chartCount--,n.renderTo.removeAttribute(\"data-highcharts-chart\"),S(n),e=i.length;e--;)i[e]=i[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=o.length;e--;)o[e]=o[e].destroy();p(\"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer\".split(\" \"),function(t){var e=n[t];e&&e.destroy&&(n[t]=e.destroy())}),r&&(r.innerHTML=\"\",S(r),a&&u(r)),k(n,function(t,e){delete n[e]})},firstRender:function(){var t=this,e=t.options;t.isReadyToRender&&!t.isReadyToRender()||(t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),p(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),m(t,\"beforeRender\"),O&&(t.pointer=new O(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){p([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),m(this,\"load\"),m(this,\"render\"),d(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}(u),function(t){var e=t.addEvent,n=t.Chart,i=t.each;e(n,\"afterSetChartSize\",function(e){var n=this.options.chart.scrollablePlotArea;(n=n&&n.minWidth)&&!this.renderer.forExport&&(this.scrollablePixels=n=Math.max(0,n-this.chartWidth))&&(this.plotWidth+=n,this.clipBox.width+=n,e.skipAxes||i(this.axes,function(e){1===e.side?e.getPlotLinePath=function(){var n,i=this.right;return this.right=i-e.chart.scrollablePixels,n=t.Axis.prototype.getPlotLinePath.apply(this,arguments),this.right=i,n}:(e.setAxisSize(),e.setAxisTranslation())}))}),e(n,\"render\",function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),n.prototype.setUpScrolling=function(){this.scrollingContainer=t.createElement(\"div\",{className:\"highcharts-scrolling\"},{overflowX:\"auto\",WebkitOverflowScrolling:\"touch\"},this.renderTo),this.innerContainer=t.createElement(\"div\",{className:\"highcharts-inner-container\"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},n.prototype.applyFixed=function(){var e,n,i=this.container;(o=!this.fixedDiv)&&(this.fixedDiv=t.createElement(\"div\",{className:\"highcharts-fixed\"},{position:\"absolute\",overflow:\"hidden\",pointerEvents:\"none\",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.fixedRenderer=e=new t.Renderer(this.fixedDiv,0,0),this.scrollableMask=e.path().attr({fill:t.color(this.options.chart.backgroundColor||\"#fff\").setOpacity(.85).get(),zIndex:-1}).addClass(\"highcharts-scrollable-mask\").add(),t.each([this.inverted?\".highcharts-xaxis\":\".highcharts-yaxis\",this.inverted?\".highcharts-xaxis-labels\":\".highcharts-yaxis-labels\",\".highcharts-contextbutton\",\".highcharts-credits\",\".highcharts-legend\",\".highcharts-subtitle\",\".highcharts-title\",\".highcharts-legend-checkbox\"],function(n){t.each(i.querySelectorAll(n),function(t){(t.namespaceURI===e.SVG_NS?e.box:e.box.parentNode).appendChild(t),t.style.pointerEvents=\"auto\"})})),this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),n=this.chartWidth+this.scrollablePixels,t.stop(this.container),this.container.style.width=n+\"px\",this.renderer.boxWrapper.attr({width:n,height:this.chartHeight,viewBox:[0,0,n,this.chartHeight].join(\" \")}),this.chartBackground.attr({width:n}),o&&(n=this.options.chart.scrollablePlotArea).scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*n.scrollPositionX),n=this.plotTop-(o=this.axisOffset)[0]-1;var o=this.plotTop+this.plotHeight+o[2],r=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?[\"M\",0,n,\"L\",this.plotLeft-1,n,\"L\",this.plotLeft-1,o,\"L\",0,o,\"Z\",\"M\",r,n,\"L\",this.chartWidth,n,\"L\",this.chartWidth,o,\"L\",r,o,\"Z\"]:[\"M\",0,0]})}}(u),function(t){var e,n=t.each,i=t.extend,o=t.erase,r=t.fireEvent,a=t.format,s=t.isArray,l=t.isNumber,u=t.pick,h=t.uniqueKey,c=t.defined,d=t.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,n){return this.series=t,this.color=t.color,this.applyOptions(e,n),this.id=c(this.id)?this.id:h(),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,n=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):n=t.colorIndex,this.colorIndex=u(this.colorIndex,n),t.chart.pointCount++,r(this,\"afterInit\"),this},applyOptions:function(t,n){var o=this.series,r=o.options.pointValKey||o.pointValKey;return t=e.prototype.optionsToObject.call(this,t),i(this,t),this.options=this.options?i(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,r&&(this.y=this[r]),this.isNull=u(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state=\"select\"),\"name\"in this&&void 0===n&&o.xAxis&&o.xAxis.hasNames&&(this.x=o.xAxis.nameToX(this)),void 0===this.x&&o&&(this.x=void 0===n?o.autoIncrement(this):n),this},setNestedProperty:function(e,n,i){return i=i.split(\".\"),t.reduce(i,function(e,i,o,r){return e[i]=r.length-1===o?n:t.isObject(e[i],!0)?e[i]:{},e[i]},e),e},optionsToObject:function(e){var n={},i=this.series,o=i.options.keys,r=o||i.pointArrayMap||[\"y\"],a=r.length,u=0,h=0;if(l(e)||null===e)n[r[0]]=e;else if(s(e))for(!o&&e.length>a&&(\"string\"==(i=typeof e[0])?n.name=e[0]:\"number\"===i&&(n.x=e[0]),u++);h<a;)o&&void 0===e[u]||(0<r[h].indexOf(\".\")?t.Point.prototype.setNestedProperty(n,e[u],r[h]):n[r[h]]=e[u]),u++,h++;else\"object\"==typeof e&&(n=e,e.dataLabels&&(i._hasPointLabels=!0),e.marker&&(i._hasPointMarkers=!0));return n},getClassName:function(){return\"highcharts-point\"+(this.selected?\" highcharts-point-select\":\"\")+(this.negative?\" highcharts-negative\":\"\")+(this.isNull?\" highcharts-null-point\":\"\")+(void 0!==this.colorIndex?\" highcharts-color-\"+this.colorIndex:\"\")+(this.options.className?\" \"+this.options.className:\"\")+(this.zone&&this.zone.className?\" \"+this.zone.className.replace(\"highcharts-negative\",\"\"):\"\")},getZone:function(){var t,e=(n=this.series).zones,n=n.zoneAxis||\"y\",i=0;for(t=e[i];this[n]>=t.value;)t=e[++i];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=t&&t.color&&!this.options.color?t.color:this.nonZonedColor,t},destroy:function(){var t,e=this.series.chart,n=e.hoverPoints;for(t in e.pointCount--,n&&(this.setState(),o(n,this),n.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel||this.dataLabels)&&(d(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,e=[\"graphic\",\"dataLabel\",\"dataLabelUpper\",\"connector\",\"shadowGroup\"],i=6;i--;)this[t=e[i]]&&(this[t]=this[t].destroy());this.dataLabels&&(n(this.dataLabels,function(t){t.element&&t.destroy()}),delete this.dataLabels),this.connectors&&(n(this.connectors,function(t){t.element&&t.destroy()}),delete this.connectors)},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,o=u(i.valueDecimals,\"\"),r=i.valuePrefix||\"\",s=i.valueSuffix||\"\";return n(e.pointArrayMap||[\"y\"],function(e){e=\"{point.\"+e,(r||s)&&(t=t.replace(RegExp(e+\"}\",\"g\"),r+e+\"}\"+s)),t=t.replace(RegExp(e+\"}\",\"g\"),e+\":,.\"+o+\"f}\")}),a(t,{point:this,series:this.series},e.chart.time)},firePointEvent:function(t,e,n){var i=this,o=this.series.options;(o.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),\"click\"===t&&o.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),r(this,t,e,n)},visible:!0}}(u),function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,o=t.arrayMin,r=t.correctFloat,a=t.defaultOptions,s=t.defaultPlotOptions,l=t.defined,u=t.each,h=t.erase,c=t.extend,d=t.fireEvent,p=t.grep,f=t.isArray,g=t.isNumber,m=t.isString,v=t.merge,y=t.objectEach,_=t.pick,b=t.removeEvent,x=t.splat,w=t.SVGElement,C=t.syncTimeout,k=t.win;t.Series=t.seriesType(\"line\",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:\"#ffffff\",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:\"#cccccc\",lineColor:\"#000000\",lineWidth:2}}},point:{events:{}},dataLabels:{align:\"center\",formatter:function(){return null===this.y?\"\":t.numberFormat(this.y,-1)},style:{fontSize:\"11px\",fontWeight:\"bold\",color:\"contrast\",textOutline:\"1px contrast\"},verticalAlign:\"bottom\",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:\"x\"},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:[\"xAxis\",\"yAxis\"],colorCounter:0,parallelArrays:[\"x\",\"y\"],coll:\"series\",init:function(t,n){var i,o,r=this,a=t.series;r.chart=t,r.options=n=r.setOptions(n),r.linkedSeries=[],r.bindAxes(),c(r,{name:n.name,state:\"\",visible:!1!==n.visible,selected:!0===n.selected}),y(i=n.events,function(t,n){e(r,n,t)}),(i&&i.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(t.runTrackerClick=!0),r.getColor(),r.getSymbol(),u(r.parallelArrays,function(t){r[t+\"Data\"]=[]}),r.setData(n.data,!1),r.isCartesian&&(t.hasCartesianSeries=!0),a.length&&(o=a[a.length-1]),r._i=_(o&&o._i,-1)+1,t.orderSeries(this.insert(a)),d(this,\"afterInit\")},insert:function(t){var e,n=this.options.index;if(g(n)){for(e=t.length;e--;)if(n>=_(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return _(e,t.length-1)},bindAxes:function(){var e,n=this,i=n.options,o=n.chart;u(n.axisTypes||[],function(r){u(o[r],function(t){(i[r]===(e=t.options).index||void 0!==i[r]&&i[r]===e.id||void 0===i[r]&&0===e.index)&&(n.insert(t.series),n[r]=t,t.isDirty=!0)}),n[r]||n.optionalAxis===r||t.error(18,!0)})},updateParallelArrays:function(t,e){var n=t.series,i=arguments,o=g(e)?function(i){var o=\"y\"===i&&n.toYData?n.toYData(t):t[i];n[i+\"Data\"][e]=o}:function(t){Array.prototype[e].apply(n[t+\"Data\"],Array.prototype.slice.call(i,2))};u(n.parallelArrays,o)},autoIncrement:function(){var t,e=this.options,n=e.pointIntervalUnit,i=this.chart.time,o=_(o=this.xIncrement,e.pointStart,0);return this.pointInterval=t=_(this.pointInterval,e.pointInterval,1),n&&(e=new i.Date(o),\"day\"===n?i.set(\"Date\",e,i.get(\"Date\",e)+t):\"month\"===n?i.set(\"Month\",e,i.get(\"Month\",e)+t):\"year\"===n&&i.set(\"FullYear\",e,i.get(\"FullYear\",e)+t),t=e.getTime()-o),this.xIncrement=o+t,o},setOptions:function(t){var e=this.chart,n=e.options,i=n.plotOptions,o=(e.userOptions||{}).plotOptions||{},r=i[this.type];return this.userOptions=t,e=v(r,i.series,t),this.tooltipOptions=v(a.tooltip,a.plotOptions.series&&a.plotOptions.series.tooltip,a.plotOptions[this.type].tooltip,n.tooltip.userOptions,i.series&&i.series.tooltip,i[this.type].tooltip,t.tooltip),this.stickyTracking=_(t.stickyTracking,o[this.type]&&o[this.type].stickyTracking,o.series&&o.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===r.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,t=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||t.push({value:e[this.zoneAxis+\"Threshold\"]||e.threshold||0,className:\"highcharts-negative\",color:e.negativeColor,fillColor:e.negativeFillColor}),t.length&&l(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),d(this,\"afterSetOptions\",{options:e}),e},getName:function(){return this.name||\"Series \"+(this.index+1)},getCyclic:function(t,e,n){var i,o=this.chart,r=this.userOptions,a=t+\"Index\",s=t+\"Counter\",u=n?n.length:_(o.options.chart[t+\"Count\"],o[t+\"Count\"]);e||(i=_(r[a],r[\"_\"+a]),l(i)||(o.series.length||(o[s]=0),r[\"_\"+a]=i=o[s]%u,o[s]+=1),n&&(e=n[i])),void 0!==i&&(this[a]=i),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic(\"color\",this.options.color||s[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic(\"symbol\",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,updateData:function(e){var n,i,o,r=this.options,a=this.points,s=[],l=this.requireSorting;if(u(e,function(e){var i;i=t.defined(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e).x,g(i)&&(-1===(i=t.inArray(i,this.xData,o))||a[i].touched?s.push(e):e!==r.data[i]?(a[i].update(e,!1,null,!1),a[i].touched=!0,l&&(o=i+1)):a[i]&&(a[i].touched=!0),n=!0)},this),n)for(e=a.length;e--;)(i=a[e]).touched||i.remove(!1),i.touched=!1;else{if(e.length!==a.length)return!1;u(e,function(t,e){a[e].update&&t!==r.data[e]&&a[e].update(t,!1,null,!1)})}return u(s,function(t){this.addPoint(t,!1)},this),!0},setData:function(e,n,i,o){var r,a,s=this,l=s.points,h=l&&l.length||0,c=s.options,d=s.chart,p=null,v=s.xAxis,y=c.turboThreshold,b=this.xData,x=this.yData,w=(r=s.pointArrayMap)&&r.length;if(r=(e=e||[]).length,n=_(n,!0),!1!==o&&r&&h&&!s.cropped&&!s.hasGroupedData&&s.visible&&!s.isSeriesBoosting&&(a=this.updateData(e)),!a){if(s.xIncrement=null,s.colorCounter=0,u(this.parallelArrays,function(t){s[t+\"Data\"].length=0}),y&&r>y){for(i=0;null===p&&i<r;)p=e[i],i++;if(g(p))for(i=0;i<r;i++)b[i]=this.autoIncrement(),x[i]=e[i];else if(f(p))if(w)for(i=0;i<r;i++)b[i]=(p=e[i])[0],x[i]=p.slice(1,w+1);else for(i=0;i<r;i++)b[i]=(p=e[i])[0],x[i]=p[1];else t.error(12)}else for(i=0;i<r;i++)void 0!==e[i]&&(s.pointClass.prototype.applyOptions.apply(p={series:s},[e[i]]),s.updateParallelArrays(p,i));for(x&&m(x[0])&&t.error(14,!0),s.data=[],s.options.data=s.userOptions.data=e,i=h;i--;)l[i]&&l[i].destroy&&l[i].destroy();v&&(v.minRange=v.userMinRange),s.isDirty=d.isDirtyBox=!0,s.isDirtyData=!!l,i=!1}\"point\"===c.legendType&&(this.processData(),this.generatePoints()),n&&d.redraw(i)},processData:function(e){var n,i=this.xData,o=this.yData,r=i.length;n=0;var a,s,l,u=this.xAxis;l=(f=this.options).cropThreshold;var h,c,d=this.getExtremesFromAll||f.getExtremesFromAll,p=this.isCartesian,f=u&&u.val2lin,g=u&&u.isLog,m=this.requireSorting;if(p&&!this.isDirty&&!u.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(u&&(h=(e=u.getExtremes()).min,c=e.max),p&&this.sorted&&!d&&(!l||r>l||this.forceCrop)&&(i[r-1]<h||i[0]>c?(i=[],o=[]):this.yData&&(i[0]<h||i[r-1]>c)&&(i=(n=this.cropData(this.xData,this.yData,h,c)).xData,o=n.yData,n=n.start,a=!0)),l=i.length||1;--l;)0<(r=g?f(i[l])-f(i[l-1]):i[l]-i[l-1])&&(void 0===s||r<s)?s=r:0>r&&m&&(t.error(15),m=!1);this.cropped=a,this.cropStart=n,this.processedXData=i,this.processedYData=o,this.closestPointRange=s},cropData:function(t,e,n,i,o){var r,a=t.length,s=0,l=a;for(o=_(o,this.cropShoulder,1),r=0;r<a;r++)if(t[r]>=n){s=Math.max(0,r-o);break}for(n=r;n<a;n++)if(t[n]>i){l=n+o;break}return{xData:t.slice(s,l),yData:e.slice(s,l),start:s,end:l}},generatePoints:function(){var t,e,n,i,o=(p=this.options).data,r=this.data,a=this.processedXData,s=this.processedYData,l=this.pointClass,u=a.length,h=this.cropStart||0,d=this.hasGroupedData,p=p.keys,f=[];for(r||d||((r=[]).length=o.length,r=this.data=r),p&&d&&(this.options.keys=!1),i=0;i<u;i++)e=h+i,d?((n=(new l).init(this,[a[i]].concat(x(s[i])))).dataGroup=this.groupMap[i],n.dataGroup.options&&(n.options=n.dataGroup.options,c(n,n.dataGroup.options))):(n=r[e])||void 0===o[e]||(r[e]=n=(new l).init(this,o[e],a[i])),n&&(n.index=e,f[i]=n);if(this.options.keys=p,r&&(u!==(t=r.length)||d))for(i=0;i<t;i++)i!==h||d||(i+=u),r[i]&&(r[i].destroyElements(),r[i].plotX=void 0);this.data=r,this.points=f},getExtremes:function(t){var e,n,r,a,s,l=this.yAxis,u=this.processedXData,h=[],c=0,d=(e=this.xAxis.getExtremes()).min,p=e.max,m=this.requireSorting?1:0;for(e=(t=t||this.stackedYData||this.processedYData||[]).length,s=0;s<e;s++)if(r=u[s],n=(g(a=t[s],!0)||f(a))&&(!l.positiveValuesOnly||a.length||0<a),r=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(u[s+m]||r)>=d&&(u[s-m]||r)<=p,n&&r)if(n=a.length)for(;n--;)\"number\"==typeof a[n]&&(h[c++]=a[n]);else h[c++]=a;this.dataMin=o(h),this.dataMax=i(h)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,n,i,o=this.options,a=o.stacking,s=this.xAxis,u=s.categories,h=this.yAxis,c=this.points,p=c.length,f=!!this.modifyValue,m=o.pointPlacement,v=\"between\"===m||g(m),y=o.threshold,b=o.startFromThreshold?y:0,x=Number.MAX_VALUE;for(\"between\"===m&&(m=.5),g(m)&&(m*=_(o.pointRange||s.pointRange)),o=0;o<p;o++){var w=c[o],C=w.x,k=w.y;e=w.low;var O,M=a&&h.stacks[(this.negStacks&&k<(b?0:y)?\"-\":\"\")+this.stackKey];h.positiveValuesOnly&&null!==k&&0>=k&&(w.isNull=!0),w.plotX=t=r(Math.min(Math.max(-1e5,s.translate(C,0,0,0,1,m,\"flags\"===this.type)),1e5)),a&&this.visible&&!w.isNull&&M&&M[C]&&(i=this.getStackIndicator(i,C,this.index),e=(k=(O=M[C]).points[i.key])[0],k=k[1],e===b&&i.key===M[C].base&&(e=_(g(y)&&y,h.min)),h.positiveValuesOnly&&0>=e&&(e=null),w.total=w.stackTotal=O.total,w.percentage=O.total&&w.y/O.total*100,w.stackY=k,O.setOffset(this.pointXOffset||0,this.barW||0)),w.yBottom=l(e)?Math.min(Math.max(-1e5,h.translate(e,0,1,0,1)),1e5):null,f&&(k=this.modifyValue(k,w)),w.plotY=e=\"number\"==typeof k&&1/0!==k?Math.min(Math.max(-1e5,h.translate(k,0,1,0,1)),1e5):void 0,w.isInside=void 0!==e&&0<=e&&e<=h.len&&0<=t&&t<=s.len,w.clientX=v?r(s.translate(C,0,0,0,1,m)):t,w.negative=w.y<(y||0),w.category=u&&void 0!==u[w.x]?u[w.x]:w.x,w.isNull||(void 0!==n&&(x=Math.min(x,Math.abs(t-n))),n=t),w.zone=this.zones.length&&w.getZone()}this.closestPointRangePx=x,d(this,\"afterTranslate\")},getValidPoints:function(t,e){var n=this.chart;return p(t||this.points||[],function(t){return!(e&&!n.isInsidePlot(t.plotX,t.plotY,n.inverted)||t.isNull)})},setClip:function(t){var e=this.chart,n=this.options,i=e.renderer,o=e.inverted,r=this.clipBox,a=r||e.clipBox,s=this.sharedClipKey||[\"_sharedClip\",t&&t.duration,t&&t.easing,a.height,n.xAxis,n.yAxis].join(),l=e[s],u=e[s+\"m\"];l||(t&&(a.width=0,o&&(a.x=e.plotSizeX),e[s+\"m\"]=u=i.clipRect(o?e.plotSizeX+99:-99,o?-e.plotLeft:-e.plotTop,99,o?e.chartWidth:e.chartHeight)),e[s]=l=i.clipRect(a),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==n.clip&&(this.group.clip(t||r?l:e.clipRect),this.markerGroup.clip(u),this.sharedClipKey=s),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&s&&e[s]&&(r||(e[s]=e[s].destroy()),e[s+\"m\"]&&(e[s+\"m\"]=e[s+\"m\"].destroy())))},animate:function(t){var e,i=this.chart,o=n(this.options.animation);t?this.setClip(o):((t=i[e=this.sharedClipKey])&&t.animate({width:i.plotSizeX,x:0},o),i[e+\"m\"]&&i[e+\"m\"].animate({width:i.plotSizeX+99,x:0},o),this.animate=null)},afterAnimate:function(){this.setClip(),d(this,\"afterAnimate\"),this.finishedAnimating=!0},drawPoints:function(){var t,e,n,i,o,r,a,s,l=this.points,u=this.chart,h=this.options.marker,c=this[this.specialGroup]||this.markerGroup,d=_(h.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=h.enabledThreshold*h.radius);if(!1!==h.enabled||this._hasPointMarkers)for(t=0;t<l.length;t++)i=(e=l[t]).graphic,o=e.marker||{},r=!!e.marker,a=e.isInside,(n=d&&void 0===o.enabled||o.enabled)&&!e.isNull?(n=_(o.symbol,this.symbol),s=this.markerAttribs(e,e.selected&&\"select\"),i?i[a?\"show\":\"hide\"](!0).animate(s):a&&(0<s.width||e.hasImage)&&(e.graphic=i=u.renderer.symbol(n,s.x,s.y,s.width,s.height,r?o:h).add(c)),i&&i.attr(this.pointAttribs(e,e.selected&&\"select\")),i&&i.addClass(e.getClassName(),!0)):i&&(e.graphic=i.destroy())},markerAttribs:function(t,e){var n=this.options.marker,i=t.marker||{},o=i.symbol||n.symbol,r=_(i.radius,n.radius);return e&&(n=n.states[e],r=_((e=i.states&&i.states[e])&&e.radius,n&&n.radius,r+(n&&n.radiusPlus||0))),t.hasImage=o&&0===o.indexOf(\"url\"),t.hasImage&&(r=0),t={x:Math.floor(t.plotX)-r,y:t.plotY-r},r&&(t.width=t.height=2*r),t},pointAttribs:function(t,e){var n=this.options.marker,i=(s=t&&t.options)&&s.marker||{},o=this.color,r=s&&s.color,a=t&&t.color,s=_(i.lineWidth,n.lineWidth);return t=t&&t.zone&&t.zone.color,o=r||t||a||o,t=i.fillColor||n.fillColor||o,o=i.lineColor||n.lineColor||o,e&&(n=n.states[e],s=_((e=i.states&&i.states[e]||{}).lineWidth,n.lineWidth,s+_(e.lineWidthPlus,n.lineWidthPlus,0)),t=e.fillColor||n.fillColor||t,o=e.lineColor||n.lineColor||o),{stroke:o,\"stroke-width\":s,fill:t}},destroy:function(){var e,n,i,o=this,r=o.chart,a=/AppleWebKit\\/533/.test(k.navigator.userAgent),s=o.data||[];for(d(o,\"destroy\"),b(o),u(o.axisTypes||[],function(t){(i=o[t])&&i.series&&(h(i.series,o),i.isDirty=i.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=s.length;e--;)(n=s[e])&&n.destroy&&n.destroy();o.points=null,t.clearTimeout(o.animationTimeout),y(o,function(t,e){t instanceof w&&!t.survive&&t[a&&\"group\"===e?\"hide\":\"destroy\"]()}),r.hoverSeries===o&&(r.hoverSeries=null),h(r.series,o),r.orderSeries(),y(o,function(t,e){delete o[e]})},getGraphPath:function(t,e,n){var i,o,r=this,a=r.options,s=a.step,h=[],c=[];return(i=(t=t||r.points).reversed)&&t.reverse(),(s={right:1,center:2}[s]||s&&3)&&i&&(s=4-s),!a.connectNulls||e||n||(t=this.getValidPoints(t)),u(t,function(i,u){var d=i.plotX,p=i.plotY,f=t[u-1];(i.leftCliff||f&&f.rightCliff)&&!n&&(o=!0),i.isNull&&!l(e)&&0<u?o=!a.connectNulls:i.isNull&&!e?o=!0:(0===u||o?u=[\"M\",i.plotX,i.plotY]:r.getPointSpline?u=r.getPointSpline(t,i,u):s?(u=1===s?[\"L\",f.plotX,p]:2===s?[\"L\",(f.plotX+d)/2,f.plotY,\"L\",(f.plotX+d)/2,p]:[\"L\",d,f.plotY]).push(\"L\",d,p):u=[\"L\",d,p],c.push(i.x),s&&(c.push(i.x),2===s&&c.push(i.x)),h.push.apply(h,u),o=!1)}),h.xMap=c,r.graphPath=h},drawGraph:function(){var t=this,e=this.options,n=(this.gappedPath||this.getGraphPath).call(this),i=t.getZonesGraphs(i=[[\"graph\",\"highcharts-graph\",e.lineColor||this.color,e.dashStyle]]);u(i,function(i,o){var r=i[0],a=t[r];a?(a.endX=t.preventGraphAnimation?null:n.xMap,a.animate({d:n})):n.length&&(t[r]=t.chart.renderer.path(n).addClass(i[1]).attr({zIndex:1}).add(t.group),a={stroke:i[2],\"stroke-width\":e.lineWidth,fill:t.fillGraph&&t.color||\"none\"},i[3]?a.dashstyle=i[3]:\"square\"!==e.linecap&&(a[\"stroke-linecap\"]=a[\"stroke-linejoin\"]=\"round\"),a=t[r].attr(a).shadow(2>o&&e.shadow)),a&&(a.startX=n.xMap,a.isArea=n.isArea)})},getZonesGraphs:function(t){return u(this.zones,function(e,n){t.push([\"zone-graph-\"+n,\"highcharts-graph highcharts-zone-graph-\"+n+\" \"+(e.className||\"\"),e.color||this.color,e.dashStyle||this.options.dashStyle])},this),t},applyZones:function(){var t,e,n,i,o,r,a,s,l,h=this,c=this.chart,d=c.renderer,p=this.zones,f=this.clips||[],g=this.graph,m=this.area,v=Math.max(c.chartWidth,c.chartHeight),y=this[(this.zoneAxis||\"y\")+\"Axis\"],b=c.inverted,x=!1;p.length&&(g||m)&&y&&void 0!==y.min&&(o=y.reversed,r=y.horiz,g&&!this.showLine&&g.hide(),m&&m.hide(),i=y.getExtremes(),u(p,function(u,p){t=o?r?c.plotWidth:0:r?0:y.toPixels(i.min),t=Math.min(Math.max(_(e,t),0),v),e=Math.min(Math.max(Math.round(y.toPixels(_(u.value,i.max),!0)),0),v),x&&(t=e=y.toPixels(i.max)),a=Math.abs(t-e),s=Math.min(t,e),l=Math.max(t,e),y.isXAxis?(n={x:b?l:s,y:0,width:a,height:v},r||(n.x=c.plotHeight-n.x)):(n={x:0,y:b?l:s,width:v,height:a},r&&(n.y=c.plotWidth-n.y)),b&&d.isVML&&(n=y.isXAxis?{x:0,y:o?s:l,height:n.width,width:c.chartWidth}:{x:n.y-c.plotLeft-c.spacingBox.x,y:0,width:n.height,height:c.chartHeight}),f[p]?f[p].animate(n):(f[p]=d.clipRect(n),g&&h[\"zone-graph-\"+p].clip(f[p]),m&&h[\"zone-area-\"+p].clip(f[p])),x=u.value>i.max,h.resetZones&&0===e&&(e=void 0)}),this.clips=f)},invertGroups:function(t){function n(){u([\"group\",\"markerGroup\"],function(e){o[e]&&(r.renderer.isVML&&o[e].attr({width:o.yAxis.len,height:o.xAxis.len}),o[e].width=o.yAxis.len,o[e].height=o.xAxis.len,o[e].invert(t))})}var i,o=this,r=o.chart;o.xAxis&&(i=e(r,\"resize\",n),e(o,\"destroy\",i),n(),o.invertGroups=n)},plotGroup:function(t,e,n,i,o){var r=this[t],a=!r;return a&&(this[t]=r=this.chart.renderer.g().attr({zIndex:i||.1}).add(o)),r.addClass(\"highcharts-\"+e+\" highcharts-series-\"+this.index+\" highcharts-\"+this.type+\"-series \"+(l(this.colorIndex)?\"highcharts-color-\"+this.colorIndex+\" \":\"\")+(this.options.className||\"\")+(r.hasClass(\"highcharts-tracker\")?\" highcharts-tracker\":\"\"),!0),r.attr({visibility:n})[a?\"attr\":\"animate\"](this.getPlotBox()),r},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,o=e.options,r=!!e.animate&&i.renderer.isSVG&&n(o.animation).duration,a=e.visible?\"inherit\":\"hidden\",s=o.zIndex,l=e.hasRendered,u=i.seriesGroup,h=i.inverted;t=e.plotGroup(\"group\",\"series\",a,s,u),e.markerGroup=e.plotGroup(\"markerGroup\",\"markers\",a,s,u),r&&e.animate(!0),t.inverted=!!e.isCartesian&&h,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(h),!1===o.clip||e.sharedClipKey||l||t.clip(i.clipRect),r&&e.animate(),l||(e.animationTimeout=C(function(){e.afterAnimate()},r)),e.isDirty=!1,e.hasRendered=!0,d(e,\"afterRender\")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,n=this.group,i=this.xAxis,o=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:_(i&&i.left,t.plotLeft),translateY:_(o&&o.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:[\"clientX\",\"plotY\"],searchPoint:function(t,e){var n=this.xAxis,i=this.yAxis,o=this.chart.inverted;return this.searchKDTree({clientX:o?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:o?i.len-t.chartX+i.pos:t.chartY-i.pos},e)},buildKDTree:function(){this.buildingKdTree=!0;var t=this,e=-1<t.options.findNearestPointBy.indexOf(\"y\")?2:1;delete t.kdTree,C(function(){t.kdTree=function e(n,i,o){var r,a;if(a=n&&n.length)return r=t.kdAxisArray[i%o],n.sort(function(t,e){return t[r]-e[r]}),{point:n[a=Math.floor(a/2)],left:e(n.slice(0,a),i+1,o),right:e(n.slice(a+1),i+1,o)}}(t.getValidPoints(null,!t.directTouch),e,e),t.buildingKdTree=!1},t.options.kdNow?0:1)},searchKDTree:function(t,e){var n=this,i=this.kdAxisArray[0],o=this.kdAxisArray[1],r=e?\"distX\":\"dist\";if(e=-1<n.options.findNearestPointBy.indexOf(\"y\")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return function t(e,a,s,u){var h,c,d=a.point,p=n.kdAxisArray[s%u],f=d;return c=l(e[i])&&l(d[i])?Math.pow(e[i]-d[i],2):null,h=l(e[o])&&l(d[o])?Math.pow(e[o]-d[o],2):null,d.dist=l(h=(c||0)+(h||0))?Math.sqrt(h):Number.MAX_VALUE,d.distX=l(c)?Math.sqrt(c):Number.MAX_VALUE,c=0>(p=e[p]-d[p])?\"right\":\"left\",a[h=0>p?\"left\":\"right\"]&&(f=(h=t(e,a[h],s+1,u))[r]<f[r]?h:d),a[c]&&Math.sqrt(p*p)<f[r]&&(f=(e=t(e,a[c],s+1,u))[r]<f[r]?e:f),f}(t,this.kdTree,e,e)}})}(u),function(t){var e=t.Axis,n=t.Chart,i=t.correctFloat,o=t.defined,r=t.destroyObjectProperties,a=t.each,s=t.format,l=t.objectEach,u=t.pick,h=t.Series;t.StackItem=function(t,e,n,i,o){var r=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=o,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(r?n?\"left\":\"right\":\"center\"),verticalAlign:e.verticalAlign||(r?\"middle\":n?\"bottom\":\"top\"),y:u(e.y,r?4:n?14:-6),x:u(e.x,r?n?-6:6:0)},this.textAlign=e.textAlign||(r?n?\"right\":\"left\":\"center\")},t.StackItem.prototype={destroy:function(){r(this,this.axis)},render:function(t){var e=this.axis.chart,n=this.options,i=(i=n.format)?s(i,this,e.time):n.formatter.call(this);this.label?this.label.attr({text:i,visibility:\"hidden\"}):this.label=e.renderer.text(i,null,null,n.useHTML).css(n.style).attr({align:this.textAlign,rotation:n.rotation,visibility:\"hidden\"}).add(t),this.label.labelrank=e.plotHeight},setOffset:function(t,e){var n=this.axis,i=n.chart,r=n.translate(n.usePercentage?100:this.total,0,0,0,1),a=n.translate(0);a=o(r)&&Math.abs(r-a),t=i.xAxis[0].translate(this.x)+t,n=o(r)&&this.getStackBox(i,this,t,r,e,a,n),(e=this.label)&&n&&(e.align(this.alignOptions,null,n),n=e.alignAttr,e[!1===this.options.crop||i.isInsidePlot(n.x,n.y)?\"show\":\"hide\"](!0))},getStackBox:function(t,e,n,i,o,r,a){var s=e.axis.reversed,l=t.inverted;return t=a.height+a.pos-(l?t.plotLeft:t.plotTop),e=e.isNegative&&!s||!e.isNegative&&s,{x:l?e?i:i-r:n,y:l?t-n-o:e?t-i-r:t-i,width:l?r:o,height:l?o:r}}},n.prototype.getStacks=function(){var t=this;a(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),a(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+u(e.options.stack,\"\"))})},e.prototype.buildStacks=function(){var t,e=this.series,n=u(this.options.reversedStacks,!0),i=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=i;t--;)e[n?t:i-t-1].setStackedPoints();for(t=0;t<i;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this.chart,e=this.stacks,n=this.stackTotalGroup;n||(this.stackTotalGroup=n=t.renderer.g(\"stack-labels\").attr({visibility:\"visible\",zIndex:6}).add()),n.translate(t.plotLeft,t.plotTop),l(e,function(t){l(t,function(t){t.render(n)})})},e.prototype.resetStacks=function(){var t=this;t.isXAxis||l(t.stacks,function(e){l(e,function(n,i){n.touched<t.stacksTouched?(n.destroy(),delete e[i]):(n.total=null,n.cumulative=null)})})},e.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),l(t,function(t){l(t,function(t){t.cumulative=t.total})}))},h.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,n,r,a,s,l,h,c=this.processedXData,d=this.processedYData,p=[],f=d.length,g=(y=this.options).threshold,m=u(y.startFromThreshold&&g,0),v=y.stack,y=y.stacking,_=this.stackKey,b=\"-\"+_,x=this.negStacks,w=this.yAxis,C=w.stacks,k=w.oldStacks;for(w.stacksTouched+=1,s=0;s<f;s++)h=d[s],a=(e=this.getStackIndicator(e,l=c[s],this.index)).key,C[r=(n=x&&h<(m?0:g))?b:_]||(C[r]={}),C[r][l]||(k[r]&&k[r][l]?(C[r][l]=k[r][l],C[r][l].total=null):C[r][l]=new t.StackItem(w,w.options.stackLabels,n,l,v)),r=C[r][l],null!==h?(r.points[a]=r.points[this.index]=[u(r.cumulative,m)],o(r.cumulative)||(r.base=a),r.touched=w.stacksTouched,0<e.index&&!1===this.singleStacks&&(r.points[a][0]=r.points[this.index+\",\"+l+\",0\"][0])):r.points[a]=r.points[this.index]=null,\"percent\"===y?(n=n?_:b,r.total=x&&C[n]&&C[n][l]?(n=C[n][l]).total=Math.max(n.total,r.total)+Math.abs(h)||0:i(r.total+(Math.abs(h)||0))):r.total=i(r.total+(h||0)),r.cumulative=u(r.cumulative,m)+(h||0),null!==h&&(r.points[a].push(r.cumulative),p[s]=r.cumulative);\"percent\"===y&&(w.usePercentage=!0),this.stackedYData=p,w.oldStacks={}}},h.prototype.modifyStacks=function(){var t,e=this,n=e.stackKey,i=e.yAxis.stacks,o=e.processedXData,r=e.options.stacking;e[r+\"Stacker\"]&&a([n,\"-\"+n],function(n){for(var a,s,l=o.length;l--;)t=e.getStackIndicator(t,a=o[l],e.index,n),(s=(a=i[n]&&i[n][a])&&a.points[t.key])&&e[r+\"Stacker\"](s,a,l)})},h.prototype.percentStacker=function(t,e,n){t[0]=i(t[0]*(e=e.total?100/e.total:0)),t[1]=i(t[1]*e),this.stackedYData[n]=t[1]},h.prototype.getStackIndicator=function(t,e,n,i){return!o(t)||t.x!==e||i&&t.key!==i?t={x:e,index:0,key:i}:t.index++,t.key=[n,e,t.index].join(),t}}(u),function(t){var e=t.addEvent,n=t.animate,i=t.Axis,o=t.createElement,r=t.css,a=t.defined,s=t.each,l=t.erase,u=t.extend,h=t.fireEvent,c=t.inArray,d=t.isNumber,p=t.isObject,f=t.isArray,g=t.merge,m=t.objectEach,v=t.pick,y=t.Point,_=t.Series,b=t.seriesTypes,x=t.setAnimation,w=t.splat;u(t.Chart.prototype,{addSeries:function(t,e,n){var i,o=this;return t&&(e=v(e,!0),h(o,\"addSeries\",{options:t},function(){i=o.initSeries(t),o.isDirtyLegend=!0,o.linkSeries(),h(o,\"afterAddSeries\"),e&&o.redraw(n)})),i},addAxis:function(t,e,n,o){var r=e?\"xAxis\":\"yAxis\",a=this.options;return t=g(t,{index:this[r].length,isX:e}),e=new i(this,t),a[r]=w(a[r]||{}),a[r].push(t),v(n,!0)&&this.redraw(o),e},showLoading:function(t){var i=this,a=i.options,s=i.loadingDiv,l=a.loading,h=function(){s&&r(s,{left:i.plotLeft+\"px\",top:i.plotTop+\"px\",width:i.plotWidth+\"px\",height:i.plotHeight+\"px\"})};s||(i.loadingDiv=s=o(\"div\",{className:\"highcharts-loading highcharts-loading-hidden\"},null,i.container),i.loadingSpan=o(\"span\",{className:\"highcharts-loading-inner\"},null,s),e(i,\"redraw\",h)),s.className=\"highcharts-loading\",i.loadingSpan.innerHTML=t||a.lang.loading,r(s,u(l.style,{zIndex:10})),r(i.loadingSpan,l.labelStyle),i.loadingShown||(r(s,{opacity:0,display:\"\"}),n(s,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),i.loadingShown=!0,h()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className=\"highcharts-loading highcharts-loading-hidden\",n(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){r(e,{display:\"none\"})}})),this.loadingShown=!1},propsRequireDirtyBox:\"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow\".split(\" \"),propsRequireUpdateSeries:\"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip\".split(\" \"),update:function(t,e,n,i){var o,r,l=this,u={credits:\"addCredits\",title:\"setTitle\",subtitle:\"setSubtitle\"},p=t.chart,f=[];h(l,\"update\",{options:t}),p&&(g(!0,l.options.chart,p),\"className\"in p&&l.setClassName(p.className),\"reflow\"in p&&l.setReflow(p.reflow),(\"inverted\"in p||\"polar\"in p||\"type\"in p)&&(l.propFromSeries(),o=!0),\"alignTicks\"in p&&(o=!0),m(p,function(t,e){-1!==c(\"chart.\"+e,l.propsRequireUpdateSeries)&&(r=!0),-1!==c(e,l.propsRequireDirtyBox)&&(l.isDirtyBox=!0)}),\"style\"in p&&l.renderer.setStyle(p.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&g(!0,this.options.plotOptions,t.plotOptions),m(t,function(t,e){l[e]&&\"function\"==typeof l[e].update?l[e].update(t,!1):\"function\"==typeof l[u[e]]&&l[u[e]](t),\"chart\"!==e&&-1!==c(e,l.propsRequireUpdateSeries)&&(r=!0)}),s(\"xAxis yAxis zAxis series colorAxis pane\".split(\" \"),function(e){var i;t[e]&&(\"series\"===e&&(i=[],s(l[e],function(t,e){t.options.isInternal||i.push(e)})),s(w(t[e]),function(t,o){(o=a(t.id)&&l.get(t.id)||l[e][i?i[o]:o])&&o.coll===e&&(o.update(t,!1),n&&(o.touched=!0)),!o&&n&&(\"series\"===e?l.addSeries(t,!1).touched=!0:\"xAxis\"!==e&&\"yAxis\"!==e||(l.addAxis(t,\"xAxis\"===e,!1).touched=!0))}),n&&s(l[e],function(t){t.touched||t.options.isInternal?delete t.touched:f.push(t)}))}),s(f,function(t){t.remove&&t.remove(!1)}),o&&s(l.axes,function(t){t.update({},!1)}),r&&s(l.series,function(t){t.update({},!1)}),t.loading&&g(!0,l.options.loading,t.loading),o=p&&p.width,p=p&&p.height,d(o)&&o!==l.chartWidth||d(p)&&p!==l.chartHeight?l.setSize(o,p,i):v(e,!0)&&l.redraw(i),h(l,\"afterUpdate\",{options:t})},setSubtitle:function(t){this.setTitle(void 0,t)}}),u(y.prototype,{update:function(t,e,n,i){function o(){a.applyOptions(t),null===a.y&&l&&(a.graphic=l.destroy()),p(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(a.graphic=l.destroy()),t&&t.dataLabels&&a.dataLabel&&(a.dataLabel=a.dataLabel.destroy()),a.connector&&(a.connector=a.connector.destroy())),s.updateParallelArrays(a,r=a.index),h.data[r]=p(h.data[r],!0)||p(t,!0)?a.options:v(t,h.data[r]),s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(u.isDirtyBox=!0),\"point\"===h.legendType&&(u.isDirtyLegend=!0),e&&u.redraw(n)}var r,a=this,s=a.series,l=a.graphic,u=s.chart,h=s.options;e=v(e,!0),!1===i?o():a.firePointEvent(\"update\",{options:t},o)},remove:function(t,e){this.series.removePoint(c(this,this.series.data),t,e)}}),u(_.prototype,{addPoint:function(t,e,n,i){var o,r,a,s,l=this.options,u=this.data,h=this.chart,c=(c=this.xAxis)&&c.hasNames&&c.names,d=l.data,p=this.xData;if(e=v(e,!0),this.pointClass.prototype.applyOptions.apply(o={series:this},[t]),s=o.x,a=p.length,this.requireSorting&&s<p[a-1])for(r=!0;a&&p[a-1]>s;)a--;this.updateParallelArrays(o,\"splice\",a,0,0),this.updateParallelArrays(o,a),c&&o.name&&(c[s]=o.name),d.splice(a,0,t),r&&(this.data.splice(a,0,null),this.processData()),\"point\"===l.legendType&&this.generatePoints(),n&&(u[0]&&u[0].remove?u[0].remove(!1):(u.shift(),this.updateParallelArrays(o,\"shift\"),d.shift())),this.isDirtyData=this.isDirty=!0,e&&h.redraw(i)},removePoint:function(t,e,n){var i=this,o=i.data,r=o[t],a=i.points,s=i.chart,l=function(){a&&a.length===o.length&&a.splice(t,1),o.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(r||{series:i},\"splice\",t,1),r&&r.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&s.redraw()};x(n,s),e=v(e,!0),r?r.firePointEvent(\"remove\",null,l):l()},remove:function(t,e,n){function i(){o.destroy(),o.remove=null,r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(),v(t,!0)&&r.redraw(e)}var o=this,r=o.chart;!1!==n?h(o,\"remove\",null,i):i()},update:function(e,n){var i,o=this,r=o.chart,a=o.userOptions,l=o.oldType||o.type,d=e.type||a.type||r.options.chart.type,p=b[l].prototype,f=[\"group\",\"markerGroup\",\"dataLabelsGroup\"],m=[\"navigatorSeries\",\"baseSeries\"],y=o.finishedAnimating&&{animation:!1},_=[\"data\",\"name\",\"turboThreshold\"],x=t.keys(e),w=0<x.length;if(s(x,function(t){-1===c(t,_)&&(w=!1)}),w)e.data&&this.setData(e.data,!1),e.name&&this.setName(e.name,!1);else{for(i in m=f.concat(m),s(m,function(t){m[t]=o[t],delete o[t]}),e=g(a,y,{index:o.index,pointStart:v(a.pointStart,o.xData[0])},{data:o.options.data},e),o.remove(!1,null,!1),p)o[i]=void 0;b[d||l]?u(o,b[d||l].prototype):t.error(17,!0),s(m,function(t){o[t]=m[t]}),o.init(r,e),e.zIndex!==a.zIndex&&s(f,function(t){o[t]&&o[t].attr({zIndex:e.zIndex})}),o.oldType=l,r.linkSeries()}h(this,\"afterUpdate\"),v(n,!0)&&r.redraw(!!w&&void 0)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),u(i.prototype,{update:function(t,e){var n=this.chart,i=t&&t.events||{};t=g(this.userOptions,t),n.options[this.coll].indexOf&&(n.options[this.coll][n.options[this.coll].indexOf(this.userOptions)]=t),m(n.options[this.coll].events,function(t,e){void 0===i[e]&&(i[e]=void 0)}),this.destroy(!0),this.init(n,u(t,{events:i})),n.isDirtyBox=!0,v(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,o=i.length;o--;)i[o]&&i[o].remove(!1);l(e.axes,this),l(e[n],this),f(e.options[n])?e.options[n].splice(this.options.index,1):delete e.options[n],s(e[n],function(t,e){t.options.index=t.userOptions.index=e}),this.destroy(),e.isDirtyBox=!0,v(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(u),function(t){var e=t.color,n=t.each,i=t.map,o=t.pick,r=t.Series;(0,t.seriesType)(\"area\",\"line\",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(e){var r,a,s=[],l=[],u=this.xAxis,h=this.yAxis,c=h.stacks[this.stackKey],d={},p=this.index,f=h.series,g=f.length,m=o(h.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(a=0;a<e.length;a++)e[a].leftNull=e[a].rightNull=null,d[e[a].x]=e[a];t.objectEach(c,function(t,e){null!==t.total&&l.push(e)}),l.sort(function(t,e){return t-e}),r=i(f,function(){return this.visible}),n(l,function(t,e){var i,o,f=0;if(d[t]&&!d[t].isNull)s.push(d[t]),n([-1,1],function(n){var s=1===n?\"rightNull\":\"leftNull\",u=0,h=c[l[e+n]];if(h)for(a=p;0<=a&&a<g;)(i=h.points[a])||(a===p?d[t][s]=!0:r[a]&&(o=c[t].points[a])&&(u-=o[1]-o[0])),a+=m;d[t][1===n?\"rightCliff\":\"leftCliff\"]=u});else{for(a=p;0<=a&&a<g;){if(i=c[t].points[a]){f=i[1];break}a+=m}f=h.translate(f,0,1,0,1),s.push({isNull:!0,plotX:u.translate(t,0,0,0,1),x:t,plotY:f,yBottom:f})}})}return s},getGraphPath:function(t){var e,n,i,a,s=r.prototype.getGraphPath,l=(m=this.options).stacking,u=this.yAxis,h=[],c=[],d=this.index,p=u.stacks[this.stackKey],f=m.threshold,g=u.getThreshold(m.threshold),m=m.connectNulls||\"percent\"===l,v=function(e,n,o){var r=t[e];e=l&&p[r.x].points[d];var a,s,m=r[o+\"Null\"]||0;o=r[o+\"Cliff\"]||0,r=!0,o||m?(a=(m?e[0]:e[1])+o,s=e[0]+o,r=!!m):!l&&t[n]&&t[n].isNull&&(a=s=f),void 0!==a&&(c.push({plotX:i,plotY:null===a?g:u.getThreshold(a),isNull:r,isCliff:!0}),h.push({plotX:i,plotY:null===s?g:u.getThreshold(s),doCurve:!1}))};for(t=t||this.points,l&&(t=this.getStackPoints(t)),e=0;e<t.length;e++)n=t[e].isNull,i=o(t[e].rectPlotX,t[e].plotX),a=o(t[e].yBottom,g),(!n||m)&&(m||v(e,e-1,\"left\"),n&&!l&&m||(c.push(t[e]),h.push({x:e,plotX:i,plotY:a})),m||v(e,e+1,\"right\"));return e=s.call(this,c,!0,!0),h.reversed=!0,(n=s.call(this,h,!0,!0)).length&&(n[0]=\"L\"),n=e.concat(n),s=s.call(this,c,!1,m),n.xMap=e.xMap,this.areaPath=n,s},drawGraph:function(){this.areaPath=[],r.prototype.drawGraph.apply(this);var t=this,i=this.areaPath,a=this.options,s=[[\"area\",\"highcharts-area\",this.color,a.fillColor]];n(this.zones,function(e,n){s.push([\"zone-area-\"+n,\"highcharts-area highcharts-zone-area-\"+n+\" \"+e.className,e.color||t.color,e.fillColor||a.fillColor])}),n(s,function(n){var r=n[0],s=t[r];s?(s.endX=t.preventGraphAnimation?null:i.xMap,s.animate({d:i})):(s=t[r]=t.chart.renderer.path(i).addClass(n[1]).attr({fill:o(n[3],e(n[2]).setOpacity(o(a.fillOpacity,.75)).get()),zIndex:0}).add(t.group)).isArea=!0,s.startX=i.xMap,s.shiftUnit=a.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(u),function(t){var e=u.pick;(0,u.seriesType)(\"spline\",\"line\",{},{getPointSpline:function(t,n,i){var o,r,a,s,l=n.plotX,u=n.plotY,h=t[i-1];if(i=t[i+1],h&&!h.isNull&&!1!==h.doCurve&&!n.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!n.isCliff){a=i.plotX;var c=0;r=(1.5*u+(t=h.plotY))/2.5,s=(1.5*u+(i=i.plotY))/2.5,(a=(1.5*l+a)/2.5)!=(o=(1.5*l+h.plotX)/2.5)&&(c=(s-r)*(a-l)/(a-o)+u-s),s+=c,(r+=c)>t&&r>u?s=2*u-(r=Math.max(t,u)):r<t&&r<u&&(s=2*u-(r=Math.min(t,u))),s>i&&s>u?r=2*u-(s=Math.max(i,u)):s<i&&s<u&&(r=2*u-(s=Math.min(i,u))),n.rightContX=a,n.rightContY=s}return n=[\"C\",e(h.rightContX,h.plotX),e(h.rightContY,h.plotY),e(o,l),e(r,u),l,u],h.rightContX=h.rightContY=null,n}})}(),function(t){var e=u.seriesTypes.area.prototype;(0,u.seriesType)(\"areaspline\",\"spline\",u.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:u.LegendSymbolMixin.drawRectangle})}(),function(t){var e=u.animObject,n=u.color,i=u.each,o=u.extend,r=u.defined,a=u.isNumber,s=u.merge,l=u.pick,h=u.Series,c=u.svg;(0,u.seriesType)(\"column\",\"line\",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:\"#cccccc\",borderColor:\"#000000\"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:\"#ffffff\"},{cropShoulder:0,directTouch:!0,trackerGroups:[\"group\",\"dataLabelsGroup\"],negStacks:!0,init:function(){h.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,n=e.xAxis,o=e.yAxis,r=n.options.reversedStacks,a=(r=n.reversed&&!r||!n.reversed&&r,{}),s=0;!1===(d=e.options).grouping?s=1:i(e.chart.series,function(n){var i,r=n.options,l=n.yAxis;n.type!==e.type||!n.visible&&e.chart.options.chart.ignoreHiddenSeries||o.len!==l.len||o.pos!==l.pos||(r.stacking?(void 0===a[t=n.stackKey]&&(a[t]=s++),i=a[t]):!1!==r.grouping&&(i=s++),n.columnIndex=i)});var u=Math.min(Math.abs(n.transA)*(n.ordinalSlope||d.pointRange||n.closestPointRange||n.tickInterval||1),n.len),h=u*d.groupPadding,c=(u-2*h)/(s||1),d=Math.min(d.maxPointWidth||n.len,l(d.pointWidth,c*(1-2*d.pointPadding)));return e.columnMetrics={width:d,offset:(c-d)/2+(h+((e.columnIndex||0)+(r?1:0))*c-u/2)*(r?-1:1)},e.columnMetrics},crispCol:function(t,e,n,i){var o=this.chart,r=-((a=this.borderWidth)%2?.5:0),a=a%2?.5:1;return o.inverted&&o.renderer.isVML&&(a+=1),this.options.crisp&&(n=Math.round(t+n)+r,n-=t=Math.round(t)+r),i=Math.round(e+i)+a,r=.5>=Math.abs(e)&&.5<i,i-=e=Math.round(e)+a,r&&i&&(--e,i+=1),{x:t,y:e,width:n,height:i}},translate:function(){var t=this,e=t.chart,n=t.options,o=t.dense=2>t.closestPointRange*t.xAxis.transA,a=(o=t.borderWidth=l(n.borderWidth,o?0:1),t.yAxis),s=n.threshold,u=t.translatedThreshold=a.getThreshold(s),c=l(n.minPointLength,5),d=t.getColumnMetrics(),p=d.width,f=t.barW=Math.max(p,1+2*o),g=t.pointXOffset=d.offset;e.inverted&&(u-=.5),n.pointPadding&&(f=Math.ceil(f)),h.prototype.translate.apply(t),i(t.points,function(n){var i,o=l(n.yBottom,u),h=999+Math.abs(o),d=p,m=(h=Math.min(Math.max(-h,n.plotY),a.len+h),n.plotX+g),v=f,y=Math.min(h,o),_=Math.max(h,o)-y;c&&Math.abs(_)<c&&(_=c,i=!a.reversed&&!n.negative||a.reversed&&n.negative,n.y===s&&t.dataMax<=s&&a.min<s&&(i=!i),y=Math.abs(y-u)>c?o-c:u-(i?c:0)),r(n.options.pointWidth)&&(d=v=Math.ceil(n.options.pointWidth),m-=Math.round((d-p)/2)),n.barX=m,n.pointWidth=d,n.tooltipPos=e.inverted?[a.len+a.pos-e.plotLeft-h,t.xAxis.len-m-v/2,_]:[m+v/2,h+a.pos-e.plotTop,_],n.shapeType=\"rect\",n.shapeArgs=t.crispCol.apply(t,n.isNull?[m,u,v,0]:[m,y,v,_])})},getSymbol:u.noop,drawLegendSymbol:u.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?\"addClass\":\"removeClass\"](\"highcharts-dense-data\")},pointAttribs:function(t,e){var i,o=this.options;i=(h=this.pointAttrToOptions||{}).stroke||\"borderColor\";var r=h[\"stroke-width\"]||\"borderWidth\",a=t&&t.color||this.color,l=t&&t[i]||o[i]||this.color||a,u=t&&t[r]||o[r]||this[r]||0,h=o.dashStyle;return t&&this.zones.length&&(a=t.getZone(),a=t.options.color||a&&a.color||this.color),e&&(e=(t=s(o.states[e],t.options.states&&t.options.states[e]||{})).brightness,a=t.color||void 0!==e&&n(a).brighten(t.brightness).get()||a,l=t[i]||l,u=t[r]||u,h=t.dashStyle||h),i={fill:a,stroke:l,\"stroke-width\":u},h&&(i.dashstyle=h),i},drawPoints:function(){var t,e=this,n=this.chart,o=e.options,r=n.renderer,l=o.animationLimit||250;i(e.points,function(i){var u=i.graphic,h=u&&n.pointCount<l?\"animate\":\"attr\";a(i.plotY)&&null!==i.y?(t=i.shapeArgs,u?u[h](s(t)):i.graphic=u=r[i.shapeType](t).add(i.group||e.group),o.borderRadius&&u.attr({r:o.borderRadius}),u[h](e.pointAttribs(i,i.selected&&\"select\")).shadow(o.shadow,null,o.stacking&&!o.borderRadius),u.addClass(i.getClassName(),!0)):u&&(i.graphic=u.destroy())})},animate:function(t){var n,i=this,r=this.yAxis,a=i.options,s=this.chart.inverted,l={},u=s?\"translateX\":\"translateY\";c&&(t?(l.scaleY=.001,t=Math.min(r.pos+r.len,Math.max(r.pos,r.toPixels(a.threshold))),s?l.translateX=t-r.len:l.translateY=t,i.group.attr(l)):(n=i.group.attr(u),i.group.animate({scaleY:1},o(e(i.options.animation),{step:function(t,e){l[u]=n+e.pos*(r.pos-n),i.group.attr(l)}})),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),h.prototype.remove.apply(t,arguments)}})}(),(0,u.seriesType)(\"bar\",\"column\",null,{inverted:!0}),function(t){var e=u.Series;(0,u.seriesType)(\"scatter\",\"line\",{lineWidth:0,findNearestPointBy:\"xy\",marker:{enabled:!0},tooltip:{headerFormat:'<span style=\"color:{point.color}\">\\u25cf</span> <span style=\"font-size: 0.85em\"> {series.name}</span><br/>',pointFormat:\"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>\"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:[\"group\",\"markerGroup\",\"dataLabelsGroup\"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(),function(t){var e=u.deg2rad,n=u.isNumber,i=u.pick,o=u.relativeLength;u.CenteredSeriesMixin={getCenter:function(){var t,e,n=this.options,r=2*(n.slicedOffset||0),a=(s=this.chart).plotWidth-2*r,s=s.plotHeight-2*r,l=[i((l=n.center)[0],\"50%\"),i(l[1],\"50%\"),n.size||\"100%\",n.innerSize||0],u=Math.min(a,s);for(t=0;4>t;++t)e=l[t],n=2>t||2===t&&/%$/.test(e),l[t]=o(e,[a,s,u,l[2]][t])+(n?r:0);return l[3]>l[2]&&(l[3]=l[2]),l},getStartAndEndRadians:function(t,i){return t=n(t)?t:0,i=n(i)&&i>t&&360>i-t?i:t+360,{start:e*(t+-90),end:e*(i+-90)}}}}(),function(t){var e=t.addEvent,n=t.CenteredSeriesMixin,i=t.defined,o=t.each,r=t.extend,a=n.getStartAndEndRadians,s=t.inArray,l=t.noop,u=t.pick,h=t.Point,c=t.Series,d=t.setAnimation;(0,t.seriesType)(\"pie\",\"line\",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:\"point\",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:\"#ffffff\",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:[\"group\",\"dataLabelsGroup\"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,n=e.startAngleRad;t||(o(e.points,function(t){var i=t.graphic,o=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:n,end:n}),i.animate({r:o.r,start:o.start,end:o.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,n=0,i=this.points,o=i.length,r=this.options.ignoreHiddenPoint;for(t=0;t<o;t++)e=i[t],n+=r&&!e.visible?0:e.isNull?0:e.y;for(this.total=n,t=0;t<o;t++)(e=i[t]).percentage=0<n&&(e.visible||!r)?e.y/n*100:0,e.total=n},generatePoints:function(){c.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,n,i,o,r,s,l=0,h=(m=this.options).slicedOffset,c=h+(m.borderWidth||0),d=a(m.startAngle,m.endAngle),p=this.startAngleRad=d.start,f=(d=(this.endAngleRad=d.end)-p,this.points),g=m.dataLabels.distance,m=m.ignoreHiddenPoint,v=f.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,n,o){return i=Math.asin(Math.min((e-t[1])/(t[2]/2+o.labelDistance),1)),t[0]+(n?-1:1)*Math.cos(i)*(t[2]/2+o.labelDistance)},r=0;r<v;r++)(s=f[r]).labelDistance=u(s.options.dataLabels&&s.options.dataLabels.distance,g),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,s.labelDistance),e=p+l*d,m&&!s.visible||(l+=s.percentage/100),n=p+l*d,s.shapeType=\"arc\",s.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*n)/1e3},(i=(n+e)/2)>1.5*Math.PI?i-=2*Math.PI:i<-Math.PI/2&&(i+=2*Math.PI),s.slicedTranslation={translateX:Math.round(Math.cos(i)*h),translateY:Math.round(Math.sin(i)*h)},n=Math.cos(i)*t[2]/2,o=Math.sin(i)*t[2]/2,s.tooltipPos=[t[0]+.7*n,t[1]+.7*o],s.half=i<-Math.PI/2||i>Math.PI/2?1:0,s.angle=i,e=Math.min(c,s.labelDistance/5),s.labelPos=[t[0]+n+Math.cos(i)*s.labelDistance,t[1]+o+Math.sin(i)*s.labelDistance,t[0]+n+Math.cos(i)*e,t[1]+o+Math.sin(i)*e,t[0]+n,t[1]+o,0>s.labelDistance?\"center\":s.half?\"right\":\"left\",i]},drawGraph:null,drawPoints:function(){var t,e,n,i,a=this,s=a.chart.renderer,l=a.options.shadow;l&&!a.shadowGroup&&(a.shadowGroup=s.g(\"shadow\").add(a.group)),o(a.points,function(o){if(e=o.graphic,o.isNull)e&&(o.graphic=e.destroy());else{i=o.shapeArgs,t=o.getTranslate();var u=o.shadowGroup;l&&!u&&(u=o.shadowGroup=s.g(\"shadow\").add(a.shadowGroup)),u&&u.attr(t),n=a.pointAttribs(o,o.selected&&\"select\"),e?e.setRadialReference(a.center).attr(n).animate(r(i,t)):(o.graphic=e=s[o.shapeType](i).setRadialReference(a.center).attr(t).add(a.group),e.attr(n).attr({\"stroke-linejoin\":\"round\"}).shadow(l,u)),e.attr({visibility:o.visible?\"inherit\":\"hidden\"}),e.addClass(o.getClassName())}})},searchPoint:l,sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:n.getCenter,getSymbol:l},{init:function(){h.prototype.init.apply(this,arguments);var t,n=this;return n.name=u(n.name,\"Slice\"),t=function(t){n.slice(\"select\"===t.type)},e(n,\"select\",t),e(n,\"unselect\",t),n},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var n=this,i=n.series,r=i.chart,a=i.options.ignoreHiddenPoint;e=u(e,a),t!==n.visible&&(n.visible=n.options.visible=t=void 0===t?!n.visible:t,i.options.data[s(n,i.data)]=n.options,o([\"graphic\",\"dataLabel\",\"connector\",\"shadowGroup\"],function(e){n[e]&&n[e][t?\"show\":\"hide\"](!0)}),n.legendItem&&r.legend.colorizeItem(n,t),t||\"hover\"!==n.state||n.setState(\"\"),a&&(i.isDirty=!0),e&&r.redraw())},slice:function(t,e,n){var o=this.series;d(n,o.chart),u(e,!0),this.sliced=this.options.sliced=i(t)?t:!this.sliced,o.options.data[s(this,o.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r-1,start:e.start,end:e.end})}})}(u),function(t){var e=t.addEvent,n=t.arrayMax,i=t.defined,o=t.each,r=t.extend,a=t.format,s=t.map,l=t.merge,u=t.noop,h=t.pick,c=t.relativeLength,d=t.Series,p=t.seriesTypes,f=t.some,g=t.stableSort,m=t.isArray,v=t.splat;t.distribute=function(e,n,i){function r(t,e){return t.target-e.target}var a,l,u=!0,c=e,d=[];l=0;var p=c.reducedLen||n;for(a=e.length;a--;)l+=e[a].size;if(l>p){for(g(e,function(t,e){return(e.rank||0)-(t.rank||0)}),l=a=0;l<=p;)l+=e[a].size,a++;d=e.splice(a-1,e.length)}for(g(e,r),e=s(e,function(t){return{size:t.size,targets:[t.target],align:h(t.align,.5)}});u;){for(a=e.length;a--;)u=e[a],l=(Math.min.apply(0,u.targets)+Math.max.apply(0,u.targets))/2,u.pos=Math.min(Math.max(0,l-u.size*u.align),n-u.size);for(a=e.length,u=!1;a--;)0<a&&e[a-1].pos+e[a-1].size>e[a].pos&&(e[a-1].size+=e[a].size,e[a-1].targets=e[a-1].targets.concat(e[a].targets),e[a-1].align=.5,e[a-1].pos+e[a-1].size>n&&(e[a-1].pos=n-e[a-1].size),e.splice(a,1),u=!0)}c.push.apply(c,d),a=0,f(e,function(e){var r=0;if(f(e.targets,function(){if(c[a].pos=e.pos+r,Math.abs(c[a].pos-c[a].target)>i)return o(c.slice(0,a+1),function(t){delete t.pos}),c.reducedLen=(c.reducedLen||n)-.1*n,c.reducedLen>.1*n&&t.distribute(c,n,i),!0;r+=c[a].size,a++}))return!0}),g(c,r)},d.prototype.drawDataLabels=function(){function n(t,e){var n,i=[];if(m(t)&&!m(e))i=s(t,function(t){return l(t,e)});else if(m(e)&&!m(t))i=s(e,function(e){return l(t,e)});else if(m(t)||m(e))for(n=Math.max(t.length,e.length);n--;)i[n]=l(t[n],e[n]);else i=l(t,e);return i}var r,u,c=this,d=c.chart,p=c.options,f=c.points,g=c.hasRendered||0,y=h((b=p.dataLabels).defer,!!p.animation),_=d.renderer,b=n(n(d.options.plotOptions&&d.options.plotOptions.series&&d.options.plotOptions.series.dataLabels,d.options.plotOptions&&d.options.plotOptions[c.type]&&d.options.plotOptions[c.type].dataLabels),b);(m(b)||b.enabled||c._hasPointLabels)&&(u=c.plotGroup(\"dataLabelsGroup\",\"data-labels\",y&&!g?\"hidden\":\"visible\",b.zIndex||6),y&&(u.attr({opacity:+g}),g||e(c,\"afterAnimate\",function(){c.visible&&u.show(!0),u[p.animation?\"animate\":\"attr\"]({opacity:1},{duration:200})})),o(f,function(e){r=v(n(b,e.dlOptions||e.options&&e.options.dataLabels)),o(r,function(n,o){var r,s,l,f,g=n.enabled&&!e.isNull&&function(t,e){var n=e.filter;return!n||(e=n.operator,t=t[n.property],n=n.value,\">\"===e&&t>n||\"<\"===e&&t<n||\">=\"===e&&t>=n||\"<=\"===e&&t<=n||\"==\"===e&&t==n||\"===\"===e&&t===n)}(e,n),m=e.dataLabels?e.dataLabels[o]:e.dataLabel,v=e.connectors?e.connectors[o]:e.connector,y=!m;g&&(r=e.getLabelConfig(),r=i(s=n[e.formatPrefix+\"Format\"]||n.format)?a(s,r,d.time):(n[e.formatPrefix+\"Formatter\"]||n.formatter).call(r,n),l=n.rotation,(s=n.style).color=h(n.color,s.color,c.color,\"#000000\"),\"contrast\"===s.color&&(e.contrastColor=_.getContrast(e.color||c.color),s.color=n.inside||0>h(n.distance,e.labelDistance)||p.stacking?e.contrastColor:\"#000000\"),p.cursor&&(s.cursor=p.cursor),t.objectEach(f={fill:n.backgroundColor,stroke:n.borderColor,\"stroke-width\":n.borderWidth,r:n.borderRadius||0,rotation:l,padding:n.padding,zIndex:1},function(t,e){void 0===t&&delete f[e]})),!m||g&&i(r)?g&&i(r)&&(m?f.text=r:(e.dataLabels=e.dataLabels||[],m=e.dataLabels[o]=l?_.text(r,0,-9999).addClass(\"highcharts-data-label\"):_.label(r,0,-9999,n.shape,null,null,n.useHTML,null,\"data-label\"),o||(e.dataLabel=m),m.addClass(\" highcharts-data-label-color-\"+e.colorIndex+\" \"+(n.className||\"\")+(n.useHTML?\" highcharts-tracker\":\"\"))),m.options=n,m.attr(f),m.css(s).shadow(n.shadow),m.added||m.add(u),c.alignDataLabel(e,m,n,null,y)):(e.dataLabel=e.dataLabel.destroy(),e.dataLabels&&(1===e.dataLabels.length?delete e.dataLabels:delete e.dataLabels[o]),o||delete e.dataLabel,v&&(e.connector=e.connector.destroy(),e.connectors&&(1===e.connectors.length?delete e.connectors:delete e.connectors[o])))})})),t.fireEvent(this,\"afterDrawDataLabels\")},d.prototype.alignDataLabel=function(t,e,n,i,o){var a,s=this.chart,l=s.inverted,u=h(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),c=h(t.plotY,-9999),d=e.getBBox(),p=n.rotation,f=n.align,g=this.visible&&(t.series.forceDL||s.isInsidePlot(u,Math.round(c),l)||i&&s.isInsidePlot(u,l?i.x+1:i.y+i.height-1,l)),m=\"justify\"===h(n.overflow,\"justify\");g&&(a=s.renderer.fontMetrics(a=n.style.fontSize,e).b,i=r({x:l?this.yAxis.len-c:u,y:Math.round(l?this.xAxis.len-u:c),width:0,height:0},i),r(n,{width:d.width,height:d.height}),p?(m=!1,u=s.renderer.rotCorr(a,p),e[o?\"attr\":\"animate\"](u={x:i.x+n.x+i.width/2+u.x,y:i.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height}).attr({align:f}),c=180<(c=(p+720)%360)&&360>c,\"left\"===f?u.y-=c?d.height:0:\"center\"===f?(u.x-=d.width/2,u.y-=d.height/2):\"right\"===f&&(u.x-=d.width,u.y-=c?0:d.height),e.placed=!0,e.alignAttr=u):(e.align(n,null,i),u=e.alignAttr),m&&0<=i.height?t.isLabelJustified=this.justifyDataLabel(e,n,u,d,i,o):h(n.crop,!0)&&(g=s.isInsidePlot(u.x,u.y)&&s.isInsidePlot(u.x+d.width,u.y+d.height)),n.shape&&!p)&&e[o?\"attr\":\"animate\"]({anchorX:l?s.plotWidth-t.plotY:t.plotX,anchorY:l?s.plotHeight-t.plotX:t.plotY}),g||(e.attr({y:-9999}),e.placed=!1)},d.prototype.justifyDataLabel=function(t,e,n,i,o,r){var a,s,l=this.chart,u=e.align,h=e.verticalAlign,c=t.box?0:t.padding||0;return 0>(a=n.x+c)&&(\"right\"===u?e.align=\"left\":e.x=-a,s=!0),(a=n.x+i.width-c)>l.plotWidth&&(\"left\"===u?e.align=\"right\":e.x=l.plotWidth-a,s=!0),0>(a=n.y+c)&&(\"bottom\"===h?e.verticalAlign=\"top\":e.y=-a,s=!0),(a=n.y+i.height-c)>l.plotHeight&&(\"top\"===h?e.verticalAlign=\"bottom\":e.y=l.plotHeight-a,s=!0),s&&(t.placed=!r,t.align(e,null,o)),s},p.pie&&(p.pie.prototype.drawDataLabels=function(){var e,r,a,s,l,u,c,p,f,g,m=this,v=m.data,y=m.chart,_=m.options.dataLabels,b=h(_.connectorPadding,10),x=h(_.connectorWidth,1),w=y.plotWidth,C=y.plotHeight,k=Math.round(y.chartWidth/3),O=m.center,M=O[2]/2,L=O[1],S=[[],[]],P=[0,0,0,0];m.visible&&(_.enabled||m._hasPointLabels)&&(o(v,function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:\"auto\"}).css({width:\"auto\",textOverflow:\"clip\"}),t.dataLabel.shortened=!1)}),d.prototype.drawDataLabels.apply(m),o(v,function(t){t.dataLabel&&(t.visible?(S[t.half].push(t),t.dataLabel._pos=null,!i(_.style.width)&&!i(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>k&&(t.dataLabel.css({width:.7*k}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))}),o(S,function(n,r){var d,v,x,k=n.length,S=[];if(k)for(m.sortByAngle(n,r-.5),0<m.maxLabelDistance&&(d=Math.max(0,L-M-m.maxLabelDistance),v=Math.min(L+M+m.maxLabelDistance,y.plotHeight),o(n,function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,L-M-t.labelDistance),t.bottom=Math.min(L+M+t.labelDistance,y.plotHeight),x=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPos[1]-t.top+x/2,size:x,rank:t.y},S.push(t.distributeBox))}),t.distribute(S,d=v+x-d,d/5)),g=0;g<k;g++)a=(e=n[g]).dataLabel,f=!1===e.visible?\"hidden\":\"inherit\",p=d=(l=e.labelPos)[1],S&&i(e.distributeBox)&&(void 0===e.distributeBox.pos?f=\"hidden\":(u=e.distributeBox.size,p=e.top+e.distributeBox.pos)),delete e.positionIndex,c=_.justify?O[0]+(r?-1:1)*(M+e.labelDistance):m.getX(p<e.top+2||p>e.bottom-2?d:p,r,e),a._attr={visibility:f,align:l[6]},a._pos={x:c+_.x+({left:b,right:-b}[l[6]]||0),y:p+_.y-10},l.x=c,l.y=p,h(_.crop,!0)&&(s=a.getBBox().width,d=null,c-s<b&&1===r?(d=Math.round(s-c+b),P[3]=Math.max(d,P[3])):c+s>w-b&&0===r&&(d=Math.round(c+s-w+b),P[1]=Math.max(d,P[1])),0>p-u/2?P[0]=Math.max(Math.round(u/2-p),P[0]):p+u/2>C&&(P[2]=Math.max(Math.round(p+u/2-C),P[2])),a.sideOverflow=d)}),0===n(P)||this.verifyDataLabelOverflow(P))&&(this.placeDataLabels(),x&&o(this.points,function(t){var e;r=t.connector,(a=t.dataLabel)&&a._pos&&t.visible&&0<t.labelDistance?(f=a._attr.visibility,(e=!r)&&(t.connector=r=y.renderer.path().addClass(\"highcharts-data-label-connector  highcharts-color-\"+t.colorIndex+(t.className?\" \"+t.className:\"\")).add(m.dataLabelsGroup),r.attr({\"stroke-width\":x,stroke:_.connectorColor||t.color||\"#666666\"})),r[e?\"attr\":\"animate\"]({d:m.connectorPath(t.labelPos)}),r.attr(\"visibility\",f)):r&&(t.connector=r.destroy())}))},p.pie.prototype.connectorPath=function(t){var e=t.x,n=t.y;return h(this.options.dataLabels.softConnector,!0)?[\"M\",e+(\"left\"===t[6]?5:-5),n,\"C\",e,n,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],\"L\",t[4],t[5]]:[\"M\",e+(\"left\"===t[6]?5:-5),n,\"L\",t[2],t[3],\"L\",t[4],t[5]]},p.pie.prototype.placeDataLabels=function(){o(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+\"px\",textOverflow:(this.options.dataLabels.style||{}).textOverflow||\"ellipsis\"}),e.shortened=!0),e.attr(e._attr),e[e.moved?\"animate\":\"attr\"](t),e.moved=!0):e&&e.attr({y:-9999}))},this)},p.pie.prototype.alignDataLabel=u,p.pie.prototype.verifyDataLabelOverflow=function(t){var e,n=this.center,i=this.options,o=i.center,r=i.minSize||80,a=null!==i.size;return a||(null!==o[0]?e=Math.max(n[2]-Math.max(t[1],t[3]),r):(e=Math.max(n[2]-t[1]-t[3],r),n[0]+=(t[3]-t[1])/2),null!==o[1]?e=Math.max(Math.min(e,n[2]-Math.max(t[0],t[2])),r):(e=Math.max(Math.min(e,n[2]-t[0]-t[2]),r),n[1]+=(t[0]-t[2])/2),e<n[2]?(n[2]=e,n[3]=Math.min(c(i.innerSize||0,e),e),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):a=!0),a}),p.column&&(p.column.prototype.alignDataLabel=function(t,e,n,i,o){var r=this.chart.inverted,a=t.series,s=t.dlBox||t.shapeArgs,u=h(t.below,t.plotY>h(this.translatedThreshold,a.yAxis.len)),c=h(n.inside,!!this.options.stacking);s&&(0>(i=l(s)).y&&(i.height+=i.y,i.y=0),0<(s=i.y+i.height-a.yAxis.len)&&(i.height-=s),r&&(i={x:a.yAxis.len-i.y-i.height,y:a.xAxis.len-i.x-i.width,width:i.height,height:i.width}),c||(r?(i.x+=u?0:i.width,i.width=0):(i.y+=u?i.height:0,i.height=0))),n.align=h(n.align,!r||c?\"center\":u?\"right\":\"left\"),n.verticalAlign=h(n.verticalAlign,r||c?\"middle\":u?\"top\":\"bottom\"),d.prototype.alignDataLabel.call(this,t,e,n,i,o),t.isLabelJustified&&t.contrastColor&&e.css({color:t.contrastColor})})}(u),function(t){var e=u.Chart,n=u.each,i=u.isArray,o=u.objectEach,r=u.pick;(0,u.addEvent)(e,\"render\",function(){var t=[];n(this.labelCollectors||[],function(e){t=t.concat(e())}),n(this.yAxis||[],function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&o(e.stacks,function(e){o(e,function(e){t.push(e.label)})})}),n(this.series||[],function(e){e.visible&&(!1!==e.options.dataLabels.enabled||e._hasPointLabels)&&n(e.points,function(e){if(e.visible){var o=i(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[];n(o,function(n){var i=n.options;n.labelrank=r(i.labelrank,e.labelrank,e.shapeArgs&&e.shapeArgs.height),i.allowOverlap||t.push(n)})}})}),this.hideOverlappingLabels(t)}),e.prototype.hideOverlappingLabels=function(t){var e,i,o,r,a,s,l=t.length,u=this.renderer,h=function(t,e,n,i,o,r,a,s){return!(o>t+n||o+a<t||r>e+i||r+s<e)};for(o=function(t){var e,n,i,o=t.box?0:t.padding||0;if(i=0,t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr(\"x\"),y:t.attr(\"y\")},n=t.parentGroup,t.width||(i=t.getBBox(),t.width=i.width,t.height=i.height,i=u.fontMetrics(null,t.element).h),{x:e.x+(n.translateX||0)+o,y:e.y+(n.translateY||0)+o-i,width:t.width-2*o,height:t.height-2*o}},i=0;i<l;i++)(e=t[i])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=o(e));for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),i=0;i<l;i++)for(s=(o=t[i])&&o.absoluteBox,e=i+1;e<l;++e)a=(r=t[e])&&r.absoluteBox,s&&a&&o!==r&&0!==o.newOpacity&&0!==r.newOpacity&&(a=h(s.x,s.y,s.width,s.height,a.x,a.y,a.width,a.height))&&((o.labelrank<r.labelrank?o:r).newOpacity=0);n(t,function(t){var e,n;t&&(t.oldOpacity!==(n=t.newOpacity)&&(t.alignAttr&&t.placed?(n?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=n,t[t.isOld?\"animate\":\"attr\"](t.alignAttr,null,e)):t.attr({opacity:n})),t.isOld=!0)})}}(),function(t){var e,n=t.addEvent,i=t.Chart,o=t.createElement,r=t.css,a=t.defaultOptions,s=t.defaultPlotOptions,l=t.each,u=t.extend,h=t.fireEvent,c=t.hasTouch,d=t.inArray,p=t.isObject,f=t.Legend,g=t.merge,m=t.pick,v=t.Point,y=t.Series,_=t.seriesTypes,b=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart.pointer,n=function(t){var n=e.getPointFromEvent(t);void 0!==n&&(e.isDirectTouch=!0,n.onMouseOver(t))};l(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)}),t._hasTracking||(l(t.trackerGroups,function(i){t[i]&&(t[i].addClass(\"highcharts-tracker\").on(\"mouseover\",n).on(\"mouseout\",function(t){e.onTrackerMouseOut(t)}),c&&t[i].on(\"touchstart\",n),t.options.cursor&&t[i].css(r).css({cursor:t.options.cursor}))}),t._hasTracking=!0),h(this,\"afterDrawTracker\")},drawTrackerGraph:function(){var t,e=this,n=e.options,i=n.trackByArea,o=[].concat(i?e.areaPath:e.graphPath),r=o.length,a=e.chart,s=a.pointer,u=a.renderer,d=a.options.tooltip.snap,p=e.tracker,f=function(){a.hoverSeries!==e&&e.onMouseOver()},g=\"rgba(192,192,192,\"+(b?1e-4:.002)+\")\";if(r&&!i)for(t=r+1;t--;)\"M\"===o[t]&&o.splice(t+1,0,o[t+1]-d,o[t+2],\"L\"),(t&&\"M\"===o[t]||t===r)&&o.splice(t,0,\"L\",o[t-2]+d,o[t-1]);p?p.attr({d:o}):e.graph&&(e.tracker=u.path(o).attr({\"stroke-linejoin\":\"round\",stroke:g,fill:i?g:\"none\",\"stroke-width\":e.graph.strokeWidth()+(i?0:2*d),visibility:e.visible?\"visible\":\"hidden\",zIndex:2}).addClass(i?\"highcharts-tracker-area\":\"highcharts-tracker-line\").add(e.group),l([e.tracker,e.markerGroup],function(t){t.addClass(\"highcharts-tracker\").on(\"mouseover\",f).on(\"mouseout\",function(t){s.onTrackerMouseOut(t)}),n.cursor&&t.css({cursor:n.cursor}),c&&t.on(\"touchstart\",f)})),h(this,\"afterDrawTracker\")}},_.column&&(_.column.prototype.drawTracker=e.drawTrackerPoint),_.pie&&(_.pie.prototype.drawTracker=e.drawTrackerPoint),_.scatter&&(_.scatter.prototype.drawTracker=e.drawTrackerPoint),a.legend.itemStyle.cursor=\"pointer\",u(f.prototype,{setItemEvents:function(t,e,n){var i=this,o=i.chart.renderer.boxWrapper,r=\"highcharts-legend-\"+(t instanceof v?\"point\":\"series\")+\"-active\";(n?e:t.legendGroup).on(\"mouseover\",function(){t.setState(\"hover\"),o.addClass(r),e.css(i.options.itemHoverStyle)}).on(\"mouseout\",function(){e.css(g(t.visible?i.itemStyle:i.itemHiddenStyle)),o.removeClass(r),t.setState()}).on(\"click\",function(e){var n=function(){t.setVisible&&t.setVisible()};o.removeClass(r),e={browserEvent:e},t.firePointEvent?t.firePointEvent(\"legendItemClick\",e,n):h(t,\"legendItemClick\",e,n)})},createCheckboxForItem:function(t){t.checkbox=o(\"input\",{type:\"checkbox\",className:\"highcharts-legend-checkbox\",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),n(t.checkbox,\"click\",function(e){h(t.series||t,\"checkboxClick\",{checked:e.target.checked,item:t},function(){t.select()})})}}),u(i.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,n=a.lang,i=e.options.chart.resetZoomButton,o=i.theme,r=o.states,s=\"chart\"===i.relativeTo?null:\"plotBox\";h(this,\"beforeShowResetZoom\",null,function(){e.resetZoomButton=e.renderer.button(n.resetZoom,null,null,t,o,r&&r.hover).attr({align:i.position.align,title:n.resetZoomTitle}).addClass(\"highcharts-reset-zoom\").add().align(i.position,!1,s)})},zoomOut:function(){h(this,\"selection\",{resetSelection:!0},this.zoom)},zoom:function(t){var e,n,i=this.pointer,o=!1;!t||t.resetSelection?(l(this.axes,function(t){e=t.zoom()}),i.initiated=!1):l(t.xAxis.concat(t.yAxis),function(t){var n=t.axis;i[n.isXAxis?\"zoomX\":\"zoomY\"]&&(e=n.zoom(t.min,t.max),n.displayBtn&&(o=!0))}),n=this.resetZoomButton,o&&!n?this.showResetZoom():!o&&p(n)&&(this.resetZoomButton=n.destroy()),e&&this.redraw(m(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var n,i=this,o=i.hoverPoints;o&&l(o,function(t){t.setState()}),l(\"xy\"===e?[1,0]:[1],function(e){var o,r,a=t[(o=(e=i[e?\"xAxis\":\"yAxis\"][0]).horiz)?\"chartX\":\"chartY\"],s=i[o=o?\"mouseDownX\":\"mouseDownY\"],l=(e.pointRange||0)/2,u=e.reversed&&!i.inverted||!e.reversed&&i.inverted?-1:1,h=e.getExtremes(),c=e.toValue(s-a,!0)+l*u;s=(r=(u=e.toValue(s+e.len-a,!0)-l*u)<c)?u:c,c=r?c:u,0<(r=(u=Math.min(h.dataMin,l?h.min:e.toValue(e.toPixels(h.min)-e.minPixelPadding)))-s)&&(c+=r,s=u),0<(r=c-(l=Math.max(h.dataMax,l?h.max:e.toValue(e.toPixels(h.max)+e.minPixelPadding))))&&(c=l,s-=r),e.series.length&&s!==h.min&&c!==h.max&&(e.setExtremes(s,c,!1,!1,{trigger:\"pan\"}),n=!0),i[o]=a}),n&&i.redraw(!1),r(i.container,{cursor:\"move\"})}}),u(v.prototype,{select:function(t,e){var n=this,i=n.series,o=i.chart;t=m(t,!n.selected),n.firePointEvent(t?\"select\":\"unselect\",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[d(n,i.data)]=n.options,n.setState(t&&\"select\"),e||l(o.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[d(t,i.data)]=t.options,t.setState(\"\"),t.firePointEvent(\"unselect\"))})})},onMouseOver:function(t){var e=this.series.chart,n=e.pointer;t=t?n.normalize(t):n.getChartCoordinatesFromPoint(this,e.inverted),n.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent(\"mouseOut\"),l(t.hoverPoints||[],function(t){t.setState()}),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,i=g(e.series.options.point,e.options).events;e.events=i,t.objectEach(i,function(t,i){n(e,i,t)}),this.hasImportedEvents=!0}},setState:function(t,e){var n,i=Math.floor(this.plotX),o=this.plotY,r=this.series,a=r.options.states[t||\"normal\"]||{},l=s[r.type].marker&&r.options.marker,c=l&&l.states&&l.states[t||\"normal\"]||{},d=r.stateMarkerGraphic,p=this.marker||{},f=r.chart,g=r.halo;(t=t||\"\")===this.state&&!e||this.selected&&\"select\"!==t||!1===a.enabled||t&&(!1===c.enabled||l&&!1===l.enabled&&!1===c.enabled)||t&&p.states&&p.states[t]&&!1===p.states[t].enabled||(l&&r.markerAttribs&&(n=r.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass(\"highcharts-point-\"+this.state),t&&this.graphic.addClass(\"highcharts-point-\"+t),this.graphic.animate(r.pointAttribs(this,t),m(f.options.chart.animation,a.animation)),n&&this.graphic.animate(n,m(f.options.chart.animation,c.animation,l.animation)),d&&d.hide()):(t&&c&&(l=p.symbol||r.symbol,d&&d.currentSymbol!==l&&(d=d.destroy()),d?d[e?\"animate\":\"attr\"]({x:n.x,y:n.y}):l&&(r.stateMarkerGraphic=d=f.renderer.symbol(l,n.x,n.y,n.width,n.height).add(r.markerGroup),d.currentSymbol=l),d&&d.attr(r.pointAttribs(this,t))),d&&(d[t&&f.isInsidePlot(i,o,f.inverted)?\"show\":\"hide\"](),d.element.point=this)),(i=a.halo)&&i.size?(g||(r.halo=g=f.renderer.path().add((this.graphic||d).parentGroup)),g.show()[e?\"animate\":\"attr\"]({d:this.haloPath(i.size)}),g.attr({class:\"highcharts-halo highcharts-color-\"+m(this.colorIndex,r.colorIndex)+(this.className?\" \"+this.className:\"\"),zIndex:-1}),g.point=this,g.attr(u({fill:this.color||r.color,\"fill-opacity\":i.opacity},i.attributes))):g&&g.point&&g.point.haloPath&&g.animate({d:g.point.haloPath(0)},null,g.hide),this.state=t,h(this,\"afterSetState\"))},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),u(y.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&h(this,\"mouseOver\"),this.setState(\"hover\"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,i=e.hoverPoint;e.hoverSeries=null,i&&i.onMouseOut(),this&&t.events.mouseOut&&h(this,\"mouseOut\"),!n||this.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),this.setState()},setState:function(t){var e=this,n=e.graph,i=(r=e.options).states,o=r.lineWidth,r=0;if(e.state!==(t=t||\"\")&&(l([e.group,e.markerGroup,e.dataLabelsGroup],function(n){n&&(e.state&&n.removeClass(\"highcharts-series-\"+e.state),t&&n.addClass(\"highcharts-series-\"+t))}),e.state=t,!i[t]||!1!==i[t].enabled)&&(t&&(o=i[t].lineWidth||o+(i[t].lineWidthPlus||0)),n&&!n.dashstyle))for(n.animate(o={\"stroke-width\":o},m(i[t||\"normal\"]&&i[t||\"normal\"].animation,e.chart.options.chart.animation));e[\"zone-graph-\"+r];)e[\"zone-graph-\"+r].attr(o),r+=1},setVisible:function(t,e){var n,i=this,o=i.chart,r=i.legendItem,a=o.options.chart.ignoreHiddenSeries;n=(i.visible=t=i.options.visible=i.userOptions.visible=void 0===t?!i.visible:t)?\"show\":\"hide\",l([\"group\",\"dataLabelsGroup\",\"markerGroup\",\"tracker\",\"tt\"],function(t){i[t]&&i[t][n]()}),o.hoverSeries!==i&&(o.hoverPoint&&o.hoverPoint.series)!==i||i.onMouseOut(),r&&o.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&l(o.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),l(i.linkedSeries,function(e){e.setVisible(t,!1)}),a&&(o.isDirtyBox=!0),h(i,n),!1!==e&&o.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),h(this,t?\"select\":\"unselect\")},drawTracker:e.drawTrackerGraph})}(u),function(t){var e=t.Chart,n=t.each,i=t.inArray,o=t.isArray,r=t.isObject,a=t.pick,s=t.splat;e.prototype.setResponsive=function(e){var i=this.options.responsive,o=[],r=this.currentResponsive;i&&i.rules&&n(i.rules,function(n){void 0===n._id&&(n._id=t.uniqueKey()),this.matchResponsiveRule(n,o,e)},this);var a=t.merge.apply(0,t.map(o,function(e){return t.find(i.rules,function(t){return t._id===e}).chartOptions}));(o=o.toString()||void 0)!==(r&&r.ruleIds)&&(r&&this.update(r.undoOptions,e),o?(this.currentResponsive={ruleIds:o,mergedOptions:a,undoOptions:this.currentOptions(a)},this.update(a,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var n=t.condition;(n.callback||function(){return this.chartWidth<=a(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=a(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=a(n.minWidth,0)&&this.chartHeight>=a(n.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){var n={};return function e(n,a,l,u){var h;t.objectEach(n,function(t,n){if(!u&&-1<i(n,[\"series\",\"xAxis\",\"yAxis\"]))for(t=s(t),l[n]=[],h=0;h<t.length;h++)a[n][h]&&(l[n][h]={},e(t[h],a[n][h],l[n][h],u+1));else r(t)?(l[n]=o(t)?[]:{},e(t,a[n]||{},l[n],u+1)):l[n]=a[n]||null})}(e,this.options,n,0),n}}(u),u},t.exports?t.exports=o.document?r(o):r:void 0===(i=(function(){return r(o)}).call(e,n,e,t))||(t.exports=i)},\"7/DV\":function(t,e,n){\"use strict\";var i=n(\"2Lu3\");e.STORE={magic:\"\\0\\0\",compressWorker:function(t){return new i(\"STORE compression\")},uncompressWorker:function(){return new i(\"STORE decompression\")}},e.DEFLATE=n(\"+BzL\")},\"7tol\":function(t,e,n){\"use strict\";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,o){var r=i,a=o+n;t^=-1;for(var s=o;s<a;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}},\"909l\":function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return h});var i=n(\"mrSG\"),o=n(\"IUTb\"),r=n(\"isby\"),a=n(\"FFOo\"),s=n(\"MGBS\"),l=n(\"zotm\"),u=n(\"En8+\");function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return\"function\"==typeof n&&t.pop(),Object(o.a)(t,void 0).lift(new c(n))}var c=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.resultSelector))},t}(),d=function(t){function e(e,n,i){void 0===i&&(i=Object.create(null));var o=t.call(this,e)||this;return o.iterators=[],o.active=0,o.resultSelector=\"function\"==typeof n?n:null,o.values=i,o}return i.__extends(e,t),e.prototype._next=function(t){var e=this.iterators;Object(r.a)(t)?e.push(new f(t)):e.push(\"function\"==typeof t[u.a]?new p(t[u.a]()):new g(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var i=t[n];i.stillUnsubscribed?this.destination.add(i.subscribe(i,n)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,i=0;i<e;i++)if(\"function\"==typeof(a=t[i]).hasValue&&!a.hasValue())return;var o=!1,r=[];for(i=0;i<e;i++){var a,s=(a=t[i]).next();if(a.hasCompleted()&&(o=!0),s.done)return void n.complete();r.push(s.value)}this.resultSelector?this._tryresultSelector(r):n.next(r),o&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(a.a),p=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),f=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[u.a]=function(){return this},t.prototype.next=function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),g=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return i.__extends(e,t),e.prototype[u.a]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,o){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Object(l.a)(this,this.observable,this,e)},e}(s.a)},\"9aYe\":function(t,e,n){\"use strict\";var i=n(\"Mi3D\"),o=n(\"4bvL\"),r=n(\"RfpG\"),a=n(\"cdN8\"),s=n(\"J5BL\");function l(t){return t}function u(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}e.newBlob=function(t,n){e.checkSupport(\"blob\");try{return new Blob([t],{type:n})}catch(o){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(n)}catch(o){throw new Error(\"Bug : can't construct the Blob.\")}}};var h={stringifyByChunk:function(t,e,n){var i=[],o=0,r=t.length;if(r<=n)return String.fromCharCode.apply(null,t);for(;o<r;)i.push(\"array\"===e||\"nodebuffer\"===e?String.fromCharCode.apply(null,t.slice(o,Math.min(o+n,r))):String.fromCharCode.apply(null,t.subarray(o,Math.min(o+n,r)))),o+=n;return i.join(\"\")},stringifyByChar:function(t){for(var e=\"\",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(t){return!1}}()}};function c(t){var n=65536,i=e.getTypeOf(t),o=!0;if(\"uint8array\"===i?o=h.applyCanBeUsed.uint8array:\"nodebuffer\"===i&&(o=h.applyCanBeUsed.nodebuffer),o)for(;n>1;)try{return h.stringifyByChunk(t,i,n)}catch(r){n=Math.floor(n/2)}return h.stringifyByChar(t)}function d(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}e.applyFromCharCode=c;var p={};p.string={string:l,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return u(t,new Uint8Array(t.length))},nodebuffer:function(t){return u(t,r.allocBuffer(t.length))}},p.array={string:c,array:l,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(t)}},p.arraybuffer={string:function(t){return c(new Uint8Array(t))},array:function(t){return d(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:l,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(new Uint8Array(t))}},p.uint8array={string:c,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:l,nodebuffer:function(t){return r.newBufferFrom(t)}},p.nodebuffer={string:c,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:l},e.transformTo=function(t,n){if(n||(n=\"\"),!t)return n;e.checkSupport(t);var i=e.getTypeOf(n);return p[i][t](n)},e.getTypeOf=function(t){return\"string\"==typeof t?\"string\":\"[object Array]\"===Object.prototype.toString.call(t)?\"array\":i.nodebuffer&&r.isBuffer(t)?\"nodebuffer\":i.uint8array&&t instanceof Uint8Array?\"uint8array\":i.arraybuffer&&t instanceof ArrayBuffer?\"arraybuffer\":void 0},e.checkSupport=function(t){if(!i[t.toLowerCase()])throw new Error(t+\" is not supported by this platform\")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,n,i=\"\";for(n=0;n<(t||\"\").length;n++)i+=\"\\\\x\"+((e=t.charCodeAt(n))<16?\"0\":\"\")+e.toString(16).toUpperCase();return i},e.delay=function(t,e,n){a(function(){t.apply(n||null,e||[])})},e.inherits=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n},e.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},e.prepareContent=function(t,n,r,a,l){return s.Promise.resolve(n).then(function(t){return i.blob&&(t instanceof Blob||-1!==[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(t)))&&\"undefined\"!=typeof FileReader?new s.Promise(function(e,n){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){n(t.target.error)},i.readAsArrayBuffer(t)}):t}).then(function(n){var h,c=e.getTypeOf(n);return c?(\"arraybuffer\"===c?n=e.transformTo(\"uint8array\",n):\"string\"===c&&(l?n=o.decode(n):r&&!0!==a&&(n=u(h=n,i.uint8array?new Uint8Array(h.length):new Array(h.length)))),n):s.Promise.reject(new Error(\"Can't read the data of '\"+t+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))})}},AxlJ:function(t,e,n){var i,o;o=function(t){!function(t){var e=t.defaultOptions,n=t.doc,i=t.Chart,o=t.addEvent,r=t.removeEvent,a=t.fireEvent,s=t.createElement,l=t.discardElement,u=t.css,h=t.merge,c=t.pick,d=t.each,p=t.objectEach,f=t.extend,g=t.isTouchDevice,m=t.win,v=m.navigator.userAgent,y=t.Renderer.prototype.symbols;/Edge\\/|Trident\\/|MSIE /.test(v),/firefox/i.test(v),f(e.lang,{printChart:\"Print chart\",downloadPNG:\"Download PNG image\",downloadJPEG:\"Download JPEG image\",downloadPDF:\"Download PDF document\",downloadSVG:\"Download SVG vector image\",contextButtonTitle:\"Chart context menu\"}),e.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:\"right\",buttonSpacing:3,height:22,verticalAlign:\"top\",width:24}},h(!0,e.navigation,{menuStyle:{border:\"1px solid #999999\",background:\"#ffffff\",padding:\"5px 0\"},menuItemStyle:{padding:\"0.5em 1em\",background:\"none\",color:\"#333333\",fontSize:g?\"14px\":\"11px\",transition:\"background 250ms, color 250ms\"},menuItemHoverStyle:{background:\"#335cad\",color:\"#ffffff\"},buttonOptions:{symbolFill:\"#666666\",symbolStroke:\"#666666\",symbolStrokeWidth:3,theme:{fill:\"#ffffff\",stroke:\"none\",padding:5}}}),e.exporting={type:\"image/png\",url:\"https://export.highcharts.com/\",printMaxWidth:780,scale:2,buttons:{contextButton:{className:\"highcharts-contextbutton\",menuClassName:\"highcharts-contextmenu\",symbol:\"menu\",titleKey:\"contextButtonTitle\",menuItems:\"printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG\".split(\" \")}},menuItemDefinitions:{printChart:{textKey:\"printChart\",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:\"downloadPNG\",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:\"downloadJPEG\",onclick:function(){this.exportChart({type:\"image/jpeg\"})}},downloadPDF:{textKey:\"downloadPDF\",onclick:function(){this.exportChart({type:\"application/pdf\"})}},downloadSVG:{textKey:\"downloadSVG\",onclick:function(){this.exportChart({type:\"image/svg+xml\"})}}}},t.post=function(t,e,i){var o=s(\"form\",h({method:\"post\",action:t,enctype:\"multipart/form-data\"},i),{display:\"none\"},n.body);p(e,function(t,e){s(\"input\",{type:\"hidden\",name:e,value:t},null,o)}),o.submit(),l(o)},f(i.prototype,{sanitizeSVG:function(t,e){if(e&&e.exporting&&e.exporting.allowHTML){var n=t.match(/<\\/svg>(.*?$)/);n&&n[1]&&(t=t.replace(\"</svg>\",(n='<foreignObject x=\"0\" y=\"0\" width=\"'+e.chart.width+'\" height=\"'+e.chart.height+'\"><body xmlns=\"http://www.w3.org/1999/xhtml\">'+n[1]+\"</body></foreignObject>\")+\"</svg>\"))}return t=t.replace(/zIndex=\"[^\"]+\"/g,\"\").replace(/symbolName=\"[^\"]+\"/g,\"\").replace(/jQuery[0-9]+=\"[^\"]+\"/g,\"\").replace(/url\\((\"|&quot;)(\\S+)(\"|&quot;)\\)/g,\"url($2)\").replace(/url\\([^#]+#/g,\"url(#\").replace(/<svg /,'<svg xmlns:xlink=\"http://www.w3.org/1999/xlink\" ').replace(/ (|NS[0-9]+\\:)href=/g,\" xlink:href=\").replace(/\\n/,\" \").replace(/<\\/svg>.*?$/,\"</svg>\").replace(/(fill|stroke)=\"rgba\\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\\.]+)\\)\"/g,'$1=\"rgb($2)\" $1-opacity=\"$3\"').replace(/&nbsp;/g,\"\\xa0\").replace(/&shy;/g,\"\\xad\"),this.ieSanitizeSVG&&(t=this.ieSanitizeSVG(t)),t},getChartHTML:function(){return this.container.innerHTML},getSVG:function(e){var i,o,r,u,c,p=h(this.options,e);return o=s(\"div\",null,{position:\"absolute\",top:\"-9999em\",width:this.chartWidth+\"px\",height:this.chartHeight+\"px\"},n.body),r=this.renderTo.style.width,c=this.renderTo.style.height,r=p.exporting.sourceWidth||p.chart.width||/px$/.test(r)&&parseInt(r,10)||600,c=p.exporting.sourceHeight||p.chart.height||/px$/.test(c)&&parseInt(c,10)||400,f(p.chart,{animation:!1,renderTo:o,forExport:!0,renderer:\"SVGRenderer\",width:r,height:c}),p.exporting.enabled=!1,delete p.data,p.series=[],d(this.series,function(t){(u=h(t.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:t.visible})).isInternal||p.series.push(u)}),d(this.axes,function(e){e.userOptions.internalKey||(e.userOptions.internalKey=t.uniqueKey())}),i=new t.Chart(p,this.callback),e&&d([\"xAxis\",\"yAxis\",\"series\"],function(t){var n={};e[t]&&(n[t]=e[t],i.update(n))}),d(this.axes,function(e){var n=t.find(i.axes,function(t){return t.options.internalKey===e.userOptions.internalKey}),o=(r=e.getExtremes()).userMin,r=r.userMax;n&&(void 0!==o&&o!==n.min||void 0!==r&&r!==n.max)&&n.setExtremes(o,r,!0,!1)}),r=i.getChartHTML(),a(this,\"getSVG\",{chartCopy:i}),r=this.sanitizeSVG(r,p),p=null,i.destroy(),l(o),r},getSVGForExport:function(t,e){var n=this.options.exporting;return this.getSVG(h({chart:{borderRadius:0}},n.chartOptions,e,{exporting:{sourceWidth:t&&t.sourceWidth||n.sourceWidth,sourceHeight:t&&t.sourceHeight||n.sourceHeight}}))},exportChart:function(e,n){n=this.getSVGForExport(e,n),e=h(this.options.exporting,e),t.post(e.url,{filename:e.filename||\"chart\",type:e.type,width:e.width||0,scale:e.scale,svg:n},e.formAttributes)},print:function(){var t,e,i=this,o=i.container,r=[],s=o.parentNode,l=n.body,u=l.childNodes,h=i.options.exporting.printMaxWidth;i.isPrinting||(i.isPrinting=!0,i.pointer.reset(null,0),a(i,\"beforePrint\"),(e=h&&i.chartWidth>h)&&(t=[i.options.chart.width,void 0,!1],i.setSize(h,void 0,!1)),d(u,function(t,e){1===t.nodeType&&(r[e]=t.style.display,t.style.display=\"none\")}),l.appendChild(o),setTimeout(function(){m.focus(),m.print(),setTimeout(function(){s.appendChild(o),d(u,function(t,e){1===t.nodeType&&(t.style.display=r[e])}),i.isPrinting=!1,e&&i.setSize.apply(i,t),a(i,\"afterPrint\")},1e3)},1))},contextMenu:function(e,i,r,a,l,h,c){var p,g=this,m=g.options.navigation,v=g.chartWidth,y=g.chartHeight,_=\"cache-\"+e,b=g[_],x=Math.max(l,h);b||(g.exportContextMenu=g[_]=b=s(\"div\",{className:e},{position:\"absolute\",zIndex:1e3,padding:x+\"px\",pointerEvents:\"auto\"},g.fixedDiv||g.container),p=s(\"div\",{className:\"highcharts-menu\"},null,b),u(p,f({MozBoxShadow:\"3px 3px 10px #888\",WebkitBoxShadow:\"3px 3px 10px #888\",boxShadow:\"3px 3px 10px #888\"},m.menuStyle)),b.hideMenu=function(){u(b,{display:\"none\"}),c&&c.setState(0),g.openMenu=!1,t.clearTimeout(b.hideTimer)},g.exportEvents.push(o(b,\"mouseleave\",function(){b.hideTimer=setTimeout(b.hideMenu,500)}),o(b,\"mouseenter\",function(){t.clearTimeout(b.hideTimer)}),o(n,\"mouseup\",function(t){g.pointer.inClass(t.target,e)||b.hideMenu()}),o(b,\"click\",function(){g.openMenu&&b.hideMenu()})),d(i,function(e){var n;\"string\"==typeof e&&(e=g.options.exporting.menuItemDefinitions[e]),t.isObject(e,!0)&&(e.separator?n=s(\"hr\",null,null,p):((n=s(\"div\",{className:\"highcharts-menu-item\",onclick:function(t){t&&t.stopPropagation(),b.hideMenu(),e.onclick&&e.onclick.apply(g,arguments)},innerHTML:e.text||g.options.lang[e.textKey]},null,p)).onmouseover=function(){u(this,m.menuItemHoverStyle)},n.onmouseout=function(){u(this,m.menuItemStyle)},u(n,f({cursor:\"pointer\"},m.menuItemStyle))),g.exportDivElements.push(n))}),g.exportDivElements.push(p,b),g.exportMenuWidth=b.offsetWidth,g.exportMenuHeight=b.offsetHeight),i={display:\"block\"},r+g.exportMenuWidth>v?i.right=v-r-l-x+\"px\":i.left=r-x+\"px\",a+h+g.exportMenuHeight>y&&\"top\"!==c.alignOptions.verticalAlign?i.bottom=y-a-x+\"px\":i.top=a+h-x+\"px\",u(b,i),g.openMenu=!0},addButton:function(t){var e,n,i=this,o=i.renderer,r=h(i.options.navigation.buttonOptions,t),a=r.onclick,s=r.menuItems,l=r.symbolSize||12;if(i.btnCount||(i.btnCount=0),i.exportDivElements||(i.exportDivElements=[],i.exportSVGElements=[]),!1!==r.enabled){var u,d=r.theme,p=(g=d.states)&&g.hover,g=g&&g.select;delete d.states,a?u=function(t){t&&t.stopPropagation(),a.call(i,t)}:s&&(u=function(t){t&&t.stopPropagation(),i.contextMenu(n.menuClassName,s,n.translateX,n.translateY,n.width,n.height,n),n.setState(2)}),r.text&&r.symbol?d.paddingLeft=c(d.paddingLeft,25):r.text||f(d,{width:r.width,height:r.height,padding:0}),(n=o.button(r.text,0,0,u,d,p,g).addClass(t.className).attr({\"stroke-linecap\":\"round\",title:c(i.options.lang[r._titleKey||r.titleKey],\"\")})).menuClassName=t.menuClassName||\"highcharts-menu-\"+i.btnCount++,r.symbol&&(e=o.symbol(r.symbol,r.symbolX-l/2,r.symbolY-l/2,l,l,{width:l,height:l}).addClass(\"highcharts-button-symbol\").attr({zIndex:1}).add(n)).attr({stroke:r.symbolStroke,fill:r.symbolFill,\"stroke-width\":r.symbolStrokeWidth||1}),n.add(i.exportingGroup).align(f(r,{width:n.width,x:c(r.x,i.buttonOffset)}),!0,\"spacingBox\"),i.buttonOffset+=(n.width+r.buttonSpacing)*(\"right\"===r.align?-1:1),i.exportSVGElements.push(n,e)}},destroyExport:function(e){var n,i=e?e.target:this,o=i.exportDivElements,a=i.exportEvents;(e=i.exportSVGElements)&&(d(e,function(t,e){t&&(t.onclick=t.ontouchstart=null,i[n=\"cache-\"+t.menuClassName]&&delete i[n],i.exportSVGElements[e]=t.destroy())}),e.length=0),i.exportingGroup&&(i.exportingGroup.destroy(),delete i.exportingGroup),o&&(d(o,function(e,n){t.clearTimeout(e.hideTimer),r(e,\"mouseleave\"),i.exportDivElements[n]=e.onmouseout=e.onmouseover=e.ontouchstart=e.onclick=null,l(e)}),o.length=0),a&&(d(a,function(t){t()}),a.length=0)}}),y.menu=function(t,e,n,i){return[\"M\",t,e+2.5,\"L\",t+n,e+2.5,\"M\",t,e+i/2+.5,\"L\",t+n,e+i/2+.5,\"M\",t,e+i-1.5,\"L\",t+n,e+i-1.5]},i.prototype.renderExporting=function(){var t=this,e=t.options.exporting,n=e.buttons,i=t.isDirtyExporting||!t.exportSVGElements;t.buttonOffset=0,t.isDirtyExporting&&t.destroyExport(),i&&!1!==e.enabled&&(t.exportEvents=[],t.exportingGroup=t.exportingGroup||t.renderer.g(\"exporting-group\").attr({zIndex:3}).add(),p(n,function(e){t.addButton(e)}),t.isDirtyExporting=!1),o(t,\"destroy\",t.destroyExport)},o(i,\"init\",function(){var t=this;d([\"exporting\",\"navigation\"],function(e){t[e]={update:function(n,i){t.isDirtyExporting=!0,h(!0,t.options[e],n),c(i,!0)&&t.redraw()}}})}),i.prototype.callbacks.push(function(t){t.renderExporting(),o(t,\"redraw\",t.renderExporting)})}(t)},t.exports?t.exports=o:void 0===(i=(function(){return o}).call(e,n,e,t))||(t.exports=i)},\"B/RK\":function(t,e,n){\"use strict\";var i=n(\"vn/o\");function o(t){for(var e=t.length;--e>=0;)t[e]=0}var r=0,a=256,s=a+1+29,l=30,u=19,h=2*s+1,c=15,d=16,p=256,f=16,g=17,m=18,v=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],b=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=new Array(2*(s+2));o(x);var w=new Array(2*l);o(w);var C=new Array(512);o(C);var k=new Array(256);o(k);var O=new Array(29);o(O);var M,L,S,P=new Array(l);function T(t,e,n,i,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=t&&t.length}function I(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function A(t){return t<256?C[t]:C[256+(t>>>7)]}function z(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function D(t,e,n){t.bi_valid>d-n?(t.bi_buf|=e<<t.bi_valid&65535,z(t,t.bi_buf),t.bi_buf=e>>d-t.bi_valid,t.bi_valid+=n-d):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function E(t,e,n){D(t,n[2*e],n[2*e+1])}function R(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function N(t,e,n){var i,o,r=new Array(c+1),a=0;for(i=1;i<=c;i++)r[i]=a=a+n[i-1]<<1;for(o=0;o<=e;o++){var s=t[2*o+1];0!==s&&(t[2*o]=R(r[s]++,s))}}function B(t){var e;for(e=0;e<s;e++)t.dyn_ltree[2*e]=0;for(e=0;e<l;e++)t.dyn_dtree[2*e]=0;for(e=0;e<u;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*p]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function F(t){t.bi_valid>8?z(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function j(t,e,n,i){var o=2*e,r=2*n;return t[o]<t[r]||t[o]===t[r]&&i[e]<=i[n]}function U(t,e,n){for(var i=t.heap[n],o=n<<1;o<=t.heap_len&&(o<t.heap_len&&j(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!j(e,i,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=i}function V(t,e,n){var i,o,r,s,l=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],o=t.pending_buf[t.l_buf+l],l++,0===i?E(t,o,e):(E(t,(r=k[o])+a+1,e),0!==(s=v[r])&&D(t,o-=O[r],s),E(t,r=A(--i),n),0!==(s=y[r])&&D(t,i-=P[r],s))}while(l<t.last_lit);E(t,p,e)}function G(t,e){var n,i,o,r=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=h,n=0;n<l;n++)0!==r[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):r[2*n+1]=0;for(;t.heap_len<2;)r[2*(o=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[o]=0,t.opt_len--,s&&(t.static_len-=a[2*o+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)U(t,r,n);o=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],U(t,r,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,r[2*o]=r[2*n]+r[2*i],t.depth[o]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,r[2*n+1]=r[2*i+1]=o,t.heap[1]=o++,U(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,o,r,a,s,l=e.dyn_tree,u=e.max_code,d=e.stat_desc.static_tree,p=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,g=e.stat_desc.extra_base,m=e.stat_desc.max_length,v=0;for(r=0;r<=c;r++)t.bl_count[r]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<h;n++)(r=l[2*l[2*(i=t.heap[n])+1]+1]+1)>m&&(r=m,v++),l[2*i+1]=r,i>u||(t.bl_count[r]++,a=0,i>=g&&(a=f[i-g]),t.opt_len+=(s=l[2*i])*(r+a),p&&(t.static_len+=s*(d[2*i+1]+a)));if(0!==v){do{for(r=m-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[m]--,v-=2}while(v>0);for(r=m;0!==r;r--)for(i=t.bl_count[r];0!==i;)(o=t.heap[--n])>u||(l[2*o+1]!==r&&(t.opt_len+=(r-l[2*o+1])*l[2*o],l[2*o+1]=r),i--)}}(t,e),N(r,u,t.bl_count)}function H(t,e,n){var i,o,r=-1,a=e[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)o=a,a=e[2*(i+1)+1],++s<l&&o===a||(s<u?t.bl_tree[2*o]+=s:0!==o?(o!==r&&t.bl_tree[2*o]++,t.bl_tree[2*f]++):s<=10?t.bl_tree[2*g]++:t.bl_tree[2*m]++,s=0,r=o,0===a?(l=138,u=3):o===a?(l=6,u=3):(l=7,u=4))}function Z(t,e,n){var i,o,r=-1,a=e[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),i=0;i<=n;i++)if(o=a,a=e[2*(i+1)+1],!(++s<l&&o===a)){if(s<u)do{E(t,o,t.bl_tree)}while(0!=--s);else 0!==o?(o!==r&&(E(t,o,t.bl_tree),s--),E(t,f,t.bl_tree),D(t,s-3,2)):s<=10?(E(t,g,t.bl_tree),D(t,s-3,3)):(E(t,m,t.bl_tree),D(t,s-11,7));s=0,r=o,0===a?(l=138,u=3):o===a?(l=6,u=3):(l=7,u=4)}}o(P);var W=!1;function Y(t,e,n,o){D(t,(r<<1)+(o?1:0),3),function(t,e,n,o){F(t),z(t,n),z(t,~n),i.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}e._tr_init=function(t){W||(function(){var t,e,n,i,o,r=new Array(c+1);for(n=0,i=0;i<28;i++)for(O[i]=n,t=0;t<1<<v[i];t++)k[n++]=i;for(k[n-1]=i,o=0,i=0;i<16;i++)for(P[i]=o,t=0;t<1<<y[i];t++)C[o++]=i;for(o>>=7;i<l;i++)for(P[i]=o<<7,t=0;t<1<<y[i]-7;t++)C[256+o++]=i;for(e=0;e<=c;e++)r[e]=0;for(t=0;t<=143;)x[2*t+1]=8,t++,r[8]++;for(;t<=255;)x[2*t+1]=9,t++,r[9]++;for(;t<=279;)x[2*t+1]=7,t++,r[7]++;for(;t<=287;)x[2*t+1]=8,t++,r[8]++;for(N(x,s+1,r),t=0;t<l;t++)w[2*t+1]=5,w[2*t]=R(t,5);M=new T(x,v,a+1,s,c),L=new T(w,y,0,l,c),S=new T(new Array(0),_,0,u,7)}(),W=!0),t.l_desc=new I(t.dyn_ltree,M),t.d_desc=new I(t.dyn_dtree,L),t.bl_desc=new I(t.bl_tree,S),t.bi_buf=0,t.bi_valid=0,B(t)},e._tr_stored_block=Y,e._tr_flush_block=function(t,e,n,i){var o,r,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<a;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),G(t,t.l_desc),G(t,t.d_desc),s=function(t){var e;for(H(t,t.dyn_ltree,t.l_desc.max_code),H(t,t.dyn_dtree,t.d_desc.max_code),G(t,t.bl_desc),e=u-1;e>=3&&0===t.bl_tree[2*b[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),(r=t.static_len+3+7>>>3)<=(o=t.opt_len+3+7>>>3)&&(o=r)):o=r=n+5,n+4<=o&&-1!==e?Y(t,e,n,i):4===t.strategy||r===o?(D(t,2+(i?1:0),3),V(t,x,w)):(D(t,4+(i?1:0),3),function(t,e,n,i){var o;for(D(t,e-257,5),D(t,n-1,5),D(t,i-4,4),o=0;o<i;o++)D(t,t.bl_tree[2*b[o]+1],3);Z(t,t.dyn_ltree,e-1),Z(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),V(t,t.dyn_ltree,t.dyn_dtree)),B(t),i&&F(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(k[n]+a+1)]++,t.dyn_dtree[2*A(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){D(t,2,3),E(t,p,x),function(t){16===t.bi_valid?(z(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},B9Yq:function(t,e){t.exports=function(){throw new Error(\"define cannot be used indirect\")}},\"C+oh\":function(t,e,n){var i=n(\"GVVf\"),o=n(\"5B4H\");i(i.G+i.B,{setImmediate:o.set,clearImmediate:o.clear})},\"C4+Z\":function(t,e,n){var i;i=function(t){\"use strict\";var e=Math.round,n=Math.min,i=Math.max,o=t.merge,r=t.pick,a=t.each,s=window.HighchartsAdapter&&window.HighchartsAdapter.inArray||t.inArray,l=t.Axis.prototype,u=t.Tick.prototype,h=l.init,c=l.render,d=l.setCategories,p=u.getLabelSize,f=u.addLabel,g=u.destroy,m=u.render;function v(t){return JSON.parse(JSON.stringify(t))}function y(t,e){return this.userOptions=v(t),this.name=t.name||t,this.parent=e,this}function _(t){for(var e=t.length,n=0;e--;)n+=t[e];return n}function b(t,e,n){for(t.unshift(new y(e,n));n;)n.leaves=n.leaves?n.leaves+1:1,n=n.parent}function x(t,n,i){n[0]===n[2]&&(n[0]=n[2]=e(n[0])-i%2/2),n[1]===n[3]&&(n[1]=n[3]=e(n[1])+i%2/2),t.push(\"M\",n[0],n[1],\"L\",n[2],n[3])}function w(t,e){return t.getPosition(t.axis.horiz,e,t.axis.tickmarkOffset)}function C(t,e,n){for(var i,o=t.length;o--;)(i=t[o][e])&&C(i,e,n),n(t[o])}y.prototype.toString=function(){for(var t=[],e=this;e;)t.push(e.name),e=e.parent;return t.join(\", \")},l.init=function(t,e){h.call(this,t,e),\"object\"==typeof e&&e.categories&&this.setupGroups(e)},l.setupGroups=function(t){var e=v(t.categories),n=[],a={},s=this.options.labels,l=s.groupedOptions,u=s.style;!function t(e,n,o,r,a){var s,l=e.length;for(a=a||0,o.depth=o.depth?o.depth:0;l--;)(s=e[l]).categories?(r&&(s.parent=r),t(s.categories,n,o,s,a+1)):b(n,s,r);o.depth=i(o.depth,a)}(e,n,a),this.categoriesTree=e,this.categories=n,this.isGrouped=0!==a.depth,this.labelsDepth=a.depth,this.labelsSizes=[],this.labelsGridPath=[],this.tickLength=t.tickLength||this.tickLength||null,this.tickWidth=r(t.tickWidth,this.isXAxis?1:0),this.directionFactor=[-1,1,1,-1][this.side],this.options.lineWidth=r(t.lineWidth,1),this.groupFontHeights=[];for(var h=0;h<=a.depth;h++){var c=l&&l[h-1]&&l[h-1].style?o(u,l[h-1].style):u;this.groupFontHeights[h]=Math.round(.3*this.chart.renderer.fontMetrics(c?c.fontSize:0).b)}},l.render=function(){if(this.isGrouped&&(this.labelsGridPath=[]),void 0===this.originalTickLength&&(this.originalTickLength=this.options.tickLength),this.options.tickLength=this.isGrouped?.001:this.originalTickLength,c.call(this),!this.isGrouped)return this.labelsGrid&&this.labelsGrid.attr({visibility:\"hidden\"}),!1;var t=this,e=t.options,n=t.top,i=t.left,o=i+t.width,r=n+t.height,a=t.hasVisibleSeries||t.hasData,s=t.labelsDepth,l=t.labelsGrid,u=t.horiz,h=t.labelsGridPath,d=!1===e.drawHorizontalBorders?s+1:0,p=t.opposite?u?n:o:u?r:i,f=t.tickWidth;for(t.userTickLength&&(s-=1),l||(l=t.labelsGrid=t.chart.renderer.path().attr({strokeWidth:f,\"stroke-width\":f,stroke:e.tickColor||\"\"}).add(t.axisGroup),e.tickColor||l.addClass(\"highcharts-tick\"));d<=s;)p+=t.groupSize(d),x(h,u?[i,p,o,p]:[p,n,p,r],f),d++;return l.attr({d:h,visibility:a?\"visible\":\"hidden\"}),t.labelGroup.attr({visibility:a?\"visible\":\"hidden\"}),C(t.categoriesTree,\"categories\",function(e){var n=e.tick;return!!n&&(n.startAt+n.leaves-1<t.min||n.startAt>t.max?(n.label.hide(),n.destroyed=0):n.label.attr({visibility:a?\"visible\":\"hidden\"}),!0)}),!0},l.setCategories=function(t,e){this.categories&&this.cleanGroups(),this.setupGroups({categories:t}),this.categories=this.userOptions.categories=t,d.call(this,this.categories,e)},l.cleanGroups=function(){var t,e=this.ticks;for(t in e)e[t].parent&&delete e[t].parent;C(this.categoriesTree,\"categories\",function(t){var e=t.tick;return!!e&&(e.label.destroy(),a(e,function(t,n){delete e[n]}),delete t.tick,!0)}),this.labelsGrid=null},l.groupSize=function(t,e){var n=this.labelsSizes,o=this.directionFactor,r=!!this.options.labels.groupedOptions&&this.options.labels.groupedOptions[t-1],a=0;return r&&(a=-1===o?r.x?r.x:0:r.y?r.y:0),void 0!==e&&(n[t]=i(n[t]||0,e+10+Math.abs(a))),!0===t?_(n)*o:n[t]?n[t]*o:0},u.addLabel=function(){var t,e=this.axis;return f.call(this),!(!e.categories||!(t=e.categories[this.pos])||(this.label&&this.label.attr(\"text\",this.axis.labelFormatter.call({axis:e,chart:e.chart,isFirst:this.isFirst,isLast:this.isLast,value:t.name,pos:this.pos})),e.isGrouped&&e.options.labels.enabled&&this.addGroupedLabels(t),0))},u.addGroupedLabels=function(t){for(var e,n=this,i=this.axis,r=i.chart,a=i.options.labels,s=a.useHTML,l=a.style,u=a.groupedOptions,h={align:\"center\",rotation:a.rotation,x:0,y:0},c=i.horiz?\"height\":\"width\",d=0;n;){if(d>0&&!t.tick){this.value=t.name;var p=a.formatter?a.formatter.call(this,t):t.name,f=u&&u[d-1],g=f?o(h,u[d-1]):h,m=f&&u[d-1].style?o(l,u[d-1].style):l;delete g.style,e=r.renderer.text(p,0,0,s).attr(g).css(m).add(i.labelGroup),n.startAt=this.pos,n.childCount=t.categories.length,n.leaves=t.leaves,n.visible=this.childCount,n.label=e,n.labelOffsets={x:g.x,y:g.y},t.tick=n}n&&i.groupSize(d,n.label.getBBox()[c]),n=(t=t.parent)?n.parent=t.tick||{}:null,d++}},u.render=function(t,e,o){m.call(this,t,e,o);var r=this.axis.categories[this.pos];if(this.axis.isGrouped&&r&&!(this.pos>this.axis.max)){var a,l,u,h,c,d,p,f=this,g=this.axis,v=this.pos,y=this.isFirst,_=g.max,b=g.min,C=g.horiz,k=g.labelsGridPath,O=g.groupSize(0),M=g.tickWidth,L=w(this,v),S=C?L.y:L.x,P=g.chart.renderer.fontMetrics(g.options.labels.style?g.options.labels.style.fontSize:0).b,T=1,I=C&&L.x===g.pos+g.len||!C&&L.y===g.pos?-1:0;for(y&&x(k,C?[g.left,L.y,g.left,L.y+g.groupSize(!0)]:g.isXAxis?[L.x,g.top,L.x+g.groupSize(!0),g.top]:[L.x,g.top+g.len,L.x+g.groupSize(!0),g.top+g.len],M),C&&g.left<L.x?x(k,[L.x-I,L.y,L.x-I,L.y+O],M):!C&&g.top<=L.y&&x(k,[L.x,L.y+I,L.x+O,L.y+I],M),O=S+O;f.parent;){f=f.parent;var A=(d=r,p=void 0,p=0,y?p=(p=s(d.name,d.parent.categories))<0?0:p:p),z=f.labelOffsets.x,D=f.labelOffsets.y;l=w(this,i(f.startAt-1,b-1)),u=w(this,n(f.startAt+f.leaves-1-A,_)),c=f.label.getBBox(!0),a=g.groupSize(T),I=C&&u.x===g.pos+g.len||!C&&u.y===g.pos?-1:0,h=C?{x:(l.x+u.x)/2+z,y:O+g.groupFontHeights[T]+a/2+D/2}:{x:O+a/2+z,y:(l.y+u.y-c.height)/2+P+D},isNaN(h.x)||isNaN(h.y)||(f.label.attr(h),k&&(C&&g.left<u.x?x(k,[u.x-I,O,u.x-I,O+a],M):!C&&g.top<=u.y&&x(k,[O,u.y+I,O+a,u.y+I],M))),O+=a,T++}}},u.destroy=function(){for(var t=this.parent;t;)t.destroyed=t.destroyed?t.destroyed+1:1,t=t.parent;g.call(this)},u.getLabelSize=function(){if(!0===this.axis.isGrouped){var t=p.call(this)+10;return this.axis.labelsSizes[0]<t&&(this.axis.labelsSizes[0]=t),_(this.axis.labelsSizes)}return p.call(this)}},t.exports?t.exports=i:i(Highcharts)},CU6g:function(t,e,n){t.exports=!n(\"Ynvf\")&&!n(\"PEBU\")(function(){return 7!=Object.defineProperty(n(\"/Xau\")(\"div\"),\"a\",{get:function(){return 7}}).a})},DD3b:function(t,e,n){var i=n(\"j0oL\");function o(){i.call(this)}o.prototype=new i,t.exports=o,o.Stream=o,o.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on(\"data\",i),t.on(\"drain\",o),t._isStdio||e&&!1===e.end||(n.on(\"end\",a),n.on(\"close\",s));var r=!1;function a(){r||(r=!0,t.end())}function s(){r||(r=!0,\"function\"==typeof t.destroy&&t.destroy())}function l(t){if(u(),!this.hasListeners(\"error\"))throw t}function u(){n.off(\"data\",i),t.off(\"drain\",o),n.off(\"end\",a),n.off(\"close\",s),n.off(\"error\",l),t.off(\"error\",l),n.off(\"end\",u),n.off(\"close\",u),t.off(\"end\",u),t.off(\"close\",u)}return n.on(\"error\",l),t.on(\"error\",l),n.on(\"end\",u),n.on(\"close\",u),t.on(\"end\",u),t.on(\"close\",u),t.emit(\"pipe\",n),t}},\"DLc/\":function(t,e,n){\"use strict\";var i=n(\"9aYe\"),o=n(\"2Lu3\"),r=n(\"MdMo\"),a=n(\"fFCC\"),s=n(\"er0w\"),l=function(t,e){var n,i=\"\";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i},u=function(t,e,n,o,u,h){var c,d,p=t.file,f=t.compression,g=h!==r.utf8encode,m=i.transformTo(\"string\",h(p.name)),v=i.transformTo(\"string\",r.utf8encode(p.name)),y=p.comment,_=i.transformTo(\"string\",h(y)),b=i.transformTo(\"string\",r.utf8encode(y)),x=v.length!==p.name.length,w=b.length!==y.length,C=\"\",k=\"\",O=\"\",M=p.dir,L=p.date,S={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(S.crc32=t.crc32,S.compressedSize=t.compressedSize,S.uncompressedSize=t.uncompressedSize);var P=0;e&&(P|=8),g||!x&&!w||(P|=2048);var T,I,A=0,z=0;M&&(A|=16),\"UNIX\"===u?(z=798,A|=(I=T=p.unixPermissions,T||(I=M?16893:33204),(65535&I)<<16)):(z=20,A|=63&(p.dosPermissions||0)),c=L.getUTCHours(),c<<=6,c|=L.getUTCMinutes(),c<<=5,c|=L.getUTCSeconds()/2,d=L.getUTCFullYear()-1980,d<<=4,d|=L.getUTCMonth()+1,d<<=5,d|=L.getUTCDate(),x&&(k=l(1,1)+l(a(m),4)+v,C+=\"up\"+l(k.length,2)+k),w&&(O=l(1,1)+l(a(_),4)+b,C+=\"uc\"+l(O.length,2)+O);var D=\"\";return D+=\"\\n\\0\",D+=l(P,2),D+=f.magic,D+=l(c,2),D+=l(d,2),D+=l(S.crc32,4),D+=l(S.compressedSize,4),D+=l(S.uncompressedSize,4),D+=l(m.length,2),D+=l(C.length,2),{fileRecord:s.LOCAL_FILE_HEADER+D+m+C,dirRecord:s.CENTRAL_FILE_HEADER+l(z,2)+D+l(_.length,2)+\"\\0\\0\\0\\0\"+l(A,4)+l(o,4)+m+C+_}},h=function(t){return s.DATA_DESCRIPTOR+l(t.crc32,4)+l(t.compressedSize,4)+l(t.uncompressedSize,4)};function c(t,e,n,i){o.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(c,o),c.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,o.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},c.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=u(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=u(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:h(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=function(t,e,n,o,r){var a=i.transformTo(\"string\",r(o));return s.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+l(t,2)+l(t,2)+l(e,4)+l(n,4)+l(a.length,2)+a}(this.dirRecords.length,this.bytesWritten-t,t,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on(\"data\",function(t){e.processChunk(t)}),t.on(\"end\",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on(\"error\",function(t){e.error(t)}),this},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(t){var e=this._sources;if(!o.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},c.prototype.lock=function(){o.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},t.exports=c},Ecau:function(t,e,n){\"use strict\";var i=n(\"cLpG\");function o(t){i.call(this,t)}n(\"9aYe\").inherits(o,i),o.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=o},\"F/6a\":function(t,e,n){\"use strict\";var i=n(\"bl3E\"),o=n(\"9aYe\"),r=n(\"VJTW\"),a=n(\"fFCC\"),s=n(\"MdMo\"),l=n(\"7/DV\"),u=n(\"Mi3D\");function h(t,e){this.options=t,this.loadOptions=e}h.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if(null===(e=function(t){for(var e in l)if(l.hasOwnProperty(e)&&l[e].magic===t)return l[e];return null}(this.compressionMethod)))throw new Error(\"Corrupted zip : compression \"+o.pretty(this.compressionMethod)+\" unknown (inner file : \"+o.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,i,o=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<o;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i}},handleUTF8:function(){var t=u.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var r=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null}},t.exports=h},FpKF:function(t,e){var n=t.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=n)},FuvK:function(t,e,n){t.exports=n(\"FpKF\").document&&document.documentElement},G1OC:function(t,e,n){var i=n(\"bQfd\");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},G2Qt:function(t,e,n){\"use strict\";var i=n(\"9aYe\"),o=n(\"2Lu3\");function r(t){o.call(this,\"DataLengthProbe for \"+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(r,o),r.prototype.processChunk=function(t){t&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+t.data.length),o.prototype.processChunk.call(this,t)},t.exports=r},GVVf:function(t,e,n){var i=n(\"FpKF\"),o=n(\"dmCu\"),r=n(\"G1OC\"),a=n(\"GwnZ\"),s=function(t,e,n){var l,u,h,c=t&s.F,d=t&s.G,p=t&s.S,f=t&s.P,g=t&s.B,m=t&s.W,v=d?o:o[e]||(o[e]={}),y=v.prototype,_=d?i:p?i[e]:(i[e]||{}).prototype;for(l in d&&(n=e),n)(u=!c&&_&&void 0!==_[l])&&l in v||(h=u?_[l]:n[l],v[l]=d&&\"function\"!=typeof _[l]?n[l]:g&&u?r(h,i):m&&_[l]==h?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):f&&\"function\"==typeof h?r(Function.call,h):h,f&&((v.virtual||(v.virtual={}))[l]=h,t&s.R&&y&&!y[l]&&a(y,l,h)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},GwnZ:function(t,e,n){var i=n(\"h2Qs\"),o=n(\"Px5H\");t.exports=n(\"Ynvf\")?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},IZ5B:function(t,e,n){\"use strict\";var i=n(\"3j3K\");function o(){}var r={},a=[\"REJECTED\"],s=[\"FULFILLED\"],l=[\"PENDING\"];function u(t){if(\"function\"!=typeof t)throw new TypeError(\"resolver must be a function\");this.state=l,this.queue=[],this.outcome=void 0,t!==o&&p(this,t)}function h(t,e,n){this.promise=t,\"function\"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function c(t,e,n){i(function(){var i;try{i=e(n)}catch(o){return r.reject(t,o)}i===t?r.reject(t,new TypeError(\"Cannot resolve promise with itself\")):r.resolve(t,i)})}function d(t){var e=t&&t.then;if(t&&(\"object\"==typeof t||\"function\"==typeof t)&&\"function\"==typeof e)return function(){e.apply(t,arguments)}}function p(t,e){var n=!1;function i(e){n||(n=!0,r.reject(t,e))}function o(e){n||(n=!0,r.resolve(t,e))}var a=f(function(){e(o,i)});\"error\"===a.status&&i(a.value)}function f(t,e){var n={};try{n.value=t(e),n.status=\"success\"}catch(i){n.status=\"error\",n.value=i}return n}t.exports=u,u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if(\"function\"!=typeof t&&this.state===s||\"function\"!=typeof e&&this.state===a)return this;var n=new this.constructor(o);return this.state!==l?c(n,this.state===s?t:e,this.outcome):this.queue.push(new h(n,t,e)),n},h.prototype.callFulfilled=function(t){r.resolve(this.promise,t)},h.prototype.otherCallFulfilled=function(t){c(this.promise,this.onFulfilled,t)},h.prototype.callRejected=function(t){r.reject(this.promise,t)},h.prototype.otherCallRejected=function(t){c(this.promise,this.onRejected,t)},r.resolve=function(t,e){var n=f(d,e);if(\"error\"===n.status)return r.reject(t,n.value);var i=n.value;if(i)p(t,i);else{t.state=s,t.outcome=e;for(var o=-1,a=t.queue.length;++o<a;)t.queue[o].callFulfilled(e)}return t},r.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},u.resolve=function(t){return t instanceof this?t:r.resolve(new this(o),t)},u.reject=function(t){var e=new this(o);return r.reject(e,t)},u.all=function(t){var e=this;if(\"[object Array]\"!==Object.prototype.toString.call(t))return this.reject(new TypeError(\"must be an array\"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,l=-1,u=new this(o);++l<n;)h(t[l],l);return u;function h(t,o){e.resolve(t).then(function(t){a[o]=t,++s!==n||i||(i=!0,r.resolve(u,a))},function(t){i||(i=!0,r.reject(u,t))})}},u.race=function(t){if(\"[object Array]\"!==Object.prototype.toString.call(t))return this.reject(new TypeError(\"must be an array\"));var e=t.length,n=!1;if(!e)return this.resolve([]);for(var i=-1,a=new this(o);++i<e;)this.resolve(t[i]).then(function(t){n||(n=!0,r.resolve(a,t))},function(t){n||(n=!0,r.reject(a,t))});return a}},J5BL:function(t,e,n){\"use strict\";var i;i=\"undefined\"!=typeof Promise?Promise:n(\"IZ5B\"),t.exports={Promise:i}},JEAp:function(t,e,n){var i,o=o||function(t){\"use strict\";if(!(void 0===t||\"undefined\"!=typeof navigator&&/MSIE [1-9]\\./.test(navigator.userAgent))){var e=function(){return t.URL||t.webkitURL||t},n=t.document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"a\"),i=\"download\"in n,o=/constructor/i.test(t.HTMLElement)||t.safari,r=/CriOS\\/[\\d]+/.test(navigator.userAgent),a=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},s=function(t){setTimeout(function(){\"string\"==typeof t?e().revokeObjectURL(t):t.remove()},4e4)},l=function(t){return/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},u=function(u,h,c){c||(u=l(u));var d,p=this,f=\"application/octet-stream\"===u.type,g=function(){!function(t,e,n){for(var i=(e=[].concat(e)).length;i--;){var o=t[\"on\"+e[i]];if(\"function\"==typeof o)try{o.call(t,t)}catch(r){a(r)}}}(p,\"writestart progress write writeend\".split(\" \"))};if(p.readyState=p.INIT,i)return d=e().createObjectURL(u),void setTimeout(function(){var t,e;n.href=d,n.download=h,t=n,e=new MouseEvent(\"click\"),t.dispatchEvent(e),g(),s(d),p.readyState=p.DONE});!function(){if((r||f&&o)&&t.FileReader){var n=new FileReader;return n.onloadend=function(){var e=r?n.result:n.result.replace(/^data:[^;]*;/,\"data:attachment/file;\");t.open(e,\"_blank\")||(t.location.href=e),e=void 0,p.readyState=p.DONE,g()},n.readAsDataURL(u),void(p.readyState=p.INIT)}d||(d=e().createObjectURL(u)),f?t.location.href=d:t.open(d,\"_blank\")||(t.location.href=d),p.readyState=p.DONE,g(),s(d)}()},h=u.prototype;return\"undefined\"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||\"download\",n||(t=l(t)),navigator.msSaveOrOpenBlob(t,e)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(t,e,n){return new u(t,e||t.name||\"download\",n)})}}(\"undefined\"!=typeof self&&self||\"undefined\"!=typeof window&&window||this.content);t.exports?t.exports.saveAs=o:null!==n(\"B9Yq\")&&null!==n(\"PDX0\")&&(void 0===(i=(function(){return o}).call(e,n,e,t))||(t.exports=i))},JXP8:function(t,e,n){!function(t){\"use strict\";var e=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:\"#222\",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire(\"layeradd\",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire(\"layeradd\",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire(\"layeradd\",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,n=this._zoom;if(t.__parent)for(;e.__parent._zoom>=n;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire(\"layerremove\",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire(\"layerremove\",{layer:t}),this):(this._nonPointGroup.removeLayer(t),this.fire(\"layerremove\",{layer:t}),this)},addLayers:function(t,e){if(!L.Util.isArray(t))return this.addLayer(t);var n,i=this._featureGroup,o=this._nonPointGroup,r=this.options.chunkedLoading,a=this.options.chunkInterval,s=this.options.chunkProgress,l=t.length,u=0,h=!0;if(this._map){var c=(new Date).getTime(),d=L.bind(function(){for(var p=(new Date).getTime();u<l&&!(r&&u%200==0&&(new Date).getTime()-p>a);u++)if((n=t[u])instanceof L.LayerGroup)h&&(t=t.slice(),h=!1),this._extractNonGroupLayers(n,t),l=t.length;else if(n.getLatLng){if(!this.hasLayer(n)&&(this._addLayer(n,this._maxZoom),e||this.fire(\"layeradd\",{layer:n}),n.__parent&&2===n.__parent.getChildCount())){var f=n.__parent.getAllChildMarkers();i.removeLayer(f[0]===n?f[1]:f[0])}}else o.addLayer(n),e||this.fire(\"layeradd\",{layer:n});s&&s(u,l,(new Date).getTime()-c),u===l?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(d,this.options.chunkDelay)},this);d()}else for(var p=this._needsClustering;u<l;u++)(n=t[u])instanceof L.LayerGroup?(h&&(t=t.slice(),h=!1),this._extractNonGroupLayers(n,t),l=t.length):n.getLatLng?this.hasLayer(n)||p.push(n):o.addLayer(n);return this},removeLayers:function(t){var e,n,i=t.length,o=this._featureGroup,r=this._nonPointGroup,a=!0;if(!this._map){for(e=0;e<i;e++)(n=t[e])instanceof L.LayerGroup?(a&&(t=t.slice(),a=!1),this._extractNonGroupLayers(n,t),i=t.length):(this._arraySplice(this._needsClustering,n),r.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push({layer:n,latlng:n._latlng}),this.fire(\"layerremove\",{layer:n}));return this}if(this._unspiderfy){this._unspiderfy();var s=t.slice(),l=i;for(e=0;e<l;e++)(n=s[e])instanceof L.LayerGroup?(this._extractNonGroupLayers(n,s),l=s.length):this._unspiderfyLayer(n)}for(e=0;e<i;e++)(n=t[e])instanceof L.LayerGroup?(a&&(t=t.slice(),a=!1),this._extractNonGroupLayers(n,t),i=t.length):n.__parent?(this._removeLayer(n,!0,!0),this.fire(\"layerremove\",{layer:n}),o.hasLayer(n)&&(o.removeLayer(n),n.clusterShow&&n.clusterShow())):(r.removeLayer(n),this.fire(\"layerremove\",{layer:n}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var n,i,o,r=this._needsClustering.slice(),a=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(r),i=r.length-1;i>=0;i--){for(n=!0,o=a.length-1;o>=0;o--)if(a[o].layer===r[i]){n=!1;break}n&&t.call(e,r[i])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return t=parseInt(t,10),this.eachLayer(function(n){L.stamp(n)===t&&(e=n)}),e},hasLayer:function(t){if(!t)return!1;var e,n=this._needsClustering;for(e=n.length-1;e>=0;e--)if(n[e]===t)return!0;for(e=(n=this._needsRemoving).length-1;e>=0;e--)if(n[e].layer===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){\"function\"!=typeof e&&(e=function(){});var n=function(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off(\"moveend\",n,this),this.off(\"animationend\",n,this),t._icon?e():t.__parent._icon&&(this.once(\"spiderfied\",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on(\"moveend\",n,this),this._map.panTo(t.getLatLng())):(this._map.on(\"moveend\",n,this),this.on(\"animationend\",n,this),t.__parent.zoomToBounds())},onAdd:function(t){var e,n,i;if(this._map=t,!isFinite(this._map.getMaxZoom()))throw\"Map has no maxZoom specified\";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,n=this._needsRemoving.length;e<n;e++)(i=this._needsRemoving[e]).newlatlng=i.layer._latlng,i.layer._latlng=i.latlng;for(e=0,n=this._needsRemoving.length;e<n;e++)this._removeLayer((i=this._needsRemoving[e]).layer,!0),i.layer._latlng=i.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on(\"zoomend\",this._zoomEnd,this),this._map.on(\"moveend\",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n,!0)},onRemove:function(t){t.off(\"zoomend\",this._zoomEnd,this),t.off(\"moveend\",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(\" leaflet-cluster-anim\",\"\"),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var n=t.length-1;n>=0;n--)if(t[n]===e)return t.splice(n,1),!0},_removeFromGridUnclustered:function(t,e){for(var n=this._map,i=this._gridUnclustered,o=Math.floor(this._map.getMinZoom());e>=o&&i[e].removeObject(t,n.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var e=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup()}},_moveChild:function(t,e,n){t._latlng=e,this.removeLayer(t),t._latlng=n,this.addLayer(t)},_childMarkerDragEnd:function(t){var e=t.target.__dragStart;delete t.target.__dragStart,e&&this._moveChild(t.target,e,t.target._latlng)},_removeLayer:function(t,e,n){var i=this._gridClusters,o=this._gridUnclustered,r=this._featureGroup,a=this._map,s=Math.floor(this._map.getMinZoom());e&&this._removeFromGridUnclustered(t,this._maxZoom);var l,u=t.__parent;for(this._arraySplice(u._markers,t);u&&(u._childCount--,u._boundsNeedUpdate=!0,!(u._zoom<s));)e&&u._childCount<=1?(l=u._markers[0]===t?u._markers[1]:u._markers[0],i[u._zoom].removeObject(u,a.project(u._cLatLng,u._zoom)),o[u._zoom].addObject(l,a.project(l.getLatLng(),u._zoom)),this._arraySplice(u.__parent._childClusters,u),u.__parent._markers.push(l),l.__parent=u.__parent,u._icon&&(r.removeLayer(u),n||r.addLayer(l))):u._iconNeedsUpdate=!0,u=u.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,n){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t=\"cluster\"+t}L.FeatureGroup.prototype.fire.call(this,t,e,n)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,\"cluster\"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),n=\" marker-cluster-\";return new L.DivIcon({html:\"<div><span>\"+e+\"</span></div>\",className:\"marker-cluster\"+(n+=e<10?\"small\":e<100?\"medium\":\"large\"),iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.showCoverageOnHover;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick)&&this.on(\"clusterclick\",this._zoomOrSpiderfy,this),e&&(this.on(\"clustermouseover\",this._showCoverage,this),this.on(\"clustermouseout\",this._hideCoverage,this),t.on(\"zoomend\",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,n=e;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.showCoverageOnHover,e=this._map;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick)&&this.off(\"clusterclick\",this._zoomOrSpiderfy,this),t&&(this.off(\"clustermouseover\",this._showCoverage,this),this.off(\"clustermouseout\",this._hideCoverage,this),e.off(\"zoomend\",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=Math.ceil(this._map.getMaxZoom()),e=Math.floor(this._map.getMinZoom()),n=this.options.maxClusterRadius,i=n;\"function\"!=typeof n&&(i=function(){return n}),null!==this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var o=t;o>=e;o--)this._gridClusters[o]=new L.DistanceGrid(i(o)),this._gridUnclustered[o]=new L.DistanceGrid(i(o));this._topClusterLevel=new this._markerCluster(this,e-1)},_addLayer:function(t,e){var n,i,o=this._gridClusters,r=this._gridUnclustered,a=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);e>=a;e--){n=this._map.project(t.getLatLng(),e);var s=o[e].getNearObject(n);if(s)return s._addChild(t),void(t.__parent=s);if(s=r[e].getNearObject(n)){var l=s.__parent;l&&this._removeLayer(s,!1);var u=new this._markerCluster(this,e,s,t);o[e].addObject(u,this._map.project(u._cLatLng,e)),s.__parent=u,t.__parent=u;var h=u;for(i=e-1;i>l._zoom;i--)h=new this._markerCluster(this,i,h),o[i].addObject(h,this._map.project(s.getLatLng(),i));return l._addChild(h),void this._removeFromGridUnclustered(s,e)}r[e].addObject(t,n)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return void 0!==e&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var n=e.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else e._updateIcon()},_extractNonGroupLayers:function(t,e){var n,i=t.getLayers(),o=0;for(e=e||[];o<i.length;o++)(n=i[o])instanceof L.LayerGroup?this._extractNonGroupLayers(n,e):e.push(n);return e},_overrideMarkerIcon:function(t){return t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire(\"animationend\")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire(\"animationend\")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=\" leaflet-cluster-anim\",this._inZoomAnimation++},_animationZoomIn:function(t,e){var n,i=this._getExpandedVisibleBounds(),o=this._featureGroup,r=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(i,t,r,function(r){var a,s=r._latlng,l=r._markers;for(i.contains(s)||(s=null),r._isSingleParent()&&t+1===e?(o.removeLayer(r),r._recursivelyAddChildrenToMap(null,e,i)):(r.clusterHide(),r._recursivelyAddChildrenToMap(s,e,i)),n=l.length-1;n>=0;n--)i.contains((a=l[n])._latlng)||o.removeLayer(a)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(i,e),o.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()}),this._topClusterLevel._recursively(i,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(i,t,r,function(t){o.removeLayer(t),t.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var n=this,i=this._featureGroup;i.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue(function(){i.removeLayer(t),t.clusterShow(),n._animationEnd()})):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,e,n){var i=this._getExpandedVisibleBounds(),o=Math.floor(this._map.getMinZoom());t._recursivelyAnimateChildrenInAndAddSelfToMap(i,o,e+1,n);var r=this;this._forceLayout(),t._recursivelyBecomeVisible(i,n),this._enqueue(function(){if(1===t._childCount){var a=t._markers[0];this._ignoreMove=!0,a.setLatLng(a.getLatLng()),this._ignoreMove=!1,a.clusterShow&&a.clusterShow()}else t._recursively(i,n,o,function(t){t._recursivelyRemoveChildrenFromMap(i,o,e+1)});r._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(\" leaflet-cluster-anim\",\"\")),this._inZoomAnimation--,this.fire(\"animationend\")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)};var n=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(t,e,n,i){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this,pane:t.options.clusterPane}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),i&&this._addChild(i)},getAllChildMarkers:function(t,e){t=t||[];for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n].getAllChildMarkers(t);for(var i=this._markers.length-1;i>=0;i--)e&&this._markers[i].__dragStart||t.push(this._markers[i]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var e,n=this._childClusters.slice(),i=this._group._map,o=i.getBoundsZoom(this._bounds),r=this._zoom+1,a=i.getZoom();n.length>0&&o>r;){r++;var s=[];for(e=0;e<n.length;e++)s=s.concat(n[e]._childClusters);n=s}o>r?this._group._map.setView(this._latlng,r):o<=a?this._group._map.setView(this._latlng,a+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,n,i,o=this._markers,r=this._childClusters,a=0,s=0,l=this._childCount;if(0!==l){for(this._resetBounds(),t=0;t<o.length;t++)this._bounds.extend(n=o[t]._latlng),a+=n.lat,s+=n.lng;for(t=0;t<r.length;t++)(e=r[t])._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),a+=(n=e._wLatLng).lat*(i=e._childCount),s+=n.lng*i;this._latlng=this._wLatLng=new L.LatLng(a/l,s/l),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,n){this._recursively(t,this._group._map.getMinZoom(),n-1,function(t){var n,i,o=t._markers;for(n=o.length-1;n>=0;n--)(i=o[n])._icon&&(i._setPos(e),i.clusterHide())},function(t){var n,i,o=t._childClusters;for(n=o.length-1;n>=0;n--)(i=o[n])._icon&&(i._setPos(e),i.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,n,i){this._recursively(t,i,e,function(o){o._recursivelyAnimateChildrenIn(t,o._group._map.latLngToLayerPoint(o.getLatLng()).round(),n),o._isSingleParent()&&n-1===i?(o.clusterShow(),o._recursivelyRemoveChildrenFromMap(t,e,n)):o.clusterHide(),o._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,function(t){t.clusterShow()})},_recursivelyAddChildrenToMap:function(t,e,n){this._recursively(n,this._group._map.getMinZoom()-1,e,function(i){if(e!==i._zoom)for(var o=i._markers.length-1;o>=0;o--){var r=i._markers[o];n.contains(r._latlng)&&(t&&(r._backupLatlng=r.getLatLng(),r.setLatLng(t),r.clusterHide&&r.clusterHide()),i._group._featureGroup.addLayer(r))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var n=this._markers[e];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(t-1===this._zoom)for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._restorePosition();else for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,n,i){var o,r;this._recursively(t,e-1,n-1,function(t){for(r=t._markers.length-1;r>=0;r--)o=t._markers[r],i&&i.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())},function(t){for(r=t._childClusters.length-1;r>=0;r--)o=t._childClusters[r],i&&i.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())})},_recursively:function(t,e,n,i,o){var r,a,s=this._childClusters,l=this._zoom;if(e<=l&&(i&&i(this),o&&l===n&&o(this)),l<e||l<n)for(r=s.length-1;r>=0;r--)(a=s[r])._boundsNeedUpdate&&a._recalculateBounds(),t.intersects(a._bounds)&&a._recursively(t,e,n,i,o)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var t=this.options.opacity;return this.setOpacity(0),this.options.opacity=t,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var n=this._getCoord(e.x),i=this._getCoord(e.y),o=this._grid,r=o[i]=o[i]||{},a=r[n]=r[n]||[],s=L.Util.stamp(t);this._objectPoint[s]=e,a.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var n,i,o=this._getCoord(e.x),r=this._getCoord(e.y),a=this._grid,s=a[r]=a[r]||{},l=s[o]=s[o]||[];for(delete this._objectPoint[L.Util.stamp(t)],n=0,i=l.length;n<i;n++)if(l[n]===t)return l.splice(n,1),1===i&&delete s[o],!0},eachObject:function(t,e){var n,i,o,r,a,s,l=this._grid;for(n in l)for(i in a=l[n])for(o=0,r=(s=a[i]).length;o<r;o++)t.call(e,s[o])&&(o--,r--)},getNearObject:function(t){var e,n,i,o,r,a,s,l,u=this._getCoord(t.x),h=this._getCoord(t.y),c=this._objectPoint,d=this._sqCellSize,p=null;for(e=h-1;e<=h+1;e++)if(o=this._grid[e])for(n=u-1;n<=u+1;n++)if(r=o[n])for(i=0,a=r.length;i<a;i++)s=r[i],((l=this._sqDist(c[L.Util.stamp(s)],t))<d||l<=d&&null===p)&&(d=l,p=s);return p},_getCoord:function(t){var e=Math.floor(t/this._cellSize);return isFinite(e)?e:t},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}},L.QuickHull={getDistant:function(t,e){return(e[0].lng-e[1].lng)*(t.lat-e[0].lat)+(e[1].lat-e[0].lat)*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var n,i,o,r=0,a=null,s=[];for(n=e.length-1;n>=0;n--)(o=this.getDistant(i=e[n],t))>0&&(s.push(i),o>r&&(r=o,a=i));return{maxPoint:a,newPoints:s}},buildConvexHull:function(t,e){var n=[],i=this.findMostDistantPointFromBaseLine(t,e);return i.maxPoint?n=(n=n.concat(this.buildConvexHull([t[0],i.maxPoint],i.newPoints))).concat(this.buildConvexHull([i.maxPoint,t[1]],i.newPoints)):[t[0]]},getConvexHull:function(t){var e,n=!1,i=!1,o=!1,r=!1,a=null,s=null,l=null,u=null,h=null,c=null;for(e=t.length-1;e>=0;e--){var d=t[e];(!1===n||d.lat>n)&&(a=d,n=d.lat),(!1===i||d.lat<i)&&(s=d,i=d.lat),(!1===o||d.lng>o)&&(l=d,o=d.lng),(!1===r||d.lng<r)&&(u=d,r=d.lng)}return i!==n?(c=s,h=a):(c=u,h=l),[].concat(this.buildConvexHull([c,h],t),this.buildConvexHull([h,c],t))}},L.MarkerCluster.include({getConvexHull:function(){var t,e,n=this.getAllChildMarkers(),i=[];for(e=n.length-1;e>=0;e--)t=n[e].getLatLng(),i.push(t);return L.QuickHull.getConvexHull(i)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(null,!0),n=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,n):(n.y+=10,t=this._generatePointsCircle(e.length,n)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var n,i,o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t)/this._2PI,r=this._2PI/t,a=[];for(o=Math.max(o,35),a.length=t,n=0;n<t;n++)i=this._circleStartAngle+n*r,a[n]=new L.Point(e.x+o*Math.cos(i),e.y+o*Math.sin(i))._round();return a},_generatePointsSpiral:function(t,e){var n,i=this._group.options.spiderfyDistanceMultiplier,o=i*this._spiralLengthStart,r=i*this._spiralFootSeparation,a=i*this._spiralLengthFactor*this._2PI,s=0,l=[];for(l.length=t,n=t;n>=0;n--)n<t&&(l[n]=new L.Point(e.x+o*Math.cos(s),e.y+o*Math.sin(s))._round()),o+=a/(s+=r/o+5e-4*n);return l},_noanimationUnspiderfy:function(){var t,e,n=this._group,i=n._map,o=n._featureGroup,r=this.getAllChildMarkers(null,!0);for(n._ignoreMove=!0,this.setOpacity(1),e=r.length-1;e>=0;e--)o.removeLayer(t=r[e]),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(i.removeLayer(t._spiderLeg),delete t._spiderLeg);n.fire(\"unspiderfied\",{cluster:this,markers:r}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var n,i,o,r,a=this._group,s=a._map,l=a._featureGroup,u=this._group.options.spiderLegPolylineOptions;for(a._ignoreMove=!0,n=0;n<t.length;n++)r=s.layerPointToLatLng(e[n]),i=t[n],o=new L.Polyline([this._latlng,r],u),s.addLayer(o),i._spiderLeg=o,i._preSpiderfyLatlng=i._latlng,i.setLatLng(r),i.setZIndexOffset&&i.setZIndexOffset(1e6),l.addLayer(i);this.setOpacity(.3),a._ignoreMove=!1,a.fire(\"spiderfied\",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var n,i,o,r,a,s,l=this,u=this._group,h=u._map,c=u._featureGroup,d=this._latlng,p=h.latLngToLayerPoint(d),f=L.Path.SVG,g=L.extend({},this._group.options.spiderLegPolylineOptions),m=g.opacity;for(void 0===m&&(m=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),f?(g.opacity=0,g.className=(g.className||\"\")+\" leaflet-cluster-spider-leg\"):g.opacity=m,u._ignoreMove=!0,n=0;n<t.length;n++)i=t[n],s=h.layerPointToLatLng(e[n]),o=new L.Polyline([d,s],g),h.addLayer(o),i._spiderLeg=o,f&&(a=(r=o._path).getTotalLength()+.1,r.style.strokeDasharray=a,r.style.strokeDashoffset=a),i.setZIndexOffset&&i.setZIndexOffset(1e6),i.clusterHide&&i.clusterHide(),c.addLayer(i),i._setPos&&i._setPos(p);for(u._forceLayout(),u._animationStart(),n=t.length-1;n>=0;n--)s=h.layerPointToLatLng(e[n]),(i=t[n])._preSpiderfyLatlng=i._latlng,i.setLatLng(s),i.clusterShow&&i.clusterShow(),f&&((r=(o=i._spiderLeg)._path).style.strokeDashoffset=0,o.setStyle({opacity:m}));this.setOpacity(.3),u._ignoreMove=!1,setTimeout(function(){u._animationEnd(),u.fire(\"spiderfied\",{cluster:l,markers:t})},200)},_animationUnspiderfy:function(t){var e,n,i,o,r,a,s=this,l=this._group,u=l._map,h=l._featureGroup,c=t?u._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):u.latLngToLayerPoint(this._latlng),d=this.getAllChildMarkers(null,!0),p=L.Path.SVG;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),n=d.length-1;n>=0;n--)(e=d[n])._preSpiderfyLatlng&&(e.closePopup(),e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,a=!0,e._setPos&&(e._setPos(c),a=!1),e.clusterHide&&(e.clusterHide(),a=!1),a&&h.removeLayer(e),p&&(r=(o=(i=e._spiderLeg)._path).getTotalLength()+.1,o.style.strokeDashoffset=r,i.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout(function(){var t=0;for(n=d.length-1;n>=0;n--)(e=d[n])._spiderLeg&&t++;for(n=d.length-1;n>=0;n--)(e=d[n])._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),t>1&&h.removeLayer(e),u.removeLayer(e._spiderLeg),delete e._spiderLeg);l._animationEnd(),l.fire(\"unspiderfied\",{cluster:s,markers:d})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on(\"click\",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on(\"zoomstart\",this._unspiderfyZoomStart,this),this._map.on(\"zoomend\",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off(\"click\",this._unspiderfyWrapper,this),this._map.off(\"zoomstart\",this._unspiderfyZoomStart,this),this._map.off(\"zoomanim\",this._unspiderfyZoomAnim,this),this._map.off(\"zoomend\",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on(\"zoomanim\",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,\"leaflet-touching\")||(this._map.off(\"zoomanim\",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,n;for(e in t)for(n=t[e].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,n;for(e in t)this.hasLayer(n=t[e])&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(t,e){var n=this.options.icon;return L.setOptions(n,t),this.setIcon(n),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=e,t.MarkerCluster=n}(e)},LOvY:function(t,e,n){\"use strict\";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},M8aS:function(t,e,n){var i,o;o=function(t){var e,n,i,o,r,a,s,l,u,h,c,d,p,f,g,m,v;!function(t){function e(t,e){this.init(t,e)}var n=t.CenteredSeriesMixin,i=t.each,o=t.merge,r=t.splat;(0,t.extend)(e.prototype,{coll:\"pane\",init:function(t,e){this.chart=e,this.background=[],e.pane.push(this),this.setOptions(t)},setOptions:function(t){this.options=o(this.defaultOptions,this.chart.angular?{background:{}}:void 0,t)},render:function(){var t=this.options,e=this.options.background,n=this.chart.renderer;if(this.group||(this.group=n.g(\"pane-group\").attr({zIndex:t.zIndex||0}).add()),this.updateCenter(),e)for(e=r(e),t=Math.max(e.length,this.background.length||0),n=0;n<t;n++)e[n]&&this.axis?this.renderBackground(o(this.defaultBackgroundOptions,e[n]),n):this.background[n]&&(this.background[n]=this.background[n].destroy(),this.background.splice(n,1))},renderBackground:function(t,e){var n=\"animate\";this.background[e]||(this.background[e]=this.chart.renderer.path().add(this.group),n=\"attr\"),this.background[e][n]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr({fill:t.backgroundColor,stroke:t.borderColor,\"stroke-width\":t.borderWidth,class:\"highcharts-pane \"+(t.className||\"\")})},defaultOptions:{center:[\"50%\",\"50%\"],size:\"85%\",startAngle:0},defaultBackgroundOptions:{shape:\"circle\",borderWidth:1,borderColor:\"#cccccc\",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,\"#ffffff\"],[1,\"#e6e6e6\"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:\"105%\"},updateCenter:function(t){this.center=(t||this.axis||{}).center=n.getCenter.call(this)},update:function(t,e){o(!0,this.options,t),this.setOptions(this.options),this.render(),i(this.chart.axes,function(t){t.pane===this&&(t.pane=null,t.update({},e))},this)}}),t.Pane=e}(t),o=(e=t).addEvent,a=e.each,s=e.extend,l=e.map,u=e.merge,h=e.noop,c=e.pick,d=e.pInt,f=e.wrap,g=e.correctFloat,m=(r=e.Axis).prototype,v=(p=e.Tick).prototype,e.radialAxisExtended||(e.radialAxisExtended=!0,n={getOffset:h,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:h,setCategories:h,setTitle:h},i={defaultRadialGaugeOptions:{labels:{align:\"center\",x:0,y:null},minorGridLineWidth:0,minorTickInterval:\"auto\",minorTickLength:10,minorTickPosition:\"inside\",minorTickWidth:1,tickLength:10,tickPosition:\"inside\",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null,style:{textOverflow:\"none\"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:\"circle\",labels:{align:\"right\",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(t){(t=this.options=u(this.defaultOptions,this.defaultRadialOptions,t)).plotBands||(t.plotBands=[]),e.fireEvent(this,\"afterSetOptions\")},getOffset:function(){m.getOffset.call(this),this.chart.axisOffset[this.side]=0},getLinePath:function(t,e){var n=this.chart,i=c(e,(t=this.center)[2]/2-this.offset);return this.isCircular||void 0!==e?((e=this.chart.renderer.symbols.arc(this.left+t[0],this.top+t[1],i,i,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[this.left+t[0]],e.yBounds=[this.top+t[1]-i]):(e=this.postTranslate(this.angleRad,i),e=[\"M\",t[0]+n.plotLeft,t[1]+n.plotTop,\"L\",e.x,e.y]),e},setAxisTranslation:function(){m.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){(this.autoConnect=this.isCircular&&void 0===c(this.userMax,this.options.max)&&g(this.endAngleRad-this.startAngleRad)===g(2*Math.PI))&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)},setAxisSize:function(){m.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*c(this.sector,1)/2)},getPosition:function(t,e){return this.postTranslate(this.isCircular?this.translate(t):this.angleRad,c(this.isCircular?e:this.translate(t),this.center[2]/2)-this.offset)},postTranslate:function(t,e){var n=this.chart,i=this.center;return t=this.startAngleRad+t,{x:n.plotLeft+i[0]+Math.cos(t)*e,y:n.plotTop+i[1]+Math.sin(t)*e}},getPlotBandPath:function(t,e,n){var i,o=this.center,r=this.startAngleRad,a=o[2]/2,s=[c(n.outerRadius,\"100%\"),n.innerRadius,c(n.thickness,10)],u=Math.min(this.offset,0),h=/%$/,p=this.isCircular;return\"polygon\"===this.options.gridLineInterpolation?o=this.getPlotLinePath(t).concat(this.getPlotLinePath(e,!0)):(t=Math.max(t,this.min),e=Math.min(e,this.max),p||(s[0]=this.translate(t),s[1]=this.translate(e)),s=l(s,function(t){return h.test(t)&&(t=d(t,10)*a/100),t}),\"circle\"!==n.shape&&p?(t=r+this.translate(t),e=r+this.translate(e)):(t=-Math.PI/2,e=1.5*Math.PI,i=!0),s[0]-=u,s[2]-=u,o=this.chart.renderer.symbols.arc(this.left+o[0],this.top+o[1],s[0],s[0],{start:Math.min(t,e),end:Math.max(t,e),innerR:c(s[1],s[0]-s[2]),open:i})),o},getPlotLinePath:function(t,e){var n,i,o,r=this,s=r.center,l=r.chart,u=r.getPosition(t);return r.isCircular?o=[\"M\",s[0]+l.plotLeft,s[1]+l.plotTop,\"L\",u.x,u.y]:\"circle\"===r.options.gridLineInterpolation?(t=r.translate(t),o=r.getLinePath(0,t)):(a(l.xAxis,function(t){t.pane===r.pane&&(n=t)}),o=[],t=r.translate(t),s=n.tickPositions,n.autoConnect&&(s=s.concat([s[0]])),e&&(s=[].concat(s).reverse()),a(s,function(e,r){i=n.getPosition(e,t),o.push(r?\"L\":\"M\",i.x,i.y)})),o},getTitlePosition:function(){var t=this.center,e=this.chart,n=this.options.title;return{x:e.plotLeft+t[0]+(n.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[n.align]*t[2]+(n.y||0)}}},o(r,\"init\",function(t){var e,o=this.chart,r=o.angular,a=o.polar,l=this.isXAxis,h=r&&l,c=o.options;t=t.userOptions.pane||0,t=this.pane=o.pane&&o.pane[t],r?(s(this,h?n:i),(e=!l)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):a&&(s(this,i),this.defaultRadialOptions=(e=l)?this.defaultRadialXOptions:u(this.defaultYAxisOptions,this.defaultRadialYOptions)),r||a?(this.isRadial=!0,o.inverted=!1,c.chart.zoomType=null):this.isRadial=!1,t&&e&&(t.axis=this),this.isCircular=e}),o(r,\"afterInit\",function(){var t=this.chart,e=this.options,n=this.pane,i=n&&n.options;t.angular&&this.isXAxis||!n||!t.angular&&!t.polar||(this.angleRad=(e.angle||0)*Math.PI/180,this.startAngleRad=(i.startAngle-90)*Math.PI/180,this.endAngleRad=(c(i.endAngle,i.startAngle+360)-90)*Math.PI/180,this.offset=e.offset||0)}),f(m,\"autoLabelAlign\",function(t){if(!this.isRadial)return t.apply(this,[].slice.call(arguments,1))}),o(p,\"afterGetPosition\",function(t){this.axis.getPosition&&s(t.pos,this.axis.getPosition(this.pos))}),o(p,\"afterGetLabelPosition\",function(t){var e,n=this.axis,i=this.label,o=n.options.labels,r=o.y,a=20,s=o.align,l=(n.translate(this.pos)+n.startAngleRad+Math.PI/2)/Math.PI*180%360;n.isRadial&&(e=n.getPosition(this.pos,n.center[2]/2+c(o.distance,-25)),\"auto\"===o.rotation?i.attr({rotation:l}):null===r&&(r=n.chart.renderer.fontMetrics(i.styles&&i.styles.fontSize).b-i.getBBox().height/2),null===s&&(n.isCircular?(this.label.getBBox().width>n.len*n.tickInterval/(n.max-n.min)&&(a=0),s=l>a&&l<180-a?\"left\":l>180+a&&l<360-a?\"right\":\"center\"):s=\"center\",i.attr({align:s})),t.pos.x=e.x+o.x,t.pos.y=e.y+r)}),f(v,\"getMarkPath\",function(t,e,n,i,o,r,a){var s=this.axis;return s.isRadial?[\"M\",e,n,\"L\",(t=s.getPosition(this.pos,s.center[2]/2+i)).x,t.y]:t.call(this,e,n,i,o,r,a)})),function(t){var e=t.each,n=t.pick,i=t.extend,o=t.isArray,r=t.defined,a=t.seriesTypes,s=t.Series.prototype,l=t.Point.prototype;(0,t.seriesType)(\"arearange\",\"area\",{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style=\"color:{series.color}\">\\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0}},{pointArrayMap:[\"low\",\"high\"],toYData:function(t){return[t.low,t.high]},pointValKey:\"low\",deferTranslatePolar:!0,highToXY:function(t){var e=this.chart,n=this.xAxis.postTranslate(t.rectPlotX,this.yAxis.len-t.plotHigh);t.plotHighX=n.x-e.plotLeft,t.plotHigh=n.y-e.plotTop,t.plotLowX=t.plotX},translate:function(){var t=this,n=t.yAxis,i=!!t.modifyValue;a.area.prototype.translate.apply(t),e(t.points,function(e){var o=e.high,r=e.plotY;null===o||null===e.low?(e.isNull=!0,e.plotY=null):(e.plotLow=r,e.plotHigh=n.translate(i?t.modifyValue(o,e):o,0,1,0,1),i&&(e.yBottom=e.plotHigh))}),this.chart.polar&&e(this.points,function(e){t.highToXY(e),e.tooltipPos=[(e.plotHighX+e.plotLowX)/2,(e.plotHigh+e.plotLow)/2]})},getGraphPath:function(t){var e,i,o,r,s=[],l=[],u=a.area.prototype.getGraphPath;r=this.options;var h=this.chart.polar&&!1!==r.connectEnds,c=r.connectNulls,d=r.step;for(e=(t=t||this.points).length;e--;)(i=t[e]).isNull||h||c||t[e+1]&&!t[e+1].isNull||l.push({plotX:i.plotX,plotY:i.plotY,doCurve:!1}),o={polarPlotY:i.polarPlotY,rectPlotX:i.rectPlotX,yBottom:i.yBottom,plotX:n(i.plotHighX,i.plotX),plotY:i.plotHigh,isNull:i.isNull},l.push(o),s.push(o),i.isNull||h||c||t[e-1]&&!t[e-1].isNull||l.push({plotX:i.plotX,plotY:i.plotY,doCurve:!1});return t=u.call(this,t),d&&(!0===d&&(d=\"left\"),r.step={left:\"right\",center:\"center\",right:\"left\"}[d]),s=u.call(this,s),l=u.call(this,l),r.step=d,r=[].concat(t,s),this.chart.polar||\"M\"!==l[0]||(l[0]=\"L\"),this.graphPath=r,this.areaPath=t.concat(l),r.isArea=!0,r.xMap=t.xMap,this.areaPath.xMap=t.xMap,r},drawDataLabels:function(){var t,e,n,r,a,l=this.points,u=l.length,h=[],c=this.options.dataLabels,d=this.chart.inverted;if(o(c)?1<c.length?(r=c[0],a=c[1]):(r=c[0],a={enabled:!1}):((r=i({},c)).x=c.xHigh,r.y=c.yHigh,(a=i({},c)).x=c.xLow,a.y=c.yLow),r.enabled||this._hasPointLabels){for(t=u;t--;)(e=l[t])&&(n=r.inside?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.y=e.high,e._plotY=e.plotY,e.plotY=e.plotHigh,h[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=n,d?r.align||(r.align=n?\"right\":\"left\"):r.verticalAlign||(r.verticalAlign=n?\"top\":\"bottom\"));for(this.options.dataLabels=r,s.drawDataLabels&&s.drawDataLabels.apply(this,arguments),t=u;t--;)(e=l[t])&&(e.dataLabelUpper=e.dataLabel,e.dataLabel=h[t],delete e.dataLabels,e.y=e.low,e.plotY=e._plotY)}if(a.enabled||this._hasPointLabels){for(t=u;t--;)(e=l[t])&&(e.below=!(n=a.inside?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow),d?a.align||(a.align=n?\"left\":\"right\"):a.verticalAlign||(a.verticalAlign=n?\"bottom\":\"top\"));this.options.dataLabels=a,s.drawDataLabels&&s.drawDataLabels.apply(this,arguments)}if(r.enabled)for(t=u;t--;)(e=l[t])&&e.dataLabelUpper&&(e.dataLabels=[e.dataLabelUpper,e.dataLabel]);this.options.dataLabels=c},alignDataLabel:function(){a.column.prototype.alignDataLabel.apply(this,arguments)},drawPoints:function(){var e,n,i=this.points.length;for(s.drawPoints.apply(this,arguments),n=0;n<i;)(e=this.points[n]).origProps={plotY:e.plotY,plotX:e.plotX,isInside:e.isInside,negative:e.negative,zone:e.zone,y:e.y},e.lowerGraphic=e.graphic,e.graphic=e.upperGraphic,e.plotY=e.plotHigh,r(e.plotHighX)&&(e.plotX=e.plotHighX),e.y=e.high,e.negative=e.high<(this.options.threshold||0),e.zone=this.zones.length&&e.getZone(),this.chart.polar||(e.isInside=e.isTopInside=void 0!==e.plotY&&0<=e.plotY&&e.plotY<=this.yAxis.len&&0<=e.plotX&&e.plotX<=this.xAxis.len),n++;for(s.drawPoints.apply(this,arguments),n=0;n<i;)(e=this.points[n]).upperGraphic=e.graphic,e.graphic=e.lowerGraphic,t.extend(e,e.origProps),delete e.origProps,n++},setStackedPoints:t.noop},{setState:function(){var t=this.state,e=this.series,n=e.chart.polar;r(this.plotHigh)||(this.plotHigh=e.yAxis.toPixels(this.high,!0)),r(this.plotLow)||(this.plotLow=this.plotY=e.yAxis.toPixels(this.low,!0)),e.stateMarkerGraphic&&(e.lowerStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.upperStateMarkerGraphic),this.graphic=this.upperGraphic,this.plotY=this.plotHigh,n&&(this.plotX=this.plotHighX),l.setState.apply(this,arguments),this.state=t,this.plotY=this.plotLow,this.graphic=this.lowerGraphic,n&&(this.plotX=this.plotLowX),e.stateMarkerGraphic&&(e.upperStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.lowerStateMarkerGraphic,e.lowerStateMarkerGraphic=void 0),l.setState.apply(this,arguments)},haloPath:function(){var t=this.series.chart.polar,e=[];return this.plotY=this.plotLow,t&&(this.plotX=this.plotLowX),this.isInside&&(e=l.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,t&&(this.plotX=this.plotHighX),this.isTopInside&&(e=e.concat(l.haloPath.apply(this,arguments))),e},destroyElements:function(){return e([\"lowerGraphic\",\"upperGraphic\"],function(t){this[t]&&(this[t]=this[t].destroy())},this),this.graphic=null,l.destroyElements.apply(this,arguments)}})}(t),(0,t.seriesType)(\"areasplinerange\",\"arearange\",null,{getPointSpline:t.seriesTypes.spline.prototype.getPointSpline}),function(e){var n=t.defaultPlotOptions,i=t.each,o=t.noop,r=t.pick,a=t.seriesTypes.column.prototype;(0,t.seriesType)(\"columnrange\",\"arearange\",(0,t.merge)(n.column,n.arearange,{pointRange:null,marker:null,states:{hover:{halo:!1}}}),{translate:function(){var t,e,n=this,o=n.yAxis,s=n.xAxis,l=s.startAngleRad,u=n.chart,h=n.xAxis.isRadial,c=Math.max(u.chartWidth,u.chartHeight)+999;a.translate.apply(n),i(n.points,function(i){var a,d,p=i.shapeArgs,f=n.options.minPointLength;i.plotHigh=e=Math.min(Math.max(-c,o.translate(i.high,0,1,0,1)),c),i.plotLow=Math.min(Math.max(-c,i.plotY),c),d=e,a=r(i.rectPlotY,i.plotY)-e,Math.abs(a)<f?(a+=f-=a,d-=f/2):0>a&&(d-=a*=-1),h?(t=i.barX+l,i.shapeType=\"path\",i.shapeArgs={d:n.polarArc(d+a,d,t,t+i.pointWidth)}):(p.height=a,p.y=d,i.tooltipPos=u.inverted?[o.len+o.pos-u.plotLeft-d-a/2,s.len+s.pos-u.plotTop-p.x-p.width/2,a]:[s.left-u.plotLeft+p.x+p.width/2,o.pos-u.plotTop+d+a/2,a])})},directTouch:!0,trackerGroups:[\"group\",\"dataLabelsGroup\"],drawGraph:o,getSymbol:o,crispCol:a.crispCol,drawPoints:a.drawPoints,drawTracker:a.drawTracker,getColumnMetrics:a.getColumnMetrics,pointAttribs:a.pointAttribs,animate:function(){return a.animate.apply(this,arguments)},polarArc:function(){return a.polarArc.apply(this,arguments)},translate3dPoints:function(){return a.translate3dPoints.apply(this,arguments)},translate3dShapes:function(){return a.translate3dShapes.apply(this,arguments)}},{setState:a.pointClass.prototype.setState})}(),function(e){var n=t.each,i=t.isNumber,o=t.merge,r=t.pick,a=t.pInt,s=t.Series,l=t.TrackerMixin;(0,t.seriesType)(\"gauge\",\"line\",{dataLabels:{enabled:!0,defer:!1,y:15,borderRadius:3,crop:!1,verticalAlign:\"top\",zIndex:2,borderWidth:1,borderColor:\"#cccccc\"},dial:{},pivot:{},tooltip:{headerFormat:\"\"},showInLegend:!1},{angular:!0,directTouch:!0,drawGraph:t.noop,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:[\"group\",\"dataLabelsGroup\"],translate:function(){var t=this.yAxis,e=this.options,s=t.center;this.generatePoints(),n(this.points,function(n){var l=o(e.dial,n.dial),u=a(r(l.radius,80))*s[2]/200,h=a(r(l.baseLength,70))*u/100,c=a(r(l.rearLength,10))*u/100,d=l.baseWidth||3,p=l.topWidth||1,f=e.overshoot,g=t.startAngleRad+t.translate(n.y,null,null,null,!0);i(f)?(f=f/180*Math.PI,g=Math.max(t.startAngleRad-f,Math.min(t.endAngleRad+f,g))):!1===e.wrap&&(g=Math.max(t.startAngleRad,Math.min(t.endAngleRad,g))),g=180*g/Math.PI,n.shapeType=\"path\",n.shapeArgs={d:l.path||[\"M\",-c,-d/2,\"L\",h,-d/2,u,-p/2,u,p/2,h,d/2,-c,d/2,\"z\"],translateX:s[0],translateY:s[1],rotation:g},n.plotX=s[0],n.plotY=s[1]})},drawPoints:function(){var t=this,e=t.yAxis.center,i=t.pivot,a=t.options,s=a.pivot,l=t.chart.renderer;n(t.points,function(e){var n=e.graphic,i=e.shapeArgs,r=i.d,s=o(a.dial,e.dial);n?(n.animate(i),i.d=r):(e.graphic=l[e.shapeType](i).attr({rotation:i.rotation,zIndex:1}).addClass(\"highcharts-dial\").add(t.group),e.graphic.attr({stroke:s.borderColor||\"none\",\"stroke-width\":s.borderWidth||0,fill:s.backgroundColor||\"#000000\"}))}),i?i.animate({translateX:e[0],translateY:e[1]}):(t.pivot=l.circle(0,0,r(s.radius,5)).attr({zIndex:2}).addClass(\"highcharts-pivot\").translate(e[0],e[1]).add(t.group),t.pivot.attr({\"stroke-width\":s.borderWidth||0,stroke:s.borderColor||\"#cccccc\",fill:s.backgroundColor||\"#000000\"}))},animate:function(t){var e=this;t||(n(e.points,function(t){var n=t.graphic;n&&(n.attr({rotation:180*e.yAxis.startAngleRad/Math.PI}),n.animate({rotation:t.shapeArgs.rotation},e.options.animation))}),e.animate=null)},render:function(){this.group=this.plotGroup(\"group\",\"series\",this.visible?\"visible\":\"hidden\",this.options.zIndex,this.chart.seriesGroup),s.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,e){s.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),r(e,!0)&&this.chart.redraw()},drawTracker:l&&l.drawTrackerPoint},{setState:function(t){this.state=t}})}(),function(e){var n=t.each,i=t.noop,o=t.pick,r=t.seriesTypes;(0,t.seriesType)(\"boxplot\",\"column\",{threshold:null,tooltip:{pointFormat:'<span style=\"color:{point.color}\">\\u25cf</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:\"50%\",fillColor:\"#ffffff\",lineWidth:1,medianWidth:2,whiskerWidth:2},{pointArrayMap:[\"low\",\"q1\",\"median\",\"q3\",\"high\"],toYData:function(t){return[t.low,t.q1,t.median,t.q3,t.high]},pointValKey:\"high\",pointAttribs:function(){return{}},drawDataLabels:i,translate:function(){var t=this.yAxis,e=this.pointArrayMap;r.column.prototype.translate.apply(this),n(this.points,function(i){n(e,function(e){null!==i[e]&&(i[e+\"Plot\"]=t.translate(i[e],0,1,0,1))})})},drawPoints:function(){var t,e,i,r,a,s,l,u,h,c,d,p=this,f=p.options,g=p.chart.renderer,m=0,v=!1!==p.doQuartiles,y=p.options.whiskerLength;n(p.points,function(n){var _=n.graphic,b=_?\"animate\":\"attr\",x=n.shapeArgs,w={},C={},k={},O={},M=n.color||p.color;void 0!==n.plotY&&(l=x.width,u=Math.floor(x.x),h=u+l,c=Math.round(l/2),t=Math.floor(v?n.q1Plot:n.lowPlot),e=Math.floor(v?n.q3Plot:n.lowPlot),i=Math.floor(n.highPlot),r=Math.floor(n.lowPlot),_||(n.graphic=_=g.g(\"point\").add(p.group),n.stem=g.path().addClass(\"highcharts-boxplot-stem\").add(_),y&&(n.whiskers=g.path().addClass(\"highcharts-boxplot-whisker\").add(_)),v&&(n.box=g.path(void 0).addClass(\"highcharts-boxplot-box\").add(_)),n.medianShape=g.path(void 0).addClass(\"highcharts-boxplot-median\").add(_)),C.stroke=n.stemColor||f.stemColor||M,C[\"stroke-width\"]=o(n.stemWidth,f.stemWidth,f.lineWidth),C.dashstyle=n.stemDashStyle||f.stemDashStyle,n.stem.attr(C),y&&(k.stroke=n.whiskerColor||f.whiskerColor||M,k[\"stroke-width\"]=o(n.whiskerWidth,f.whiskerWidth,f.lineWidth),n.whiskers.attr(k)),v&&(w.fill=n.fillColor||f.fillColor||M,w.stroke=f.lineColor||M,w[\"stroke-width\"]=f.lineWidth||0,n.box.attr(w)),O.stroke=n.medianColor||f.medianColor||M,O[\"stroke-width\"]=o(n.medianWidth,f.medianWidth,f.lineWidth),n.medianShape.attr(O),s=n.stem.strokeWidth()%2/2,n.stem[b]({d:[\"M\",m=u+c+s,e,\"L\",m,i,\"M\",m,t,\"L\",m,r]}),v&&(s=n.box.strokeWidth()%2/2,t=Math.floor(t)+s,e=Math.floor(e)+s,n.box[b]({d:[\"M\",u+=s,e,\"L\",u,t,\"L\",h+=s,t,\"L\",h,e,\"L\",u,e,\"z\"]})),y&&(s=n.whiskers.strokeWidth()%2/2,i+=s,r+=s,d=/%$/.test(y)?c*parseFloat(y)/100:y/2,n.whiskers[b]({d:[\"M\",m-d,i,\"L\",m+d,i,\"M\",m-d,r,\"L\",m+d,r]})),a=Math.round(n.medianPlot),s=n.medianShape.strokeWidth()%2/2,n.medianShape[b]({d:[\"M\",u,a+=s,\"L\",h,a]}))})},setStackedPoints:i})}(),function(e){var n=t.each,i=t.seriesTypes;(0,t.seriesType)(\"errorbar\",\"boxplot\",{color:\"#000000\",grouping:!1,linkedTo:\":previous\",tooltip:{pointFormat:'<span style=\"color:{point.color}\">\\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null},{type:\"errorbar\",pointArrayMap:[\"low\",\"high\"],toYData:function(t){return[t.low,t.high]},pointValKey:\"high\",doQuartiles:!1,drawDataLabels:i.arearange?function(){var t=this.pointValKey;i.arearange.prototype.drawDataLabels.call(this),n(this.data,function(e){e.y=e[t]})}:t.noop,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||i.column.prototype.getColumnMetrics.call(this)}})}(),function(e){var n=t.correctFloat,i=t.isNumber,o=t.pick,r=t.Point,a=t.Series,s=t.seriesTypes;(0,t.seriesType)(\"waterfall\",\"column\",{dataLabels:{inside:!0},lineWidth:1,lineColor:\"#333333\",dashStyle:\"dot\",borderColor:\"#333333\",states:{hover:{lineWidthPlus:0}}},{pointValKey:\"y\",showLine:!0,generatePoints:function(){var t,e,i,o,r=this.options.threshold;for(s.column.prototype.generatePoints.apply(this),i=0,e=this.points.length;i<e;i++)o=this.processedYData[i],(t=this.points[i]).isSum?t.y=n(o):t.isIntermediateSum&&(t.y=n(o-r),r=o)},translate:function(){var t,e,n,i,r,a,l,u,h,c,d,p=this.options,f=this.yAxis,g=o(p.minPointLength,5),m=g/2,v=p.threshold,y=p.stacking;for(s.column.prototype.translate.apply(this),u=h=v,t=0,p=(e=this.points).length;t<p;t++)l=this.processedYData[t],i=(n=e[t]).shapeArgs,r=y&&f.stacks[(this.negStacks&&l<v?\"-\":\"\")+this.stackKey],d=this.getStackIndicator(d,n.x,this.index),c=o(r&&r[n.x].points[d.key],[0,l]),a=Math.max(u,u+n.y)+c[0],i.y=f.translate(a,0,1,0,1),n.isSum?(i.y=f.translate(c[1],0,1,0,1),i.height=Math.min(f.translate(c[0],0,1,0,1),f.len)-i.y):n.isIntermediateSum?(i.y=f.translate(c[1],0,1,0,1),i.height=Math.min(f.translate(h,0,1,0,1),f.len)-i.y,h=c[1]):(i.height=0<l?f.translate(u,0,1,0,1)-i.y:f.translate(u,0,1,0,1)-f.translate(u-l,0,1,0,1),n.below=(u+=r&&r[n.x]?r[n.x].total:l)<o(v,0)),0>i.height&&(i.y+=i.height,i.height*=-1),n.plotY=i.y=Math.round(i.y)-this.borderWidth%2/2,i.height=Math.max(Math.round(i.height),.001),n.yBottom=i.y+i.height,i.height<=g&&!n.isNull?(i.height=g,i.y-=m,n.plotY=i.y,n.minPointLengthOffset=0>n.y?-m:m):(n.isNull&&(i.width=0),n.minPointLengthOffset=0),i=n.plotY+(n.negative?i.height:0),this.chart.inverted?n.tooltipPos[0]=f.len-i:n.tooltipPos[1]=i},processData:function(t){var e,i,o,r,s,l,u,h=this.yData,c=this.options.data,d=h.length;for(o=i=r=s=this.options.threshold||0,u=0;u<d;u++)e=c&&c[u]?c[u]:{},\"sum\"===(l=h[u])||e.isSum?h[u]=n(o):\"intermediateSum\"===l||e.isIntermediateSum?h[u]=n(i):(o+=l,i+=l),r=Math.min(o,r),s=Math.max(o,s);a.prototype.processData.call(this,t),this.options.stacking||(this.dataMin=r,this.dataMax=s)},toYData:function(t){return t.isSum?0===t.x?null:\"sum\":t.isIntermediateSum?0===t.x?null:\"intermediateSum\":t.y},pointAttribs:function(t,e){var n=this.options.upColor;return n&&!t.options.color&&(t.color=0<t.y?n:null),delete(t=s.column.prototype.pointAttribs.call(this,t,e)).dashstyle,t},getGraphPath:function(){return[\"M\",0,0]},getCrispPath:function(){var t,e,n,i=this.data,o=i.length,r=this.graph.strokeWidth()+this.borderWidth,a=(r=Math.round(r)%2/2,this.xAxis.reversed),s=this.yAxis.reversed,l=[];for(n=1;n<o;n++)e=[\"M\",(t=i[n-1].shapeArgs).x+(a?0:t.width),t.y+i[n-1].minPointLengthOffset+r,\"L\",(e=i[n].shapeArgs).x+(a?t.width:0),t.y+i[n-1].minPointLengthOffset+r],(0>i[n-1].y&&!s||0<i[n-1].y&&s)&&(e[2]+=t.height,e[5]+=t.height),l=l.concat(e);return l},drawGraph:function(){a.prototype.drawGraph.call(this),this.graph.attr({d:this.getCrispPath()})},setStackedPoints:function(){var t,e,n=this.options;for(a.prototype.setStackedPoints.apply(this,arguments),t=this.stackedYData?this.stackedYData.length:0,e=1;e<t;e++)n.data[e].isSum||n.data[e].isIntermediateSum||(this.stackedYData[e]+=this.stackedYData[e-1])},getExtremes:function(){if(this.options.stacking)return a.prototype.getExtremes.apply(this,arguments)}},{getClassName:function(){var t=r.prototype.getClassName.call(this);return this.isSum?t+=\" highcharts-sum\":this.isIntermediateSum&&(t+=\" highcharts-intermediate-sum\"),t},isValid:function(){return i(this.y,!0)||this.isSum||this.isIntermediateSum}})}(),function(e){var n=t.Series,i=t.seriesTypes;(0,t.seriesType)(\"polygon\",\"scatter\",{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:\"\"},trackByArea:!0},{type:\"polygon\",getGraphPath:function(){for(var t=n.prototype.getGraphPath.call(this),e=t.length+1;e--;)(e===t.length||\"M\"===t[e])&&0<e&&t.splice(e,0,\"z\");return this.areaPath=t},drawGraph:function(){this.options.fillColor=this.color,i.area.prototype.drawGraph.call(this)},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawTracker:n.prototype.drawTracker,setStackedPoints:t.noop})}(),function(t){var e=t.arrayMax,n=t.arrayMin,i=t.Axis,o=t.color,r=t.each,a=t.isNumber,s=t.noop,l=t.pick,u=t.pInt,h=t.Point,c=t.Series,d=t.seriesTypes;(0,t.seriesType)(\"bubble\",\"scatter\",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:\"middle\"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:\"circle\"},minSize:8,maxSize:\"20%\",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:\"({point.x}, {point.y}), Size: {point.z}\"},turboThreshold:0,zThreshold:0,zoneAxis:\"z\"},{pointArrayMap:[\"y\",\"z\"],parallelArrays:[\"x\",\"y\",\"z\"],trackerGroups:[\"group\",\"dataLabelsGroup\"],specialGroup:\"group\",bubblePadding:!0,zoneAxis:\"z\",directTouch:!0,pointAttribs:function(t,e){var n=this.options.marker.fillOpacity;return t=c.prototype.pointAttribs.call(this,t,e),1!==n&&(t.fill=o(t.fill).setOpacity(n).get(\"rgba\")),t},getRadii:function(t,e,n,i){var o,r,s,l=this.zData,u=[],h=this.options,c=\"width\"!==h.sizeBy,d=h.zThreshold,p=e-t;for(r=0,o=l.length;r<o;r++)s=l[r],h.sizeByAbsoluteValue&&null!==s&&(s=Math.abs(s-d),e=p=Math.max(e-d,Math.abs(t-d)),t=0),a(s)?s<t?s=n/2-1:(s=0<p?(s-t)/p:.5,c&&0<=s&&(s=Math.sqrt(s)),s=Math.ceil(n+s*(i-n))/2):s=null,u.push(s);this.radii=u},animate:function(t){!t&&this.points.length<this.options.animationLimit&&(r(this.points,function(t){var e,n=t.graphic;n&&n.width&&(e={x:n.x,y:n.y,width:n.width,height:n.height},n.attr({x:t.plotX,y:t.plotY,width:1,height:1}),n.animate(e,this.options.animation))},this),this.animate=null)},translate:function(){var e,n,i,o=this.data,r=this.radii;for(d.scatter.prototype.translate.call(this),e=o.length;e--;)n=o[e],a(i=r?r[e]:0)&&i>=this.minPxSize/2?(n.marker=t.extend(n.marker,{radius:i,width:2*i,height:2*i}),n.dlBox={x:n.plotX-i,y:n.plotY-i,width:2*i,height:2*i}):n.shapeArgs=n.plotY=n.dlBox=void 0},alignDataLabel:d.column.prototype.alignDataLabel,buildKDTree:s,applyZones:s},{haloPath:function(t){return h.prototype.haloPath.call(this,0===t?0:(this.marker&&this.marker.radius||0)+t)},ttBelow:!1}),i.prototype.beforePadding=function(){var i=this,o=this.len,s=this.chart,h=0,c=o,d=this.isXAxis,p=d?\"xData\":\"yData\",f=this.min,g={},m=Math.min(s.plotWidth,s.plotHeight),v=Number.MAX_VALUE,y=-Number.MAX_VALUE,_=this.max-f,b=o/_,x=[];r(this.series,function(o){var a=o.options;!o.bubblePadding||!o.visible&&s.options.chart.ignoreHiddenSeries||(i.allowZoomOutside=!0,x.push(o),d&&(r([\"minSize\",\"maxSize\"],function(t){var e=/%$/.test(n=a[t]),n=u(n);g[t]=e?m*n/100:n}),o.minPxSize=g.minSize,o.maxPxSize=Math.max(g.maxSize,g.minSize),(o=t.grep(o.zData,t.isNumber)).length&&(v=l(a.zMin,Math.min(v,Math.max(n(o),!1===a.displayNegative?a.zThreshold:-Number.MAX_VALUE))),y=l(a.zMax,Math.max(y,e(o))))))}),r(x,function(t){var e,n=t[p],o=n.length;if(d&&t.getRadii(v,y,t.minPxSize,t.maxPxSize),0<_)for(;o--;)a(n[o])&&i.dataMin<=n[o]&&n[o]<=i.dataMax&&(e=t.radii[o],h=Math.min((n[o]-f)*b-e,h),c=Math.max((n[o]-f)*b+e,c))}),x.length&&0<_&&!this.isLog&&(c-=o,b*=(o+Math.max(0,h)-Math.min(c,o))/o,r([[\"min\",\"userMin\",h],[\"max\",\"userMax\",c]],function(t){void 0===l(i.options[t[0]],i[t[1]])&&(i[t[0]]+=t[2]/b)}))}}(t),function(t){var e=t.each,n=t.pick,i=t.Series,o=t.seriesTypes,r=t.wrap,a=i.prototype,s=t.Pointer.prototype;t.polarExtended||(t.polarExtended=!0,a.searchPointByAngle=function(t){var e=this.chart,n=this.xAxis.pane.center;return this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(t.chartX-n[0]-e.plotLeft,t.chartY-n[1]-e.plotTop)})},a.getConnectors=function(t,e,n,i){var o,r,a,s,l,u,h,c;return r=i?1:0,e=0>(o=0<=e&&e<=t.length-1?e:0>e?t.length-1+e:0)-1?t.length-(1+r):o-1,l=(r=t[r=o+1>t.length-1?r:o+1]).plotX,u=r.plotY,s=(1.5*(r=t[o].plotX)+(s=(a=t[e]).plotX))/2.5,a=(1.5*(o=t[o].plotY)+(a=a.plotY))/2.5,l=(1.5*r+l)/2.5,h=(1.5*o+u)/2.5,u=Math.sqrt(Math.pow(s-r,2)+Math.pow(a-o,2)),c=Math.sqrt(Math.pow(l-r,2)+Math.pow(h-o,2)),s=Math.atan2(a-o,s-r),h=Math.PI/2+(s+Math.atan2(h-o,l-r))/2,Math.abs(s-h)>Math.PI/2&&(h-=Math.PI),s=r+Math.cos(h)*u,a=o+Math.sin(h)*u,r={rightContX:l=r+Math.cos(Math.PI+h)*c,rightContY:h=o+Math.sin(Math.PI+h)*c,leftContX:s,leftContY:a,plotX:r,plotY:o},n&&(r.prevPointCont=this.getConnectors(t,e,!1,i)),r},r(a,\"buildKDTree\",function(t){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.options.findNearestPointBy=\"xy\"),t.apply(this)}),a.toXY=function(t){var e,n=this.chart,i=t.plotX;e=t.plotY,t.rectPlotX=i,t.rectPlotY=e,e=this.xAxis.postTranslate(t.plotX,this.yAxis.len-e),t.plotX=t.polarPlotX=e.x-n.plotLeft,t.plotY=t.polarPlotY=e.y-n.plotTop,this.kdByAngle?(0>(n=(i/Math.PI*180+this.xAxis.pane.options.startAngle)%360)&&(n+=360),t.clientX=n):t.clientX=t.plotX},o.spline&&(r(o.spline.prototype,\"getPointSpline\",function(t,e,n,i){return this.chart.polar?i?[\"C\",(t=this.getConnectors(e,i,!0,this.connectEnds)).prevPointCont.rightContX,t.prevPointCont.rightContY,t.leftContX,t.leftContY,t.plotX,t.plotY]:[\"M\",n.plotX,n.plotY]:t.call(this,e,n,i)}),o.areasplinerange&&(o.areasplinerange.prototype.getPointSpline=o.spline.prototype.getPointSpline)),t.addEvent(i,\"afterTranslate\",function(){var e,n,i=this.chart;if(i.polar){if(this.kdByAngle=i.tooltip&&i.tooltip.shared,!this.preventPostTranslate)for(n=(e=this.points).length;n--;)this.toXY(e[n]);this.hasClipCircleSetter||(this.hasClipCircleSetter=!!t.addEvent(this,\"afterRender\",function(){var e;i.polar&&(this.group.clip(i.renderer.clipCircle((e=this.yAxis.center)[0],e[1],e[2]/2)),this.setClip=t.noop)}))}},{order:2}),r(a,\"getGraphPath\",function(t,n){var i,o,r,a=this;if(this.chart.polar){for(n=n||this.points,i=0;i<n.length;i++)if(!n[i].isNull){o=i;break}!1!==this.options.connectEnds&&void 0!==o&&(this.connectEnds=!0,n.splice(n.length,0,n[o]),r=!0),e(n,function(t){void 0===t.polarPlotY&&a.toXY(t)})}return i=t.apply(this,[].slice.call(arguments,1)),r&&n.pop(),i}),r(a,\"animate\",i=function(t,e){var n=this.chart,i=this.options.animation,o=this.group,r=this.markerGroup,a=this.xAxis.center,s=n.plotLeft,l=n.plotTop;n.polar?n.renderer.isSVG&&(!0===i&&(i={}),e?(o.attr(t={translateX:a[0]+s,translateY:a[1]+l,scaleX:.001,scaleY:.001}),r&&r.attr(t)):(o.animate(t={translateX:s,translateY:l,scaleX:1,scaleY:1},i),r&&r.animate(t,i),this.animate=null)):t.call(this,e)}),o.column&&((o=o.column.prototype).polarArc=function(t,e,i,o){var r=this.xAxis.center,a=this.yAxis.len;return this.chart.renderer.symbols.arc(r[0],r[1],a-e,null,{start:i,end:o,innerR:a-n(t,a)})},r(o,\"animate\",i),r(o,\"translate\",function(t){var e,n,i,o=this.xAxis,r=o.startAngleRad;if(this.preventPostTranslate=!0,t.call(this),o.isRadial)for(i=(e=this.points).length;i--;)t=(n=e[i]).barX+r,n.shapeType=\"path\",n.shapeArgs={d:this.polarArc(n.yBottom,n.plotY,t,t+n.pointWidth)},this.toXY(n),n.tooltipPos=[n.plotX,n.plotY],n.ttBelow=n.plotY>o.center[1]}),r(o,\"alignDataLabel\",function(t,e,n,i,o,r){this.chart.polar?(t=e.rectPlotX/Math.PI*180,null===i.align&&(i.align=20<t&&160>t?\"left\":200<t&&340>t?\"right\":\"center\"),null===i.verticalAlign&&(i.verticalAlign=45>t||315<t?\"bottom\":135<t&&225>t?\"top\":\"middle\"),a.alignDataLabel.call(this,e,n,i,o,r)):t.call(this,e,n,i,o,r)})),r(s,\"getCoordinates\",function(t,n){var i=this.chart,o={xAxis:[],yAxis:[]};return i.polar?e(i.axes,function(t){var e=t.isXAxis,r=n.chartX-(a=t.center)[0]-i.plotLeft,a=n.chartY-a[1]-i.plotTop;o[e?\"xAxis\":\"yAxis\"].push({axis:t,value:t.translate(e?Math.PI-Math.atan2(r,a):Math.sqrt(Math.pow(r,2)+Math.pow(a,2)),!0)})}):o=t.call(this,n),o}),t.SVGRenderer.prototype.clipCircle=function(e,n,i){var o=t.uniqueKey(),r=this.createElement(\"clipPath\").attr({id:o}).add(this.defs);return(e=this.circle(e,n,i).add(r)).id=o,e.clipPath=r,e},t.addEvent(t.Chart,\"getAxes\",function(){this.pane||(this.pane=[]),e(t.splat(this.options.pane),function(e){new t.Pane(e,this)},this)}),t.addEvent(t.Chart,\"afterDrawChartBox\",function(){e(this.pane,function(t){t.render()})}),r(t.Chart.prototype,\"get\",function(e,n){return t.find(this.pane,function(t){return t.options.id===n})||e.call(this,n)}))}(t)},t.exports?t.exports=o:void 0===(i=(function(){return o}).call(e,n,e,t))||(t.exports=i)},MdMo:function(t,e,n){\"use strict\";for(var i=n(\"9aYe\"),o=n(\"Mi3D\"),r=n(\"RfpG\"),a=n(\"2Lu3\"),s=new Array(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;function u(){a.call(this,\"utf-8 decode\"),this.leftOver=null}function h(){a.call(this,\"utf-8 encode\")}s[254]=s[254]=1,e.utf8encode=function(t){return o.nodebuffer?r.newBufferFrom(t,\"utf-8\"):function(t){var e,n,i,r,a,s=t.length,l=0;for(r=0;r<s;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=o.uint8array?new Uint8Array(l):new Array(l),a=0,r=0;a<l;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e}(t)},e.utf8decode=function(t){return o.nodebuffer?i.transformTo(\"nodebuffer\",t).toString(\"utf-8\"):function(t){var e,n,o,r,a=t.length,l=new Array(2*a);for(n=0,e=0;e<a;)if((o=t[e++])<128)l[n++]=o;else if((r=s[o])>4)l[n++]=65533,e+=r-1;else{for(o&=2===r?31:3===r?15:7;r>1&&e<a;)o=o<<6|63&t[e++],r--;r>1?l[n++]=65533:o<65536?l[n++]=o:(l[n++]=55296|(o-=65536)>>10&1023,l[n++]=56320|1023&o)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)}(t=i.transformTo(o.uint8array?\"uint8array\":\"array\",t))},i.inherits(u,a),u.prototype.processChunk=function(t){var n=i.transformTo(o.uint8array?\"uint8array\":\"array\",t.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var r=n;(n=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),n.set(r,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var a=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}(n),l=n;a!==n.length&&(o.uint8array?(l=n.subarray(0,a),this.leftOver=n.subarray(a,n.length)):(l=n.slice(0,a),this.leftOver=n.slice(a,n.length))),this.push({data:e.utf8decode(l),meta:t.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=u,i.inherits(h,a),h.prototype.processChunk=function(t){this.push({data:e.utf8encode(t.data),meta:t.meta})},e.Utf8EncodeWorker=h},Mi3D:function(t,e,n){\"use strict\";if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,e.nodebuffer=\"undefined\"!=typeof Buffer,e.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)e.blob=!1;else{var i=new ArrayBuffer(0);try{e.blob=0===new Blob([i],{type:\"application/zip\"}).size}catch(r){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),e.blob=0===o.getBlob(\"application/zip\").size}catch(r){e.blob=!1}}}try{e.nodestream=!!n(\"uH21\").Readable}catch(r){e.nodestream=!1}},PDX0:function(t,e){(function(e){t.exports=e}).call(this,{})},PEBU:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},Px5H:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},QSbz:function(t,e,n){\"use strict\";var i=n(\"oXfm\"),o=n(\"vn/o\"),r=n(\"eydS\"),a=n(\"Tcbo\"),s=n(\"iTZm\"),l=Object.prototype.toString,u=0,h=-1,c=0,d=8;function p(t){if(!(this instanceof p))return new p(t);this.options=o.assign({level:h,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:\"\"},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==u)throw new Error(a[n]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var f;if(f=\"string\"==typeof e.dictionary?r.string2buf(e.dictionary):\"[object ArrayBuffer]\"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=i.deflateSetDictionary(this.strm,f))!==u)throw new Error(a[n]);this._dict_set=!0}}function f(t,e){var n=new p(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}p.prototype.push=function(t,e){var n,a,s=this.strm,h=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,s.input=\"string\"==typeof t?r.string2buf(t):\"[object ArrayBuffer]\"===l.call(t)?new Uint8Array(t):t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(h),s.next_out=0,s.avail_out=h),1!==(n=i.deflate(s,a))&&n!==u)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||this.onData(\"string\"===this.options.to?r.buf2binstring(o.shrinkBuf(s.output,s.next_out)):o.shrinkBuf(s.output,s.next_out))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==a||(this.onEnd(u),s.avail_out=0,!0)},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===u&&(this.result=\"string\"===this.options.to?this.chunks.join(\"\"):o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=p,e.deflate=f,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,f(t,e)}},QnLI:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},RSNc:function(t,e,n){var i,o;o=function(t){!function(t){var e=t.animObject,n=t.noop,i=t.color,o=t.defaultOptions,r=t.each,a=t.extend,s=t.format,l=t.objectEach,u=t.pick,h=t.Chart,c=(d=t.seriesTypes).pie,d=d.column,p=t.Tick,f=t.fireEvent,g=t.inArray,m=1;a(o.lang,{drillUpText:\"\\u25c1 Back to {series.name}\"}),o.drilldown={activeAxisLabelStyle:{cursor:\"pointer\",color:\"#003399\",fontWeight:\"bold\",textDecoration:\"underline\"},activeDataLabelStyle:{cursor:\"pointer\",color:\"#003399\",fontWeight:\"bold\",textDecoration:\"underline\"},animation:{duration:500},drillUpButton:{position:{align:\"right\",x:-10,y:10}}},t.SVGRenderer.prototype.Element.prototype.fadeIn=function(t){this.attr({opacity:.1,visibility:\"inherit\"}).animate({opacity:u(this.newOpacity,1)},t||{duration:250})},h.prototype.addSeriesAsDrilldown=function(t,e){this.addSingleSeriesAsDrilldown(t,e),this.applyDrilldown()},h.prototype.addSingleSeriesAsDrilldown=function(e,o){var s,l,u,h,c=e.series,d=c.xAxis,p=c.yAxis,f=[],v=[];h={color:e.color||c.color},this.drilldownLevels||(this.drilldownLevels=[]),l=c.options._levelNumber||0,(u=this.drilldownLevels[this.drilldownLevels.length-1])&&u.levelNumber!==l&&(u=void 0),o=a(a({_ddSeriesId:m++},h),o),s=g(e,c.points),r(c.chart.series,function(t){t.xAxis!==d||t.isDrilling||(t.options._ddSeriesId=t.options._ddSeriesId||m++,t.options._colorIndex=t.userOptions._colorIndex,t.options._levelNumber=t.options._levelNumber||l,u?(f=u.levelSeries,v=u.levelSeriesOptions):(f.push(t),v.push(t.options)))}),e=a({levelNumber:l,seriesOptions:c.options,levelSeriesOptions:v,levelSeries:f,shapeArgs:e.shapeArgs,bBox:e.graphic?e.graphic.getBBox():{},color:e.isNull?new t.Color(i).setOpacity(0).get():i,lowerSeriesOptions:o,pointOptions:c.options.data[s],pointIndex:s,oldExtremes:{xMin:d&&d.userMin,xMax:d&&d.userMax,yMin:p&&p.userMin,yMax:p&&p.userMax},resetZoomButton:this.resetZoomButton},h),this.drilldownLevels.push(e),d&&d.names&&(d.names.length=0),(o=e.lowerSeries=this.addSeries(o,!1)).options._levelNumber=l+1,d&&(d.oldPos=d.pos,d.userMin=d.userMax=null,p.userMin=p.userMax=null),c.type===o.type&&(o.animate=o.animateDrilldown||n,o.options.animation=!0)},h.prototype.applyDrilldown=function(){var t,e=this.drilldownLevels;e&&0<e.length&&(t=e[e.length-1].levelNumber,r(this.drilldownLevels,function(e){e.levelNumber===t&&r(e.levelSeries,function(e){e.options&&e.options._levelNumber===t&&e.remove(!1)})})),this.resetZoomButton&&(this.resetZoomButton.hide(),delete this.resetZoomButton),this.pointer.reset(),this.redraw(),this.showDrillUpButton()},h.prototype.getDrilldownBackText=function(){var t=this.drilldownLevels;if(t&&0<t.length)return(t=t[t.length-1]).series=t.seriesOptions,s(this.options.lang.drillUpText,t)},h.prototype.showDrillUpButton=function(){var t,e,n=this,i=this.getDrilldownBackText(),o=n.options.drilldown.drillUpButton;this.drillUpButton?this.drillUpButton.attr({text:i}).align():(e=(t=o.theme)&&t.states,this.drillUpButton=this.renderer.button(i,null,null,function(){n.drillUp()},t,e&&e.hover,e&&e.select).addClass(\"highcharts-drillup-button\").attr({align:o.position.align,zIndex:7}).add().align(o.position,!1,o.relativeTo||\"plotBox\"))},h.prototype.drillUp=function(){if(this.drilldownLevels&&0!==this.drilldownLevels.length){for(var t,e,n,i,o=this,a=o.drilldownLevels,s=a[a.length-1].levelNumber,l=a.length,u=o.series,h=function(t){var a;r(u,function(e){e.options._ddSeriesId===t._ddSeriesId&&(a=e)}),(a=a||o.addSeries(t,!1)).type===n.type&&a.animateDrillupTo&&(a.animate=a.animateDrillupTo),t===e.seriesOptions&&(i=a)};l--;)if((e=a[l]).levelNumber===s){if(a.pop(),!(n=e.lowerSeries).chart)for(t=u.length;t--;)if(u[t].options.id===e.lowerSeriesOptions.id&&u[t].options._levelNumber===s+1){n=u[t];break}n.xData=[],r(e.levelSeriesOptions,h),f(o,\"drillup\",{seriesOptions:e.seriesOptions}),i.type===n.type&&(i.drilldownLevel=e,i.options.animation=o.options.drilldown.animation,n.animateDrillupFrom&&n.chart&&n.animateDrillupFrom(e)),i.options._levelNumber=s,n.remove(!1),i.xAxis&&(i.xAxis.setExtremes((t=e.oldExtremes).xMin,t.xMax,!1),i.yAxis.setExtremes(t.yMin,t.yMax,!1)),e.resetZoomButton&&(o.resetZoomButton=e.resetZoomButton,o.resetZoomButton.show())}f(o,\"drillupall\"),this.redraw(),0===this.drilldownLevels.length?this.drillUpButton=this.drillUpButton.destroy():this.drillUpButton.attr({text:this.getDrilldownBackText()}).align(),this.ddDupes.length=[]}},h.prototype.callbacks.push(function(){var e=this;e.drilldown={update:function(n,i){t.merge(!0,e.options.drilldown,n),u(i,!0)&&e.redraw()}}}),t.addEvent(h,\"beforeShowResetZoom\",function(){if(this.drillUpButton)return!1}),t.addEvent(h,\"render\",function(){r(this.xAxis||[],function(t){t.ddPoints={},r(t.series,function(e){var n,i,o=e.xData||[],r=e.points;for(n=0;n<o.length;n++)\"number\"!=typeof(i=e.options.data[n])&&(i=e.pointClass.prototype.optionsToObject.call({series:e},i)).drilldown&&(t.ddPoints[o[n]]||(t.ddPoints[o[n]]=[]),t.ddPoints[o[n]].push(!r||r[n]))}),l(t.ticks,p.prototype.drillable)})}),d.prototype.animateDrillupTo=function(e){if(!e){var i=this,o=i.drilldownLevel;r(this.points,function(t){var e=t.dataLabel;t.graphic&&t.graphic.hide(),e&&(e.hidden=\"hidden\"===e.attr(\"visibility\"),e.hidden||(e.hide(),t.connector&&t.connector.hide()))}),t.syncTimeout(function(){i.points&&r(i.points,function(t,e){e=e===(o&&o.pointIndex)?\"show\":\"fadeIn\";var n=t.dataLabel;t.graphic&&t.graphic[e](\"show\"===e||void 0),n&&!n.hidden&&(n.fadeIn(),t.connector&&t.connector.fadeIn())})},Math.max(this.chart.options.drilldown.animation.duration-50,0)),this.animate=n}},d.prototype.animateDrilldown=function(t){var n,i=this,o=this.chart.drilldownLevels,s=e(this.chart.options.drilldown.animation),l=this.xAxis;t||(r(o,function(t){i.options._ddSeriesId===t.lowerSeriesOptions._ddSeriesId&&((n=t.shapeArgs).fill=t.color)}),n.x+=u(l.oldPos,l.pos)-l.pos,r(this.points,function(t){t.shapeArgs.fill=t.color,t.graphic&&t.graphic.attr(n).animate(a(t.shapeArgs,{fill:t.color||i.color}),s),t.dataLabel&&t.dataLabel.fadeIn(s)}),this.animate=null)},d.prototype.animateDrillupFrom=function(n){var i=e(this.chart.options.drilldown.animation),o=this.group,a=o!==this.chart.columnGroup,s=this;r(s.trackerGroups,function(t){s[t]&&s[t].on(\"mouseover\")}),a&&delete this.group,r(this.points,function(e){var r=e.graphic,s=n.shapeArgs,l=function(){r.destroy(),o&&a&&(o=o.destroy())};r&&(delete e.graphic,s.fill=n.color,i.duration?r.animate(s,t.merge(i,{complete:l})):(r.attr(s),l()))})},c&&a(c.prototype,{animateDrillupTo:d.prototype.animateDrillupTo,animateDrillupFrom:d.prototype.animateDrillupFrom,animateDrilldown:function(e){var n=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],i=this.chart.options.drilldown.animation,o=n.shapeArgs,a=o.start,s=(o.end-a)/this.points.length;e||(r(this.points,function(e,r){var l=e.shapeArgs;o.fill=n.color,l.fill=e.color,e.graphic&&e.graphic.attr(t.merge(o,{start:a+r*s,end:a+(r+1)*s}))[i?\"animate\":\"attr\"](l,i)}),this.animate=null)}}),t.Point.prototype.doDrilldown=function(t,e,n){var i,o=this.series.chart,r=o.options.drilldown,a=(r.series||[]).length;for(o.ddDupes||(o.ddDupes=[]);a--&&!i;)r.series[a].id===this.drilldown&&-1===g(this.drilldown,o.ddDupes)&&(i=r.series[a],o.ddDupes.push(this.drilldown));f(o,\"drilldown\",{point:this,seriesOptions:i,category:e,originalEvent:n,points:void 0!==e&&this.series.xAxis.getDDPoints(e).slice(0)},function(e){var n=e.point.series&&e.point.series.chart,i=e.seriesOptions;n&&i&&(t?n.addSingleSeriesAsDrilldown(e.point,i):n.addSeriesAsDrilldown(e.point,i))})},t.Axis.prototype.drilldownCategory=function(t,e){l(this.getDDPoints(t),function(n){n&&n.series&&n.series.visible&&n.doDrilldown&&n.doDrilldown(!0,t,e)}),this.chart.applyDrilldown()},t.Axis.prototype.getDDPoints=function(t){return this.ddPoints&&this.ddPoints[t]},p.prototype.drillable=function(){var e=this.pos,n=this.label,i=this.axis,o=\"xAxis\"===i.coll&&i.getDDPoints,r=o&&i.getDDPoints(e);o&&(n&&r&&r.length?(n.drillable=!0,n.basicStyles||(n.basicStyles=t.merge(n.styles)),n.addClass(\"highcharts-drilldown-axis-label\").css(i.chart.options.drilldown.activeAxisLabelStyle).on(\"click\",function(t){i.drilldownCategory(e,t)})):n&&n.drillable&&(n.styles={},n.css(n.basicStyles),n.on(\"click\",null),n.removeClass(\"highcharts-drilldown-axis-label\")))},t.addEvent(t.Point,\"afterInit\",function(){var e=this,n=e.series;return e.drilldown&&t.addEvent(e,\"click\",function(t){n.xAxis&&!1===n.chart.options.drilldown.allowPointDrilldown?n.xAxis.drilldownCategory(e.x,t):e.doDrilldown(void 0,void 0,t)}),e}),t.addEvent(t.Series,\"afterDrawDataLabels\",function(){var t=this.chart.options.drilldown.activeDataLabelStyle,e=this.chart.renderer;r(this.points,function(n){var i=n.options.dataLabels,o=u(n.dlOptions,i&&i.style,{});n.drilldown&&n.dataLabel&&(\"contrast\"===t.color&&(o.color=e.getContrast(n.color||this.color)),i&&i.color&&(o.color=i.color),n.dataLabel.addClass(\"highcharts-drilldown-data-label\"),n.dataLabel.css(t).css(o))},this)});var v=function(t,e,n){t[n?\"addClass\":\"removeClass\"](\"highcharts-drilldown-point\"),t.css({cursor:e})};t.addEvent(t.Series,\"afterDrawTracker\",function(){r(this.points,function(t){t.drilldown&&t.graphic&&v(t.graphic,\"pointer\",!0)})}),t.addEvent(t.Point,\"afterSetState\",function(){this.drilldown&&this.series.halo&&\"hover\"===this.state?v(this.series.halo,\"pointer\",!0):this.series.halo&&v(this.series.halo,\"auto\",!1)})}(t)},t.exports?t.exports=o:void 0===(i=(function(){return o}).call(e,n,e,t))||(t.exports=i)},RfpG:function(t,e,n){\"use strict\";t.exports={isNode:\"undefined\"!=typeof Buffer,newBufferFrom:function(t,e){return new Buffer(t,e)},allocBuffer:function(t){return Buffer.alloc?Buffer.alloc(t):new Buffer(t)},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&\"function\"==typeof t.on&&\"function\"==typeof t.pause&&\"function\"==typeof t.resume}}},TCCL:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(\"CcnG\"),o=n(\"Ip0R\"),r=n(\"aCrv\"),a=function(){function t(t,e,n){var o=this;this.element=t,this.renderer=e,this.zone=n,this.bufferAmount=0,this.scrollAnimationTime=1500,this.doNotCheckAngularZone=!1,this._items=[],this.refreshHandler=function(){o.refresh()},this.update=new i.EventEmitter,this.change=new i.EventEmitter,this.start=new i.EventEmitter,this.end=new i.EventEmitter,this.startupLoop=!0,this.window=window,this.lastScrollHeight=-1,this.lastScrollWidth=-1,this.lastPadding=-1,this.horizontal=!1}return Object.defineProperty(t.prototype,\"items\",{get:function(){return this._items},set:function(t){t!==this._items&&(this._items=t||[],this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"horizontal\",{get:function(){return this._horizontal},set:function(t){this._horizontal=t,this.updateDirection()},enumerable:!0,configurable:!0}),t.prototype.updateDirection=function(){this._horizontal?(this._offsetType=\"offsetLeft\",this._pageOffsetType=\"pageXOffset\",this._scrollDim=\"scrollWidth\",this._itemsPerScrollDir=\"itemsPerRow\",this._itemsPerOpScrollDir=\"itemsPerCol\",this._childScrollDim=\"childWidth\",this._translateDir=\"translateX\",this._scrollType=\"scrollLeft\"):(this._offsetType=\"offsetTop\",this._pageOffsetType=\"pageYOffset\",this._scrollDim=\"scrollHeight\",this._itemsPerScrollDir=\"itemsPerCol\",this._itemsPerOpScrollDir=\"itemsPerRow\",this._childScrollDim=\"childHeight\",this._translateDir=\"translateY\",this._scrollType=\"scrollTop\")},Object.defineProperty(t.prototype,\"parentScroll\",{get:function(){return this._parentScroll},set:function(t){if(this._parentScroll!==t){this._parentScroll=t,this.addScrollEventHandlers();var e=this.getScrollElement();e!==this.element.nativeElement&&(e.style[\"overflow-y\"]=this.horizontal?\"visible\":\"auto\",e.style[\"overflow-x\"]=this.horizontal?\"auto\":\"visible\")}},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.addScrollEventHandlers()},t.prototype.ngOnDestroy=function(){this.removeScrollEventHandlers()},t.prototype.ngOnChanges=function(t){this.previousStart=void 0,this.previousEnd=void 0;var e=t.items||{};(null!=t.items&&null==e.previousValue||null!=e.previousValue&&0===e.previousValue.length)&&(this.startupLoop=!0,this.itemsLength=this.items.length),this.refresh()},t.prototype.ngDoCheck=function(){this.items&&this.itemsLength!=this.items.length&&(this.previousStart=void 0,this.previousEnd=void 0,this.startupLoop=!0,this.refresh(),this.itemsLength=this.items.length)},t.prototype.refresh=function(t){var e=this;void 0===t&&(t=!1),this.zone.runOutsideAngular(function(){requestAnimationFrame(function(){return e.calculateItems(t)})})},t.prototype.getScrollElement=function(){return this.parentScroll instanceof Window?document.body:this.parentScroll||this.element.nativeElement},t.prototype.scrollInto=function(t){var e=this,n=this.getScrollElement(),i=(this.getElementsOffset(),(this.items||[]).indexOf(t));if(!(i<0||i>=(this.items||[]).length)){var o,a=this.calculateDimensions(),s=Math.floor(i/a[this._itemsPerOpScrollDir])*a[this._childScrollDim]-a[this._childScrollDim]*Math.min(i,this.bufferAmount);if(null!=this.currentTween&&this.currentTween.stop(),this.scrollAnimationTime){var l={};l[this._scrollType]=n[this._scrollType];var u={};u[this._scrollType]=s,this.currentTween=new r.Tween(l).to(u,this.scrollAnimationTime).easing(r.Easing.Quadratic.Out).onUpdate(function(t){isNaN(t[e._scrollType])||(e.renderer.setProperty(n,e._scrollType,t[e._scrollType]),e.refresh())}).onStop(function(){cancelAnimationFrame(o)}).start();var h=function(t){e.currentTween.update(t),e.currentTween._object[e._scrollType]!==s&&e.zone.runOutsideAngular(function(){o=requestAnimationFrame(h)})};h()}else n[this._scrollType]=s}},t.prototype.addScrollEventHandlers=function(){var t=this,e=this.getScrollElement();this.removeScrollEventHandlers(),e&&this.zone.runOutsideAngular(function(){e===document.body?(t.disposeScrollHandler=t.renderer.listen(\"window\",\"scroll\",t.refreshHandler),t.disposeResizeHandler=t.renderer.listen(\"window\",\"resize\",t.refreshHandler)):t.disposeScrollHandler=t.renderer.listen(e,\"scroll\",t.refreshHandler)})},t.prototype.removeScrollEventHandlers=function(){this.disposeScrollHandler&&(this.disposeScrollHandler(),this.disposeScrollHandler=void 0),this.disposeResizeHandler&&(this.disposeResizeHandler(),this.disposeResizeHandler=void 0)},t.prototype.countItemsPerRow=function(){var t,e,n=this.contentElementRef.nativeElement.children;for(e=0;e<n.length&&(null==t||t===n[e].offsetTop);e++)t=n[e].offsetTop;return e},t.prototype.countItemsPerCol=function(){var t,e,n=this.contentElementRef.nativeElement.children;for(e=0;e<n.length&&(null==t||t===n[e].offsetLeft);e++)t=n[e].offsetLeft;return e},t.prototype.getElementsOffset=function(){var t=0;return this.containerElementRef&&this.containerElementRef.nativeElement&&(t+=this.containerElementRef.nativeElement[this._offsetType]),this.parentScroll&&(t+=this.element.nativeElement[this._offsetType]),t},t.prototype.getScrollValue=function(){return this.parentScroll instanceof Window?window[this._pageOffsetType]||document.documentElement[this._scrollType]||document.body[this._scrollType]||0:this.getScrollElement()[this._scrollType]},t.prototype.calculateDimensions=function(){var t=this.getScrollElement(),e=(this.items||[]).length;this.scrollbarWidth||(this.scrollbarWidth=t.offsetWidth-t.clientWidth),this.scrollbarHeight||(this.scrollbarHeight=t.offsetHeight-t.clientHeight);var n,i=t.clientWidth-this.scrollbarWidth,o=t.clientHeight-this.scrollbarHeight;if(null==this.childWidth||null==this.childHeight){var r=this.contentElementRef.nativeElement;this.containerElementRef&&this.containerElementRef.nativeElement&&(r=this.containerElementRef.nativeElement),n=r.children[0]?r.children[0].getBoundingClientRect():{width:i,height:o}}var a=this.childWidth||n.width,s=this.childHeight||n.height,l=-1,u=-1,h=-1,c=-1;this.horizontal?(l=Math.max(1,this.countItemsPerCol()),u=Math.max(1,Math.floor(o/s)),h=Math.max(1,Math.floor(i/a))):(h=Math.max(1,this.countItemsPerRow()),c=Math.max(1,Math.floor(i/a)),l=Math.max(1,Math.floor(o/s)));var d=this.getScrollValue(),p=Math.max(0,d),f=s*Math.ceil(e/h),g=a*Math.ceil(e/l);return!this.horizontal&&1===l&&Math.floor(p/f*e)+c>=e&&(h=c),this.horizontal&&1===h&&Math.floor(p/g*e)+u>=e&&(l=u),f===this.lastScrollHeight||this.horizontal||(this.renderer.setStyle(this.shimElementRef.nativeElement,\"height\",f+\"px\"),this.lastScrollHeight=f),g!==this.lastScrollWidth&&this.horizontal&&(this.renderer.setStyle(this.shimElementRef.nativeElement,\"width\",g+\"px\"),this.lastScrollWidth=g),{itemCount:e,viewWidth:i,viewHeight:o,childWidth:a,childHeight:s,itemsPerRow:h,itemsPerCol:l,itemsPerRowByCalc:c,itemsPerColByCalc:u,scrollHeight:f,scrollWidth:g}},t.prototype.calculateItems=function(t){var e=this;void 0===t&&(t=!1),this.doNotCheckAngularZone||i.NgZone.assertNotInAngularZone(),this.getScrollElement();var n=this.calculateDimensions(),o=this.items||[],r=this.getElementsOffset(),a=this.getScrollValue();a>n[this._scrollDim]&&!(this.parentScroll instanceof Window)&&(a=n[this._scrollDim]+r);var s=Math.max(0,a-r)/n[this._scrollDim]*n.itemCount/(this.horizontal?n.itemsPerCol:n.itemsPerRow),l=Math.min(n.itemCount,Math.ceil(s)*n[this._itemsPerOpScrollDir]+n[this._itemsPerOpScrollDir]*(n[this._itemsPerScrollDir]+1)),u=l,h=l%n[this._itemsPerOpScrollDir];h&&(u=l+n[this._itemsPerOpScrollDir]-h);var c=Math.max(0,u-n[this._itemsPerScrollDir]*n[this._itemsPerOpScrollDir]-n[this._itemsPerOpScrollDir]),d=Math.min(c,Math.floor(s)*n[this._itemsPerOpScrollDir]),p=null==o||0===o.length?0:n[this._childScrollDim]*Math.ceil(d/n[this._itemsPerOpScrollDir])-n[this._childScrollDim]*Math.min(d,this.bufferAmount);p!==this.lastPadding&&(this.renderer.setStyle(this.contentElementRef.nativeElement,\"transform\",this._translateDir+\"(\"+p+\"px)\"),this.renderer.setStyle(this.contentElementRef.nativeElement,\"webkitTransform\",this._translateDir+\"(\"+p+\"px)\"),this.lastPadding=p),d=isNaN(d)?-1:d,l=isNaN(l)?-1:l,d-=this.bufferAmount,d=Math.max(0,d),l+=this.bufferAmount,l=Math.min(o.length,l),d!==this.previousStart||l!==this.previousEnd||!0===t?this.zone.run(function(){e.viewPortItems=o.slice(d,l>=0?l:0),e.update.emit(e.viewPortItems),d!==e.previousStart&&!1===e.startupLoop&&e.start.emit({start:d,end:l}),l!==e.previousEnd&&!1===e.startupLoop&&e.end.emit({start:d,end:l}),e.previousStart=d,e.previousEnd=l,!0===e.startupLoop?e.refresh():e.change.emit({start:d,end:l})}):!0===this.startupLoop&&(this.startupLoop=!1,this.change.emit({start:d,end:l}),this.refresh())},t.decorators=[{type:i.Component,args:[{selector:\"virtual-scroll,[virtualScroll]\",exportAs:\"virtualScroll\",template:'\\n    <div class=\"total-padding\" #shim></div>\\n    <div class=\"scrollable-content\" #content>\\n      <ng-content></ng-content>\\n    </div>\\n  ',host:{\"[class.horizontal]\":\"horizontal\",\"[class.vertical]\":\"!horizontal\",\"[class.selfScroll]\":\"!parentScroll\"},styles:[\"\\n    :host {\\n      position: relative;\\n\\t  display: block;\\n      -webkit-overflow-scrolling: touch;\\n    }\\n\\t\\n\\t:host.horizontal.selfScroll {\\n      overflow-y: visible;\\n      overflow-x: auto;\\n\\t}\\n\\t:host.vertical.selfScroll {\\n      overflow-y: auto;\\n      overflow-x: visible;\\n\\t}\\n\\t\\n    .scrollable-content {\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: 100%;\\n      position: absolute;\\n    }\\n\\t\\n\\t:host.horizontal {\\n\\t\\twhite-space: nowrap;\\n\\t}\\n\\t\\n\\t:host.horizontal .scrollable-content ::ng-deep > * {\\n\\t\\twhite-space: initial;\\n\\t}\\n\\t\\n    .total-padding {\\n      width: 1px;\\n      opacity: 0;\\n    }\\n    \\n    :host.horizontal .total-padding {\\n      height: 100%;\\n    }\\n  \"]}]}],t.propDecorators={scrollbarWidth:[{type:i.Input}],scrollbarHeight:[{type:i.Input}],childWidth:[{type:i.Input}],childHeight:[{type:i.Input}],bufferAmount:[{type:i.Input}],scrollAnimationTime:[{type:i.Input}],doNotCheckAngularZone:[{type:i.Input}],items:[{type:i.Input}],horizontal:[{type:i.Input}],parentScroll:[{type:i.Input}],update:[{type:i.Output}],change:[{type:i.Output}],start:[{type:i.Output}],end:[{type:i.Output}],contentElementRef:[{type:i.ViewChild,args:[\"content\",{read:i.ElementRef}]}],shimElementRef:[{type:i.ViewChild,args:[\"shim\",{read:i.ElementRef}]}],containerElementRef:[{type:i.ContentChild,args:[\"container\"]}]},t}();e.VirtualScrollComponent=a,e.VirtualScrollModule=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{exports:[a],declarations:[a],imports:[o.CommonModule]}]}],t}()},\"TCJ/\":function(t,e,n){\"use strict\";var i=n(\"bl3E\"),o=n(\"9aYe\"),r=n(\"er0w\"),a=n(\"F/6a\"),s=(n(\"MdMo\"),n(\"Mi3D\"));function l(t){this.files=[],this.loadOptions=t}l.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+o.pretty(e)+\", expected \"+o.pretty(t)+\")\")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=o.transformTo(s.uint8array?\"uint8array\":\"array\",t);this.zipComment=this.loadOptions.decodeFileName(e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)this.reader.setIndex((e=this.files[t]).localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error(\"Corrupted zip: can't find end of central directory\"):new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\");this.reader.setIndex(t);var e=t;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(t),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=e-n;if(i>0)this.isSignature(e,r.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(i)+\" bytes.\")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},Tcbo:function(t,e,n){\"use strict\";t.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},Tos5:function(t,e,n){var i,o;o=function(t){!function(t){var e=t.seriesTypes,n=t.Chart.prototype,i=t.getOptions(),o=t.extend,r=t.each;o(i.lang,{noData:\"No data to display\"}),i.noData={position:{x:0,y:0,align:\"center\",verticalAlign:\"middle\"}},i.noData.style={fontWeight:\"bold\",fontSize:\"12px\",color:\"#666666\"},r(\"bubble gauge heatmap pie sankey treemap waterfall\".split(\" \"),function(t){e[t]&&(e[t].prototype.hasData=function(){return!!this.points.length})}),t.Series.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin},n.showNoData=function(t){var e=this.options;t=t||e&&e.lang.noData,e=e&&e.noData,!this.noDataLabel&&this.renderer&&(this.noDataLabel=this.renderer.label(t,0,0,null,null,null,e.useHTML,null,\"no-data\"),this.noDataLabel.attr(e.attr).css(e.style),this.noDataLabel.add(),this.noDataLabel.align(o(this.noDataLabel.getBBox(),e.position),!1,\"plotBox\"))},n.hideNoData=function(){this.noDataLabel&&(this.noDataLabel=this.noDataLabel.destroy())},n.hasData=function(){for(var t=this.series||[],e=t.length;e--;)if(t[e].hasData()&&!t[e].options.isInternal)return!0;return this.loadingShown},t.addEvent(t.Chart,\"render\",function(){this.hasData()?this.hideNoData():this.showNoData()})}(t)},t.exports?t.exports=o:void 0===(i=(function(){return o}).call(e,n,e,t))||(t.exports=i)},\"U/wY\":function(t,e,n){\"use strict\";var i=n(\"9aYe\");function o(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+t+\"). Corrupted zip ?\")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo(\"string\",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},t.exports=o},Uhae:function(t,e,n){\"use strict\";var i=n(\"U/wY\");function o(t){i.call(this,t)}n(\"9aYe\").inherits(o,i),o.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},o.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},o.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},o.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=o},V4Ck:function(t,e){t.exports=function(t){return\"object\"==typeof t?null!==t:\"function\"==typeof t}},VJTW:function(t,e,n){\"use strict\";var i=n(\"J5BL\"),o=n(\"pM5F\"),r=n(\"G2Qt\"),a=n(\"4MRP\");function s(t,e,n,i,o){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=o}r=n(\"G2Qt\"),s.prototype={getContentWorker:function(){var t=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new r(\"data_length\")),e=this;return t.on(\"end\",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")}),t},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},s.createWorkerFrom=function(t,e,n){return t.pipe(new a).pipe(new r(\"uncompressedSize\")).pipe(e.compressWorker(n)).pipe(new r(\"compressedSize\")).withStreamInfo(\"compression\",e)},t.exports=s},WogM:function(t,e,n){n(\"/mAQ\");var i=n(\"dHQd\"),o=n(\"1I5h\");t.exports=function(t,e){var n=e||o.multi(t),r=32*n.length+1,a=o.bytesPer(n),s=new ArrayBuffer(r+32+a*t.length+1),l=new Date,u=new DataView(s);return u.setUint8(0,3),u.setUint8(1,l.getFullYear()-1900),u.setUint8(2,l.getMonth()),u.setUint8(3,l.getDate()),u.setUint32(4,t.length,!0),u.setUint16(8,r+32,!0),u.setUint16(10,a,!0),u.setInt8(32+r-1,13),n.forEach(function(t,e){t.name.split(\"\").slice(0,8).forEach(function(t,n){u.setInt8(32+32*e+n,t.charCodeAt(0))}),u.setInt8(32+32*e+11,t.type.charCodeAt(0)),u.setInt8(32+32*e+16,t.size),\"N\"==t.type&&u.setInt8(32+32*e+17,3)}),offset=r+32,t.forEach(function(t,e){u.setUint8(offset,32),offset++,n.forEach(function(e){var n=t[e.name];switch(null==n&&(n=\"\"),e.type){case\"L\":u.setUint8(offset,n?84:70),offset++;break;case\"D\":offset=i.writeField(u,8,i.lpad(n.toString(),8,\" \"),offset);break;case\"N\":offset=i.writeField(u,e.size,i.lpad(n.toString(),e.size,\" \").substr(0,18),offset);break;case\"C\":offset=i.writeField(u,e.size,i.rpad(n.toString(),e.size,\" \"),offset);break;default:throw new Error(\"Unknown field type\")}})}),u.setUint8(offset,26),u}},Ynvf:function(t,e,n){t.exports=!n(\"PEBU\")(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},YqD2:function(t,e,n){\"use strict\";var i=n(\"Ecau\");function o(t){i.call(this,t)}n(\"9aYe\").inherits(o,i),o.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=o},ZK94:function(t,e){t.exports.RADIUS=6378137,t.exports.FLATTENING=1/298.257223563,t.exports.POLAR_RADIUS=6356752.3142},Zjou:function(t,e,n){var i=n(\"V4Ck\");t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&\"function\"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if(\"function\"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&\"function\"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError(\"Can't convert object to primitive value\")}},Zm6R:function(t,e,n){\"use strict\";var i=n(\"9aYe\"),o=n(\"2Lu3\");function r(t,e){o.call(this,\"Nodejs stream input adapter for \"+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(r,o),r.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on(\"data\",function(t){e.push({data:t,meta:{percent:0}})}).on(\"error\",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on(\"end\",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},r.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=r},aCrv:function(t,e,n){var i,o=function(){this._tweens={},this._tweensAddedDuringUpdate={}};o.prototype={getAll:function(){return Object.keys(this._tweens).map((function(t){return this._tweens[t]}).bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(t=void 0!==t?t:a.now();n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var o=this._tweens[n[i]];o&&!1===o.update(t)&&(o._isPlaying=!1,e||delete this._tweens[n[i]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var r,a=new o;a.Group=o,a._nextId=0,a.nextId=function(){return a._nextId++},a.now=\"undefined\"==typeof window&&\"undefined\"!=typeof process?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:\"undefined\"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now.bind(window.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},a.Tween=function(t,e){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=a.Easing.Linear.None,this._interpolationFunction=a.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||a,this._id=a.nextId()},a.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,e){return this._valuesEnd=t,void 0!==e&&(this._duration=e),this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?\"string\"==typeof t?a.now()+parseFloat(t):t:a.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==0&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(this._startTime+this._duration),this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,n,i;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(t-this._startTime)/this._duration,i=this._easingFunction(n=0===this._duration||n>1?1:n),this._valuesEnd)if(void 0!==this._valuesStart[e]){var o=this._valuesStart[e]||0,r=this._valuesEnd[e];r instanceof Array?this._object[e]=this._interpolationFunction(r,i):(\"string\"==typeof r&&(r=\"+\"===r.charAt(0)||\"-\"===r.charAt(0)?o+parseFloat(r):parseFloat(r)),\"number\"==typeof r&&(this._object[e]=o+(r-o)*i))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object),1===n){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if(\"string\"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var a=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=a}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),this._startTime=void 0!==this._repeatDelayTime?t+this._repeatDelayTime:t+this._delayTime,!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,l=this._chainedTweens.length;s<l;s++)this._chainedTweens[s].start(this._startTime+this._duration);return!1}return!0}},a.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-a.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*a.Easing.Bounce.In(2*t):.5*a.Easing.Bounce.Out(2*t-1)+.5}}},a.Interpolation={Linear:function(t,e){var n=t.length-1,i=n*e,o=Math.floor(i),r=a.Interpolation.Utils.Linear;return e<0?r(t[0],t[1],i):e>1?r(t[n],t[n-1],n-i):r(t[o],t[o+1>n?n:o+1],i-o)},Bezier:function(t,e){for(var n=0,i=t.length-1,o=Math.pow,r=a.Interpolation.Utils.Bernstein,s=0;s<=i;s++)n+=o(1-e,i-s)*o(e,s)*t[s]*r(i,s);return n},CatmullRom:function(t,e){var n=t.length-1,i=n*e,o=Math.floor(i),r=a.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(o=Math.floor(i=n*(1+e))),r(t[(o-1+n)%n],t[o],t[(o+1)%n],t[(o+2)%n],i-o)):e<0?t[0]-(r(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(r(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):r(t[o?o-1:0],t[o],t[n<o+1?n:o+1],t[n<o+2?n:o+2],i-o)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=a.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(r=[1],function(t){var e=1;if(r[t])return r[t];for(var n=t;n>1;n--)e*=n;return r[t]=e,e}),CatmullRom:function(t,e,n,i,o){var r=.5*(n-t),a=.5*(i-e),s=o*o;return(2*e-2*n+r+a)*(o*s)+(-3*e+3*n-2*r-a)*s+r*o+e}}},void 0===(i=(function(){return a}).apply(e,[]))||(t.exports=i)},aFNf:function(t,e,n){\"use strict\";var i=n(\"vn/o\"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,l,u,h,c,d){var p,f,g,m,v,y,_,b,x,w=d.bits,C=0,k=0,O=0,M=0,L=0,S=0,P=0,T=0,I=0,A=0,z=null,D=0,E=new i.Buf16(16),R=new i.Buf16(16),N=null,B=0;for(C=0;C<=15;C++)E[C]=0;for(k=0;k<l;k++)E[e[n+k]]++;for(L=w,M=15;M>=1&&0===E[M];M--);if(L>M&&(L=M),0===M)return u[h++]=20971520,u[h++]=20971520,d.bits=1,0;for(O=1;O<M&&0===E[O];O++);for(L<O&&(L=O),T=1,C=1;C<=15;C++)if(T<<=1,(T-=E[C])<0)return-1;if(T>0&&(0===t||1!==M))return-1;for(R[1]=0,C=1;C<15;C++)R[C+1]=R[C]+E[C];for(k=0;k<l;k++)0!==e[n+k]&&(c[R[e[n+k]]++]=k);if(0===t?(z=N=c,y=19):1===t?(z=o,D-=257,N=r,B-=257,y=256):(z=a,N=s,y=-1),A=0,k=0,C=O,v=h,S=L,P=0,g=-1,m=(I=1<<L)-1,1===t&&I>852||2===t&&I>592)return 1;for(;;){_=C-P,c[k]<y?(b=0,x=c[k]):c[k]>y?(b=N[B+c[k]],x=z[D+c[k]]):(b=96,x=0),p=1<<C-P,O=f=1<<S;do{u[v+(A>>P)+(f-=p)]=_<<24|b<<16|x|0}while(0!==f);for(p=1<<C-1;A&p;)p>>=1;if(0!==p?(A&=p-1,A+=p):A=0,k++,0==--E[C]){if(C===M)break;C=e[n+c[k]]}if(C>L&&(A&m)!==g){for(0===P&&(P=L),v+=O,T=1<<(S=C-P);S+P<M&&!((T-=E[S+P])<=0);)S++,T<<=1;if(I+=1<<S,1===t&&I>852||2===t&&I>592)return 1;u[g=A&m]=L<<24|S<<16|v-h|0}}return 0!==A&&(u[v+A]=C-P<<24|64<<16|0),d.bits=L,0}},bQfd:function(t,e){t.exports=function(t){if(\"function\"!=typeof t)throw TypeError(t+\" is not a function!\");return t}},bWsk:function(t,e,n){\"use strict\";var i=n(\"9aYe\"),o=n(\"sCty\"),r=n(\"2Lu3\"),a=n(\"4bvL\"),s=n(\"Mi3D\"),l=n(\"J5BL\"),u=null;if(s.nodestream)try{u=n(\"irp2\")}catch(c){}function h(t,e,n){var a=e;switch(e){case\"blob\":case\"arraybuffer\":a=\"uint8array\";break;case\"base64\":a=\"string\"}try{this._internalType=a,this._outputType=e,this._mimeType=n,i.checkSupport(a),this._worker=t.pipe(new o(a)),t.lock()}catch(c){this._worker=new r(\"error\"),this._worker.error(c)}}h.prototype={accumulate:function(t){return e=this,n=t,new l.Promise(function(t,o){var r=[],s=e._internalType,l=e._outputType,u=e._mimeType;e.on(\"data\",function(t,e){r.push(t),n&&n(e)}).on(\"error\",function(t){r=[],o(t)}).on(\"end\",function(){try{var e=function(t,e,n){switch(t){case\"blob\":return i.newBlob(i.transformTo(\"arraybuffer\",e),n);case\"base64\":return a.encode(e);default:return i.transformTo(t,e)}}(l,function(t,e){var n,i=0,o=null,r=0;for(n=0;n<e.length;n++)r+=e[n].length;switch(t){case\"string\":return e.join(\"\");case\"array\":return Array.prototype.concat.apply([],e);case\"uint8array\":for(o=new Uint8Array(r),n=0;n<e.length;n++)o.set(e[n],i),i+=e[n].length;return o;case\"nodebuffer\":return Buffer.concat(e);default:throw new Error(\"concat : unsupported type '\"+t+\"'\")}}(s,r),u);t(e)}catch(c){o(c)}r=[]}).resume()});var e,n},on:function(t,e){var n=this;return this._worker.on(t,\"data\"===t?function(t){e.call(n,t.data,t.meta)}:function(){i.delay(e,arguments,n)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(i.checkSupport(\"nodestream\"),\"nodebuffer\"!==this._outputType)throw new Error(this._outputType+\" is not supported by this method\");return new u(this,{objectMode:\"nodebuffer\"!==this._outputType},t)}},t.exports=h},bl3E:function(t,e,n){\"use strict\";var i=n(\"9aYe\"),o=n(\"Mi3D\"),r=n(\"cLpG\"),a=n(\"Uhae\"),s=n(\"YqD2\"),l=n(\"Ecau\");t.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),\"string\"!==e||o.uint8array?\"nodebuffer\"===e?new s(t):o.uint8array?new l(i.transformTo(\"uint8array\",t)):new r(i.transformTo(\"array\",t)):new a(t)}},cLpG:function(t,e,n){\"use strict\";var i=n(\"U/wY\");function o(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}n(\"9aYe\").inherits(o,i),o.prototype.byteAt=function(t){return this.data[this.zero+t]},o.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),o=t.charCodeAt(3),r=this.length-4;r>=0;--r)if(this.data[r]===e&&this.data[r+1]===n&&this.data[r+2]===i&&this.data[r+3]===o)return r-this.zero;return-1},o.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),o=t.charCodeAt(3),r=this.readData(4);return e===r[0]&&n===r[1]&&i===r[2]&&o===r[3]},o.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=o},cX6o:function(t,e,n){\"use strict\";var i=n(\"nm4c\"),o=n(\"vn/o\"),r=n(\"eydS\"),a=n(\"LOvY\"),s=n(\"Tcbo\"),l=n(\"iTZm\"),u=n(\"gBP8\"),h=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=o.assign({chunkSize:16384,windowBits:0,to:\"\"},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new u,i.inflateGetHeader(this.strm,this.header)}function d(t,e){var n=new c(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}c.prototype.push=function(t,e){var n,s,l,u,c,d,p=this.strm,f=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,p.input=\"string\"==typeof t?r.binstring2buf(t):\"[object ArrayBuffer]\"===h.call(t)?new Uint8Array(t):t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new o.Buf8(f),p.next_out=0,p.avail_out=f),(n=i.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&g&&(d=\"string\"==typeof g?r.string2buf(g):\"[object ArrayBuffer]\"===h.call(g)?new Uint8Array(g):g,n=i.inflateSetDictionary(this.strm,d)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==a.Z_STREAM_END&&(0!==p.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(l=r.utf8border(p.output,p.next_out),u=p.next_out-l,c=r.buf2string(p.output,l),p.next_out=u,p.avail_out=f-u,u&&o.arraySet(p.output,p.output,l,u,0),this.onData(c)):this.onData(o.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(m=!0)}while((p.avail_in>0||0===p.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),p.avail_out=0,!0)},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===a.Z_OK&&(this.result=\"string\"===this.options.to?this.chunks.join(\"\"):o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=c,e.inflate=d,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},e.ungzip=d},cdN8:function(t,e,n){n(\"C+oh\"),t.exports=n(\"dmCu\").setImmediate},dHQd:function(t,e){t.exports.lpad=function(t,e,n){for(;t.length<e;)t=n+t;return t},t.exports.rpad=function(t,e,n){for(;t.length<e;)t+=n;return t},t.exports.writeField=function(t,e,n,i){for(var o=0;o<e;o++)t.setUint8(i,n.charCodeAt(o)),i++;return i}},dmCu:function(t,e){var n=t.exports={version:\"2.3.0\"};\"number\"==typeof __e&&(__e=n)},er0w:function(t,e,n){\"use strict\";e.LOCAL_FILE_HEADER=\"PK\\x03\\x04\",e.CENTRAL_FILE_HEADER=\"PK\\x01\\x02\",e.CENTRAL_DIRECTORY_END=\"PK\\x05\\x06\",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\\x06\\x07\",e.ZIP64_CENTRAL_DIRECTORY_END=\"PK\\x06\\x06\",e.DATA_DESCRIPTOR=\"PK\\x07\\b\"},eydS:function(t,e,n){\"use strict\";var i=n(\"vn/o\"),o=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(u){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){r=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(t,e){if(e<65537&&(t.subarray&&r||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n=\"\",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,e.string2buf=function(t){var e,n,o,r,a,s=t.length,l=0;for(r=0;r<s;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(o=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(o-56320),r++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(l),a=0,r=0;a<l;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(o=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(o-56320),r++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return l(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,o=e.length;n<o;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,o,r,s=e||t.length,u=new Array(2*s);for(i=0,n=0;n<s;)if((o=t[n++])<128)u[i++]=o;else if((r=a[o])>4)u[i++]=65533,n+=r-1;else{for(o&=2===r?31:3===r?15:7;r>1&&n<s;)o=o<<6|63&t[n++],r--;r>1?u[i++]=65533:o<65536?u[i++]=o:(u[i++]=55296|(o-=65536)>>10&1023,u[i++]=56320|1023&o)}return l(u,i)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e}},fDnD:function(t,e,n){\"use strict\";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files={},this.comment=null,this.root=\"\",this.clone=function(){var t=new i;for(var e in this)\"function\"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=n(\"tkqm\")).loadAsync=n(\"vI6n\"),i.support=n(\"Mi3D\"),i.defaults=n(\"itLX\"),i.version=\"3.1.5\",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=n(\"J5BL\"),t.exports=i},fFCC:function(t,e,n){\"use strict\";var i=n(\"9aYe\"),o=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e){return void 0!==t&&t.length?\"string\"!==i.getTypeOf(t)?function(e,n,i,r){var a=o,s=0+t.length;e^=-1;for(var l=0;l<s;l++)e=e>>>8^a[255&(e^n[l])];return-1^e}(0|e,t):function(e,n,i,r){var a=o,s=0+t.length;e^=-1;for(var l=0;l<s;l++)e=e>>>8^a[255&(e^n.charCodeAt(l))];return-1^e}(0|e,t):0}},frGm:function(t,e,n){\"use strict\";t.exports=function(t,e){var n,i,o,r,a,s,l,u,h,c,d,p,f,g,m,v,y,_,b,x,w,C,k,O,M;O=t.input,o=(i=t.next_in)+(t.avail_in-5),M=t.output,a=(r=t.next_out)-(e-t.avail_out),s=r+(t.avail_out-257),l=(n=t.state).dmax,u=n.wsize,h=n.whave,c=n.wnext,d=n.window,p=n.hold,f=n.bits,g=n.lencode,m=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{f<15&&(p+=O[i++]<<f,p+=O[i++]<<(f+=8),f+=8),_=g[p&v];e:for(;;){if(p>>>=b=_>>>24,f-=b,0==(b=_>>>16&255))M[r++]=65535&_;else{if(!(16&b)){if(0==(64&b)){_=g[(65535&_)+(p&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg=\"invalid literal/length code\",n.mode=30;break t}x=65535&_,(b&=15)&&(f<b&&(p+=O[i++]<<f,f+=8),x+=p&(1<<b)-1,p>>>=b,f-=b),f<15&&(p+=O[i++]<<f,p+=O[i++]<<(f+=8),f+=8),_=m[p&y];n:for(;;){if(p>>>=b=_>>>24,f-=b,!(16&(b=_>>>16&255))){if(0==(64&b)){_=m[(65535&_)+(p&(1<<b)-1)];continue n}t.msg=\"invalid distance code\",n.mode=30;break t}if(w=65535&_,f<(b&=15)&&(p+=O[i++]<<f,(f+=8)<b&&(p+=O[i++]<<f,f+=8)),(w+=p&(1<<b)-1)>l){t.msg=\"invalid distance too far back\",n.mode=30;break t}if(p>>>=b,f-=b,w>(b=r-a)){if((b=w-b)>h&&n.sane){t.msg=\"invalid distance too far back\",n.mode=30;break t}if(C=0,k=d,0===c){if(C+=u-b,b<x){x-=b;do{M[r++]=d[C++]}while(--b);C=r-w,k=M}}else if(c<b){if(C+=u+c-b,(b-=c)<x){x-=b;do{M[r++]=d[C++]}while(--b);if(C=0,c<x){x-=b=c;do{M[r++]=d[C++]}while(--b);C=r-w,k=M}}}else if(C+=c-b,b<x){x-=b;do{M[r++]=d[C++]}while(--b);C=r-w,k=M}for(;x>2;)M[r++]=k[C++],M[r++]=k[C++],M[r++]=k[C++],x-=3;x&&(M[r++]=k[C++],x>1&&(M[r++]=k[C++]))}else{C=r-w;do{M[r++]=M[C++],M[r++]=M[C++],M[r++]=M[C++],x-=3}while(x>2);x&&(M[r++]=M[C++],x>1&&(M[r++]=M[C++]))}break}}break}}while(i<o&&r<s);p&=(1<<(f-=(x=f>>3)<<3))-1,t.next_in=i-=x,t.next_out=r,t.avail_in=i<o?o-i+5:5-(i-o),t.avail_out=r<s?s-r+257:257-(r-s),n.hold=p,n.bits=f}},gBP8:function(t,e,n){\"use strict\";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},h2Qs:function(t,e,n){var i=n(\"+YJ1\"),o=n(\"CU6g\"),r=n(\"Zjou\"),a=Object.defineProperty;e.f=n(\"Ynvf\")?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return a(t,e,n)}catch(s){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported!\");return\"value\"in n&&(t[e]=n.value),t}},iFxG:function(t,e,n){\"use strict\";var i=n(\"bWsk\"),o=n(\"pM5F\"),r=n(\"MdMo\"),a=n(\"VJTW\"),s=n(\"2Lu3\"),l=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(t){var e=null,n=\"string\";try{if(!t)throw new Error(\"No output type specified.\");var o=\"string\"===(n=t.toLowerCase())||\"text\"===n;\"binarystring\"!==n&&\"text\"!==n||(n=\"string\"),e=this._decompressWorker();var a=!this._dataBinary;a&&!o&&(e=e.pipe(new r.Utf8EncodeWorker)),!a&&o&&(e=e.pipe(new r.Utf8DecodeWorker))}catch(l){(e=new s(\"error\")).error(l)}return new i(e,n,\"\")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||\"nodebuffer\").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof a&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new r.Utf8EncodeWorker)),a.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new o(this._data)}};for(var u=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],h=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},c=0;c<u.length;c++)l.prototype[u[c]]=h;t.exports=l},iTZm:function(t,e,n){\"use strict\";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},iTcJ:function(t,e,n){var i,o;o=function(t){!function(t){function e(e,n){var i=a.getElementsByTagName(\"head\")[0],o=a.createElement(\"script\");o.type=\"text/javascript\",o.src=e,o.onload=n,o.onerror=function(){t.error(\"Error loading script \"+e)},i.appendChild(o)}var n=t.addEvent,i=t.merge,o=t.win,r=o.navigator,a=o.document,s=t.each,l=o.URL||o.webkitURL||o,u=/Edge\\/|Trident\\/|MSIE /.test(r.userAgent),h=/Edge\\/\\d+/.test(r.userAgent),c=u?150:0;t.CanVGRenderer={},t.dataURLtoBlob=function(t){if(o.atob&&o.ArrayBuffer&&o.Uint8Array&&o.Blob&&l.createObjectURL){t=t.match(/data:([^;]*)(;base64)?,([0-9A-Za-z+\\/]+)/);for(var e=o.atob(t[3]),n=new o.ArrayBuffer(e.length),i=(n=new o.Uint8Array(n),0);i<n.length;++i)n[i]=e.charCodeAt(i);return t=new o.Blob([n],{type:t[1]}),l.createObjectURL(t)}},t.downloadURL=function(e,n){var i=a.createElement(\"a\");if(\"string\"==typeof e||e instanceof String||!r.msSaveOrOpenBlob){if((h||2e6<e.length)&&!(e=t.dataURLtoBlob(e)))throw\"Data URL length limit reached\";if(void 0!==i.download)i.href=e,i.download=n,a.body.appendChild(i),i.click(),a.body.removeChild(i);else try{if(null==o.open(e,\"chart\"))throw\"Failed to open window\"}catch(s){o.location.href=e}}else r.msSaveOrOpenBlob(e,n)},t.svgToDataUrl=function(t){var e=-1<r.userAgent.indexOf(\"WebKit\")&&0>r.userAgent.indexOf(\"Chrome\");try{if(!e&&0>r.userAgent.toLowerCase().indexOf(\"firefox\"))return l.createObjectURL(new o.Blob([t],{type:\"image/svg+xml;charset-utf-16\"}))}catch(n){}return\"data:image/svg+xml;charset=UTF-8,\"+encodeURIComponent(t)},t.imageToDataUrl=function(t,e,n,i,r,s,l,u,h){var d,p=new o.Image,f=function(){setTimeout(function(){var o,s=a.createElement(\"canvas\"),u=s.getContext&&s.getContext(\"2d\");try{if(u){s.height=p.height*i,s.width=p.width*i,u.drawImage(p,0,0,s.width,s.height);try{o=s.toDataURL(e),r(o,e,n,i)}catch(c){d(t,e,n,i)}}else l(t,e,n,i)}finally{h&&h(t,e,n,i)}},c)},g=function(){u(t,e,n,i),h&&h(t,e,n,i)};d=function(){p=new o.Image,d=s,p.crossOrigin=\"Anonymous\",p.onload=f,p.onerror=g,p.src=t},p.onload=f,p.onerror=g,p.src=t},t.downloadSVGLocal=function(n,i,u,h){function c(t,e){return e=new o.jsPDF(\"l\",\"pt\",[t.width.baseVal.value+2*e,t.height.baseVal.value+2*e]),s(t.querySelectorAll('*[visibility=\"hidden\"]'),function(t){t.parentNode.removeChild(t)}),o.svg2pdf(t,e,{removeInvalid:!0}),e.output(\"datauristring\")}function d(){y.innerHTML=n;var e,i=y.getElementsByTagName(\"text\");s(i,function(t){s([\"font-family\",\"font-size\"],function(e){for(var n=t;n&&n!==y;){if(n.style[e]){t.style[e]=n.style[e];break}n=n.parentNode}}),t.style[\"font-family\"]=t.style[\"font-family\"]&&t.style[\"font-family\"].split(\" \").splice(-1),e=t.getElementsByTagName(\"title\"),s(e,function(e){t.removeChild(e)})}),i=c(y.firstChild,0);try{t.downloadURL(i,b),h&&h()}catch(o){u(o)}}var p,f,g,m=!0,v=i.libURL||t.getOptions().exporting.libURL,y=a.createElement(\"div\"),_=i.type||\"image/png\",b=(i.filename||\"chart\")+\".\"+(\"image/svg+xml\"===_?\"svg\":_.split(\"/\")[1]),x=i.scale||1;if(v=\"/\"!==v.slice(-1)?v+\"/\":v,\"image/svg+xml\"===_)try{r.msSaveOrOpenBlob?((f=new MSBlobBuilder).append(n),p=f.getBlob(\"image/svg+xml\")):p=t.svgToDataUrl(n),t.downloadURL(p,b),h&&h()}catch(w){u(w)}else\"application/pdf\"===_?o.jsPDF&&o.svg2pdf?d():(m=!0,e(v+\"jspdf.js\",function(){e(v+\"svg2pdf.js\",function(){d()})})):(p=t.svgToDataUrl(n),g=function(){try{l.revokeObjectURL(p)}catch(w){}},t.imageToDataUrl(p,_,{},x,function(e){try{t.downloadURL(e,b),h&&h()}catch(n){u(n)}},function(){var i=a.createElement(\"canvas\"),s=i.getContext(\"2d\"),l=n.match(/^<svg[^>]*width\\s*=\\s*\\\"?(\\d+)\\\"?[^>]*>/)[1]*x,c=n.match(/^<svg[^>]*height\\s*=\\s*\\\"?(\\d+)\\\"?[^>]*>/)[1]*x,d=function(){s.drawSvg(n,0,0,l,c);try{t.downloadURL(r.msSaveOrOpenBlob?i.msToBlob():i.toDataURL(_),b),h&&h()}catch(e){u(e)}finally{g()}};i.width=l,i.height=c,o.canvg?d():(m=!0,e(v+\"rgbcolor.js\",function(){e(v+\"canvg.js\",function(){d()})}))},u,u,function(){m&&g()}))},t.Chart.prototype.getSVGForLocalExport=function(e,i,o,r){var a,s,l,u,h,c,d=this,p=0,f=function(t,e,n){++p,n.imageElement.setAttributeNS(\"http://www.w3.org/1999/xlink\",\"href\",t),p===a.length&&r(d.sanitizeSVG(s.innerHTML,l))};d.unbindGetSVG=n(d,\"getSVG\",function(t){l=t.chartCopy.options,s=t.chartCopy.container.cloneNode(!0)}),d.getSVGForExport(e,i),a=s.getElementsByTagName(\"image\");try{if(!a.length)return void r(d.sanitizeSVG(s.innerHTML,l));for(h=0,c=a.length;h<c;++h)t.imageToDataUrl((u=a[h]).getAttributeNS(\"http://www.w3.org/1999/xlink\",\"href\"),\"image/png\",{imageElement:u},e.scale,f,o,o,o)}catch(g){o(g)}d.unbindGetSVG()},t.Chart.prototype.exportChartLocal=function(e,n){var i=this,o=t.merge(i.options.exporting,e),r=function(e){!1===o.fallbackToExportServer?o.error?o.error(o,e):t.error(28,!0):i.exportChart(o)};u&&(\"application/pdf\"===o.type||i.container.getElementsByTagName(\"image\").length&&\"image/svg+xml\"!==o.type)||\"application/pdf\"===o.type&&i.container.getElementsByTagName(\"image\").length?r(\"Image type not supported for this chart/browser.\"):i.getSVGForLocalExport(o,n,r,function(e){-1<e.indexOf(\"<foreignObject\")&&\"image/svg+xml\"!==o.type?r(\"Image type not supported for charts with embedded HTML\"):t.downloadSVGLocal(e,o,r)})},i(!0,t.getOptions().exporting,{libURL:\"https://code.highcharts.com/6.2.0/lib/\",menuItemDefinitions:{downloadPNG:{textKey:\"downloadPNG\",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:\"downloadJPEG\",onclick:function(){this.exportChartLocal({type:\"image/jpeg\"})}},downloadSVG:{textKey:\"downloadSVG\",onclick:function(){this.exportChartLocal({type:\"image/svg+xml\"})}},downloadPDF:{textKey:\"downloadPDF\",onclick:function(){this.exportChartLocal({type:\"application/pdf\"})}}}})}(t)},t.exports?t.exports=o:void 0===(i=(function(){return o}).call(e,n,e,t))||(t.exports=i)},irp2:function(t,e,n){\"use strict\";var i=n(\"uH21\").Readable;function o(t,e,n){i.call(this,e),this._helper=t;var o=this;t.on(\"data\",function(t,e){o.push(t)||o._helper.pause(),n&&n(e)}).on(\"error\",function(t){o.emit(\"error\",t)}).on(\"end\",function(){o.push(null)})}n(\"9aYe\").inherits(o,i),o.prototype._read=function(){this._helper.resume()},t.exports=o},itLX:function(t,e,n){\"use strict\";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},j0oL:function(t,e){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){var n=this;function i(){n.off(t,i),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var o=0;o<i.length;o++)if((n=i[o])===e||n.fn===e){i.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n)for(var i=0,o=(n=n.slice(0)).length;i<o;++i)n[i].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},j9Sc:function(t,e,n){t.exports.structure=n(\"WogM\")},j9Ww:function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},mYRP:function(t,e,n){\"use strict\";var i=n(\"+jW5\");function o(t,e,n){var o,s,l,u;e=e||1;for(var h=0;h<t[0].length;h++){var c=t[0][h];(!h||c[0]<o)&&(o=c[0]),(!h||c[1]<s)&&(s=c[1]),(!h||c[0]>l)&&(l=c[0]),(!h||c[1]>u)&&(u=c[1])}var d=l-o,p=u-s,f=Math.min(d,p),g=f/2,m=new i(null,r);if(0===f)return[o,s];for(var v=o;v<l;v+=f)for(var y=s;y<u;y+=f)m.push(new a(v+g,y+g,g,t));var _=function(t){for(var e=0,n=0,i=0,o=t[0],r=0,s=o.length,l=s-1;r<s;l=r++){var u=o[r],h=o[l],c=u[0]*h[1]-h[0]*u[1];n+=(u[0]+h[0])*c,i+=(u[1]+h[1])*c,e+=3*c}return 0===e?new a(o[0][0],o[0][1],0,t):new a(n/e,i/e,0,t)}(t),b=new a(o+d/2,s+p/2,0,t);b.d>_.d&&(_=b);for(var x=m.length;m.length;){var w=m.pop();w.d>_.d&&(_=w,n&&console.log(\"found best %d after %d probes\",Math.round(1e4*w.d)/1e4,x)),w.max-_.d<=e||(m.push(new a(w.x-(g=w.h/2),w.y-g,g,t)),m.push(new a(w.x+g,w.y-g,g,t)),m.push(new a(w.x-g,w.y+g,g,t)),m.push(new a(w.x+g,w.y+g,g,t)),x+=4)}return n&&(console.log(\"num probes: \"+x),console.log(\"best distance: \"+_.d)),[_.x,_.y]}function r(t,e){return e.max-t.max}function a(t,e,n,i){this.x=t,this.y=e,this.h=n,this.d=function(t,e,n){for(var i=!1,o=1/0,r=0;r<n.length;r++)for(var a=n[r],l=0,u=a.length,h=u-1;l<u;h=l++){var c=a[l],d=a[h];c[1]>e!=d[1]>e&&t<(d[0]-c[0])*(e-c[1])/(d[1]-c[1])+c[0]&&(i=!i),o=Math.min(o,s(t,e,c,d))}return(i?1:-1)*Math.sqrt(o)}(t,e,i),this.max=this.d+this.h*Math.SQRT2}function s(t,e,n,i){var o=n[0],r=n[1],a=i[0]-o,s=i[1]-r;if(0!==a||0!==s){var l=((t-o)*a+(e-r)*s)/(a*a+s*s);l>1?(o=i[0],r=i[1]):l>0&&(o+=a*l,r+=s*l)}return(a=t-o)*a+(s=e-r)*s}t.exports=o,t.exports.default=o},mhV4:function(t,e,n){var i=n(\"ZK94\");function o(t){var e=0;if(t&&t.length>0){e+=Math.abs(r(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(r(t[n]))}return e}function r(t){var e,n,o,r,s,l,u=0,h=t.length;if(h>2){for(l=0;l<h;l++)l===h-2?(o=h-2,r=h-1,s=0):l===h-1?(o=h-1,r=0,s=1):(o=l,r=l+1,s=l+2),e=t[o],n=t[r],u+=(a(t[s][0])-a(e[0]))*Math.sin(a(n[1]));u=u*i.RADIUS*i.RADIUS/2}return u}function a(t){return t*Math.PI/180}t.exports.geometry=function t(e){var n,i=0;switch(e.type){case\"Polygon\":return o(e.coordinates);case\"MultiPolygon\":for(n=0;n<e.coordinates.length;n++)i+=o(e.coordinates[n]);return i;case\"Point\":case\"MultiPoint\":case\"LineString\":case\"MultiLineString\":return 0;case\"GeometryCollection\":for(n=0;n<e.geometries.length;n++)i+=t(e.geometries[n]);return i}},t.exports.ring=r},mhqm:function(t,e,n){\"use strict\";n.r(e);var i=n(\"CcnG\"),o=function(){return function(){}}(),r=n(\"pMnS\"),a=n(\"Ip0R\"),s=n(\"L8GQ\"),l=n(\"tjZU\"),u=n(\"E8Hu\"),h=n(\"aIQ8\"),c=n(\"5Z+W\"),d=n(\"90Iw\"),p=n(\"gIcY\"),f=n(\"xkgV\"),g=i[\"\\u0275crt\"]({encapsulation:2,styles:[\"\\n.ngx-pagination {\\n  margin-left: 0;\\n  margin-bottom: 1rem; }\\n  .ngx-pagination::before, .ngx-pagination::after {\\n    content: ' ';\\n    display: table; }\\n  .ngx-pagination::after {\\n    clear: both; }\\n  .ngx-pagination li {\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    -ms-user-select: none;\\n    margin-right: 0.0625rem;\\n    border-radius: 0; }\\n  .ngx-pagination li {\\n    display: inline-block; }\\n  .ngx-pagination a,\\n  .ngx-pagination button {\\n    color: #0a0a0a; \\n    display: block;\\n    padding: 0.1875rem 0.625rem;\\n    border-radius: 0; }\\n    .ngx-pagination a:hover,\\n    .ngx-pagination button:hover {\\n      background: #e6e6e6; }\\n  .ngx-pagination .current {\\n    padding: 0.1875rem 0.625rem;\\n    background: #2199e8;\\n    color: #fefefe;\\n    cursor: default; }\\n  .ngx-pagination .disabled {\\n    padding: 0.1875rem 0.625rem;\\n    color: #cacaca;\\n    cursor: default; } \\n    .ngx-pagination .disabled:hover {\\n      background: transparent; }\\n  .ngx-pagination a, .ngx-pagination button {\\n    cursor: pointer; }\\n\\n.ngx-pagination .pagination-previous a::before,\\n.ngx-pagination .pagination-previous.disabled::before { \\n  content: '\\xab';\\n  display: inline-block;\\n  margin-right: 0.5rem; }\\n\\n.ngx-pagination .pagination-next a::after,\\n.ngx-pagination .pagination-next.disabled::after {\\n  content: '\\xbb';\\n  display: inline-block;\\n  margin-left: 0.5rem; }\\n\\n.ngx-pagination .show-for-sr {\\n  position: absolute !important;\\n  width: 1px;\\n  height: 1px;\\n  overflow: hidden;\\n  clip: rect(0, 0, 0, 0); }\\n.ngx-pagination .small-screen {\\n  display: none; }\\n@media screen and (max-width: 601px) {\\n  .ngx-pagination.responsive .small-screen {\\n    display: inline-block; } \\n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\\n    display: none; }\\n}\\n  \"],data:{}});function m(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,3,\"a\",[[\"tabindex\",\"0\"]],[[1,\"aria-label\",0]],[[null,\"keyup.enter\"],[null,\"click\"]],function(t,e,n){var o=!0;return\"keyup.enter\"===e&&(o=!1!==i[\"\\u0275nov\"](t.parent.parent.parent,1).previous()&&o),\"click\"===e&&(o=!1!==i[\"\\u0275nov\"](t.parent.parent.parent,1).previous()&&o),o},null,null)),(t()(),i[\"\\u0275ted\"](1,null,[\" \",\" \"])),(t()(),i[\"\\u0275eld\"](2,0,null,null,1,\"span\",[[\"class\",\"show-for-sr\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](3,null,[\"\",\"\"]))],null,function(t,e){var n=e.component;t(e,0,0,n.previousLabel+\" \"+n.screenReaderPageLabel),t(e,1,0,n.previousLabel),t(e,3,0,n.screenReaderPageLabel)})}function v(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,3,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](1,null,[\" \",\" \"])),(t()(),i[\"\\u0275eld\"](2,0,null,null,1,\"span\",[[\"class\",\"show-for-sr\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](3,null,[\"\",\"\"]))],null,function(t,e){var n=e.component;t(e,1,0,n.previousLabel),t(e,3,0,n.screenReaderPageLabel)})}function y(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"li\",[[\"class\",\"pagination-previous\"]],[[2,\"disabled\",null]],null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,m)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,v)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){t(e,2,0,1<i[\"\\u0275nov\"](e.parent.parent,1).getCurrent()),t(e,4,0,i[\"\\u0275nov\"](e.parent.parent,1).isFirstPage())},function(t,e){t(e,0,0,i[\"\\u0275nov\"](e.parent.parent,1).isFirstPage())})}function _(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"a\",[[\"tabindex\",\"0\"]],null,[[null,\"keyup.enter\"],[null,\"click\"]],function(t,e,n){var o=!0;return\"keyup.enter\"===e&&(o=!1!==i[\"\\u0275nov\"](t.parent.parent.parent,1).setCurrent(t.parent.context.$implicit.value)&&o),\"click\"===e&&(o=!1!==i[\"\\u0275nov\"](t.parent.parent.parent,1).setCurrent(t.parent.context.$implicit.value)&&o),o},null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"span\",[[\"class\",\"show-for-sr\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](2,null,[\"\",\" \"])),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](4,null,[\"\",\"\"]))],null,function(t,e){t(e,2,0,e.component.screenReaderPageLabel),t(e,4,0,e.parent.context.$implicit.label)})}function b(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"span\",[[\"class\",\"show-for-sr\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](2,null,[\"\",\" \"])),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](4,null,[\"\",\"\"]))],null,function(t,e){t(e,2,0,e.component.screenReaderCurrentLabel),t(e,4,0,e.parent.context.$implicit.label)})}function x(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"li\",[],[[2,\"current\",null],[2,\"ellipsis\",null]],null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,_)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,b)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){t(e,2,0,i[\"\\u0275nov\"](e.parent.parent,1).getCurrent()!==e.context.$implicit.value),t(e,4,0,i[\"\\u0275nov\"](e.parent.parent,1).getCurrent()===e.context.$implicit.value)},function(t,e){t(e,0,0,i[\"\\u0275nov\"](e.parent.parent,1).getCurrent()===e.context.$implicit.value,\"...\"===e.context.$implicit.label)})}function w(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,3,\"a\",[[\"tabindex\",\"0\"]],[[1,\"aria-label\",0]],[[null,\"keyup.enter\"],[null,\"click\"]],function(t,e,n){var o=!0;return\"keyup.enter\"===e&&(o=!1!==i[\"\\u0275nov\"](t.parent.parent.parent,1).next()&&o),\"click\"===e&&(o=!1!==i[\"\\u0275nov\"](t.parent.parent.parent,1).next()&&o),o},null,null)),(t()(),i[\"\\u0275ted\"](1,null,[\" \",\" \"])),(t()(),i[\"\\u0275eld\"](2,0,null,null,1,\"span\",[[\"class\",\"show-for-sr\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](3,null,[\"\",\"\"]))],null,function(t,e){var n=e.component;t(e,0,0,n.nextLabel+\" \"+n.screenReaderPageLabel),t(e,1,0,n.nextLabel),t(e,3,0,n.screenReaderPageLabel)})}function C(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,3,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](1,null,[\" \",\" \"])),(t()(),i[\"\\u0275eld\"](2,0,null,null,1,\"span\",[[\"class\",\"show-for-sr\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](3,null,[\"\",\"\"]))],null,function(t,e){var n=e.component;t(e,1,0,n.nextLabel),t(e,3,0,n.screenReaderPageLabel)})}function k(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"li\",[[\"class\",\"pagination-next\"]],[[2,\"disabled\",null]],null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,w)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,C)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){t(e,2,0,!i[\"\\u0275nov\"](e.parent.parent,1).isLastPage()),t(e,4,0,i[\"\\u0275nov\"](e.parent.parent,1).isLastPage())},function(t,e){t(e,0,0,i[\"\\u0275nov\"](e.parent.parent,1).isLastPage())})}function O(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,8,\"ul\",[[\"class\",\"ngx-pagination\"],[\"role\",\"navigation\"]],[[1,\"aria-label\",0],[2,\"responsive\",null]],null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,y)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"li\",[[\"class\",\"small-screen\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](4,null,[\" \",\" / \",\" \"])),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,x)),i[\"\\u0275did\"](6,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,k)),i[\"\\u0275did\"](8,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,2,0,n.directionLinks),t(e,6,0,i[\"\\u0275nov\"](e.parent,1).pages),t(e,8,0,n.directionLinks)},function(t,e){var n=e.component;t(e,0,0,n.screenReaderPaginationLabel,n.responsive),t(e,4,0,i[\"\\u0275nov\"](e.parent,1).getCurrent(),i[\"\\u0275nov\"](e.parent,1).getLastPage())})}function M(t){return i[\"\\u0275vid\"](2,[(t()(),i[\"\\u0275eld\"](0,0,null,null,3,\"pagination-template\",[],null,[[null,\"pageChange\"]],function(t,e,n){var i=!0;return\"pageChange\"===e&&(i=!1!==t.component.pageChange.emit(n)&&i),i},null,null)),i[\"\\u0275did\"](1,737280,[[\"p\",4]],0,f.d,[f.e,i.ChangeDetectorRef],{id:[0,\"id\"],maxSize:[1,\"maxSize\"]},{pageChange:\"pageChange\"}),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,O)),i[\"\\u0275did\"](3,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,1,0,n.id,n.maxSize),t(e,3,0,!(n.autoHide&&i[\"\\u0275nov\"](e,1).pages.length<=1))},null)}var L=n(\"+YOv\"),S=function(){function t(){}return t.prototype.transform=function(t,e){if(void 0!==e&&0!==t.length&&null!==e){var n=e.split(\" \");return t.filter(function(t){var e=!0;return n.forEach(function(n){-1==t.name.toLowerCase().indexOf(n.toLowerCase())&&(e=!1)}),e})}return t},t}(),P=function(){function t(){}return t.prototype.transform=function(t,e){return t.replace(\".\",\"_\")},t}(),T=function(){function t(t){this._elementRef=t,this.clickOutside=new i.EventEmitter}return t.prototype.onClick=function(t){this._elementRef.nativeElement.contains(t)||this.clickOutside.emit(!0)},t}(),I=n(\"mrSG\"),A=n(\"3soz\"),z=n(\"LvDl\"),D=n(\"88/t\"),E=[{name:\"All\",prefix:\"ALL\",selected:!0},{name:\"Data elements\",prefix:\"de\",selected:!1},{name:\"Indicators\",prefix:\"in\",selected:!1},{name:\"Data sets\",prefix:\"ds\",selected:!1},{name:\"Program indicators\",prefix:\"pr\",selected:!1},{name:\"Functions\",prefix:\"fn\",selected:!1}],R=function(){function t(t){this.dataFilterService=t,this.availableItems=[],this.dataGroups=[],this.selectedGroup={id:\"ALL\",name:\"[ All ]\"},this.onDataUpdate=new i.EventEmitter,this.onDataFilterClose=new i.EventEmitter,this.selectedItems=[],this.functionMappings=[],this.hiddenDataElements=[],this.singleSelection=!1,this.querystring=null,this.listchanges=null,this.showBody=!1,this.dataItems={dataElements:[],indicators:[],dataElementGroups:[],indicatorGroups:[],categoryOptions:[],dataSets:[],programs:[],programIndicators:[],dataSetGroups:[{id:\"\",name:\"Reporting Rate\"},{id:\".REPORTING_RATE_ON_TIME\",name:\"Reporting Rate on time\"},{id:\".ACTUAL_REPORTS\",name:\"Actual Reports Submitted\"},{id:\".ACTUAL_REPORTS_ON_TIME\",name:\"Reports Submitted on time\"},{id:\".EXPECTED_REPORTS\",name:\"Expected Reports\"}]},this.p=1,this.k=1,this.hideMonth=!1,this.hideQuarter=!1,this.dataFilterOptions=E,this.showGroups=!1,this.need_groups=!0,this.loading=!0}return t.prototype.ngOnInit=function(){this.initiateData(),this._selectedItems=this.selectedItems.slice(),this.selectedItems$=D.a.of(this._selectedItems)},t.prototype.searchChanged=function(){this.p=1},t.prototype.initiateData=function(){var t=this;this.subscription=this.dataFilterService.initiateData().subscribe(function(e){t.dataItems=Object.assign({},{dataElements:e[0],indicators:e[1],dataElementGroups:e[3],indicatorGroups:e[2],categoryOptions:e[5],dataSets:e[4],programs:e[6],programIndicators:e[7],functions:e[8],dataSetGroups:[{id:\"\",name:\"Reporting Rate\"},{id:\".REPORTING_RATE_ON_TIME\",name:\"Reporting Rate on time\"},{id:\".ACTUAL_REPORTS\",name:\"Actual Reports Submitted\"},{id:\".ACTUAL_REPORTS_ON_TIME\",name:\"Reports Submitted on time\"},{id:\".EXPECTED_REPORTS\",name:\"Expected Reports\"}]}),t.loading=!1,t.dataGroups=t.groupList(),t.availableItems=t.dataItemList(t._selectedItems,t.selectedGroup)})},t.prototype.setSelectedGroup=function(t,e,n){n.stopPropagation(),this.listchanges=\"\",this.selectedGroup=I.__assign({},t),this.availableItems=this.dataItemList(this._selectedItems,t),this.showGroups=!1,this.p=1,e.scrollTop=0},t.prototype.getSelectedOption=function(){var t=[];return this.dataFilterOptions.forEach(function(e){e.selected&&t.push(e)}),z.map(t,\"prefix\")},t.prototype.getDataItems=function(){var t=this,e=[];return this.dataItems.dataElements.forEach(function(n){e.push.apply(e,t.getDetailedDataElements(n))}),{de:e,in:this.dataItems.indicators,ds:this.dataItems.dataSets,pi:this.dataItems.programIndicators,rl:z.flatten(z.map(this.dataItems.functions,function(t){return z.map(t.rules||[],function(e){return{id:e.id,name:e.name,functionObject:{functionString:t.function,ruleDefinition:e},type:\"FUNCTION_RULE\"}})}))}},t.prototype.getDetailedDataElements=function(t){var e=[],n=this.getCategoryCombo(t.categoryCombo.id);return e.push({dataElementId:t.id,id:t.id,name:t.name+\"\",dataSetElements:t.dataSetElements}),n.categoryOptionCombos.forEach(function(n){\"default\"!==n.name&&e.push({dataElementId:t.id,id:t.id+\".\"+n.id,name:t.name+\" \"+n.name,dataSetElements:t.dataSetElements})}),e},t.prototype.getCategoryCombo=function(t){var e=null;return this.dataItems.categoryOptions.forEach(function(n){n.id===t&&(e=n)}),e},t.prototype.getData=function(){return{dx:this.dataItems.dataElementGroups,in:this.dataItems.indicatorGroups,ds:this.dataItems.dataSetGroups,pr:this.dataItems.programs,fn:this.dataItems.functions}},t.prototype.dataItemList=function(t,e){var n=this,i=[],o=this.getSelectedOption(),r=this.getDataItems();if(z.includes(o,\"ALL\")||z.includes(o,\"de\"))if(\"ALL\"===e.id)i.push.apply(i,r.de);else if(e.hasOwnProperty(\"dataElements\")){var a=z.filter(r.de,function(t){return z.includes(z.map(e.dataElements,\"id\"),t.dataElementId)});i.push.apply(i,a)}(z.includes(o,\"ALL\")||z.includes(o,\"in\"))&&(\"ALL\"===e.id?i.push.apply(i,r.in):e.hasOwnProperty(\"indicators\")&&(a=z.filter(r.in,function(t){return z.includes(z.map(e.indicators,\"id\"),t.id)}),i.push.apply(i,a))),(z.includes(o,\"ALL\")||z.includes(o,\"ds\"))&&(\"ALL\"===e.id?this.dataItems.dataSetGroups.forEach(function(t){i.push.apply(i,r.ds.map(function(e){return{id:e.id+t.id,name:t.name+\" \"+e.name}}))}):e.hasOwnProperty(\"indicators\")||e.hasOwnProperty(\"dataElements\")||i.push.apply(i,r.ds.map(function(t){return{id:t.id+e.id,name:e.name+\" \"+t.name}}))),(z.includes(o,\"ALL\")||z.includes(o,\"pr\"))&&(\"ALL\"===e.id?i.push.apply(i,r.pi):e.hasOwnProperty(\"programIndicators\")&&(a=z.filter(r.pi,function(t){return z.includes(z.map(e.programIndicators,\"id\"),t.id)}),i.push.apply(i,a))),(z.includes(o,\"ALL\")||z.includes(o,\"fn\"))&&(\"ALL\"===e.id?i.push.apply(i,r.rl):e.hasOwnProperty(\"rules\")&&(a=z.filter(r.rl,function(t){return z.includes(z.map(e.rules,\"id\"),t.id)}),i.push.apply(i,a)));var s=z.filter(i,function(t){return!z.includes(n.hiddenDataElements,t.id)});return z.sortBy(z.filter(s,function(e){return!z.find(t,[\"id\",e.id])}),[\"name\"])},t.prototype.groupList=function(){this.need_groups=!0;var t=[],e=this.getSelectedOption(),n=this.getData();return(z.includes(e,\"ALL\")||z.includes(e,\"de\"))&&t.push.apply(t,n.dx),(z.includes(e,\"ALL\")||z.includes(e,\"in\"))&&(1===e.length&&z.includes(e,\"in\")?t.push.apply(t,n.in):t.push.apply(t,n.in.map(function(t){return{id:t.id,name:t.name+\" - Computed\",indicators:t.indicators}}))),(z.includes(e,\"ALL\")||z.includes(e,\"pr\"))&&t.push.apply(t,n.pr),(z.includes(e,\"ALL\")||z.includes(e,\"ds\"))&&t.push.apply(t,n.ds),(z.includes(e,\"ALL\")||z.includes(e,\"fn\"))&&t.push.apply(t,n.fn),z.includes(e,\"ds\")&&(this.need_groups=!1),[{id:\"ALL\",name:\"[ All ]\"}].concat(z.sortBy(t,[\"name\"]))},t.prototype.addSelected=function(t,e){this.singleSelection&&this.deselectAllItems(e),e.stopPropagation();var n=z.findIndex(this.availableItems,t);this.availableItems=this.availableItems.slice(0,n).concat(this.availableItems.slice(n+1)),z.find(this._selectedItems,[\"id\",t.id])||(this._selectedItems=this._selectedItems.concat([t])),this.selectedItems$=D.a.of(this._selectedItems)},t.prototype.removeSelected=function(t,e){e.stopPropagation();var n=z.findIndex(this._selectedItems,t);this._selectedItems=this._selectedItems.slice(0,n).concat(this._selectedItems.slice(n+1)),z.find(this.availableItems,[\"id\",t.id])||(this.availableItems=this.availableItems.concat([t])),this.selectedItems$=D.a.of(this._selectedItems)},t.prototype.getAutogrowingTables=function(t){var e=[];return t.forEach(function(t){t.hasOwnProperty(\"programType\")&&e.push(t)}),e},t.prototype.getFunctions=function(t){var e=this,n=[];return t.forEach(function(t){var i=t.id.split(\".\");e.functionMappings.forEach(function(e){var o=e.split(\"_\");i[0]===o[0]&&n.push({id:t.id,func:o[1]})})}),n},t.prototype.selectAllItems=function(t){var e=this;t.stopPropagation(),this.availableItems.forEach(function(t){z.find(e._selectedItems,[\"id\",t.id])||(e._selectedItems=e._selectedItems.concat([t]))}),this.availableItems=[],this.selectedItems$=D.a.of(this._selectedItems)},t.prototype.deselectAllItems=function(t){var e=this;t.stopPropagation(),this._selectedItems.forEach(function(t){z.find(e.availableItems,[\"id\",t.id])||(e.availableItems=e.availableItems.concat([t]))}),this._selectedItems=[],this.selectedItems$=D.a.of(this._selectedItems)},t.prototype.inSelected=function(t,e){for(var n=!1,i=0,o=e;i<o.length;i++)o[i].id===t.id&&(n=!0);return n},t.prototype.transferDataSuccess=function(t,e){if(t.dragData.id===e.id)console.log(\"Droping in the same area\");else{var n=this.getDataPosition(t.dragData.id)>this.getDataPosition(e.id)?0:1;this.deleteData(t.dragData),this.insertData(t.dragData,e,n)}},t.prototype.emit=function(t){t.stopPropagation(),this.onDataUpdate.emit({itemList:this._selectedItems,need_functions:this.getFunctions(this._selectedItems),auto_growing:this.getAutogrowingTables(this._selectedItems),selectedData:{name:\"dx\",value:this.getDataForAnalytics(this._selectedItems)},hideQuarter:this.hideQuarter,hideMonth:this.hideMonth})},t.prototype.getDataPosition=function(t){var e=null;return this._selectedItems.forEach(function(n,i){n.id===t&&(e=i)}),e},t.prototype.deleteData=function(t){var e=this;this._selectedItems.forEach(function(n,i){t.id===n.id&&e._selectedItems.splice(i,1)}),this.selectedItems$=D.a.of(this._selectedItems)},t.prototype.insertData=function(t,e,n){var i=this;this._selectedItems.forEach(function(o,r){e.id!==o.id||i.checkDataAvailabilty(t,i._selectedItems)||i._selectedItems.splice(r+n,0,t)}),this.selectedItems$=D.a.of(this._selectedItems)},t.prototype.checkDataAvailabilty=function(t,e){for(var n=!1,i=0,o=e;i<o.length;i++)o[i].id===t.id&&(n=!0);return n},t.prototype.getDataForAnalytics=function(t){var e=this,n=\"\",i=0;return t.forEach(function(t){var o=t.id.split(\".\");if(t.hasOwnProperty(\"programType\"));else{var r=!1;e.functionMappings.forEach(function(t){var e=t.split(\"_\");o[0]===e[0]&&(r=!0)}),r||(n+=0===i?t.id:\";\"+t.id,i++)}}),n},t.prototype.close=function(t){t.stopPropagation(),this.onDataFilterClose.emit(!0)},t.prototype.toggleDataFilterOption=function(t,e){e.stopPropagation();var n=!!e.ctrlKey;this.dataFilterOptions=this.dataFilterOptions.map(function(e){var i=I.__assign({},e);return\"ALL\"===t.prefix?i.selected=\"ALL\"===i.prefix&&!t.selected:(i.prefix===t.prefix&&(i.selected=!i.selected),\"ALL\"===t.prefix?\"ALL\"!==i.prefix&&t.selected&&(i.selected=!1):\"ALL\"===i.prefix&&(i.selected=!1),n||t.prefix===i.prefix||(i.selected=!1)),i}),this.selectedGroup={id:\"ALL\",name:\"[ All ]\"},this.dataGroups=this.groupList(),this.availableItems=this.dataItemList(this._selectedItems,this.selectedGroup),this.p=1,this.listchanges=\"\"},t.prototype.toggleDataFilterGroupList=function(t){t.stopPropagation(),this.showGroups=!this.showGroups},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t}(),N=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\".data-filter-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);padding:.2em}.data-filter-options[_ngcontent-%COMP%]{grid-column:span 2;padding:2px}.data-filter-options-icon[_ngcontent-%COMP%]{padding-left:0;list-style:none;margin:0}.data-filter-options-icon[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:inline-block;padding:2px}.data-filter-options-icon[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{min-height:25px;display:inline-block;vertical-align:middle;cursor:pointer;border:1px solid #ddd;font-size:10px;border-radius:16px}.data-filter-group-selection[_ngcontent-%COMP%]{grid-column:span 2;position:relative}.data-filter-group-btn[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.data-filter-group-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:flex;justify-content:center;height:20px}.data-filter-group-panel[_ngcontent-%COMP%]{box-shadow:0 2px 10px -2px rgba(0,0,0,.7);background-color:#fff;margin-top:4px;position:absolute;z-index:1000;width:100%}.data-filter-group-panel-body[_ngcontent-%COMP%]{padding:4px}.data-filter-group-list[_ngcontent-%COMP%]{margin-top:5px;padding-top:5px;list-style:none;max-height:150px;padding-left:0;overflow:hidden}.data-filter-group-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:block;line-height:20px;width:100%;cursor:pointer;padding:1px 10px;font-size:12px;border-radius:0;margin:0}.data-filter-group-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{background-color:#ddd}.data-filter-group-list[_ngcontent-%COMP%]:hover{overflow:auto}.data-filter-group-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.data-filter-group-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.2);border-radius:10px}.data-filter-group-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.2)}.data-filter-list-search[_ngcontent-%COMP%]{grid-column:span 2;margin-top:5px;margin-bottom:5px}.data-filter-available-header[_ngcontent-%COMP%]{border:1px solid #ddd;display:flex;justify-content:space-between;font-size:13px;padding:5px 10px}.data-filter-available-header[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{cursor:pointer}.data-filter-selected-header[_ngcontent-%COMP%]{border-top:1px solid #ddd;border-bottom:1px solid #ddd;border-right:1px solid #ddd;display:flex;justify-content:space-between;font-size:13px;padding:5px 10px}.data-filter-selected-header[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{cursor:pointer}.data-filter-available-body[_ngcontent-%COMP%], .data-filter-selected-body[_ngcontent-%COMP%]{padding:.2em;height:130px;overflow:hidden}.data-filter-available-body[_ngcontent-%COMP%]:hover, .data-filter-selected-body[_ngcontent-%COMP%]:hover{overflow:auto}.data-filter-selected-body[_ngcontent-%COMP%]{border-right:1px solid #ddd;border-bottom:1px solid #ddd}.data-filter-available-body[_ngcontent-%COMP%]{border-right:1px solid #ddd;border-left:1px solid #ddd;border-bottom:1px solid #ddd}.data-filter-available-body[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], .data-filter-selected-body[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{padding-left:0;padding-right:0;list-style:none}.data-filter-available-body[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .data-filter-selected-body[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{cursor:pointer;color:#000;display:block;font-size:12px;padding:2px 5px}.data-filter-available-body[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .data-filter-selected-body[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{background-color:#ddd}.data-filter-available-body[_ngcontent-%COMP%]::-webkit-scrollbar, .data-filter-selected-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.data-filter-available-body[_ngcontent-%COMP%]::-webkit-scrollbar-track, .data-filter-selected-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.2);border-radius:10px}.data-filter-available-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .data-filter-selected-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.2)}.data-filter-btns[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:.2em;padding-right:5px}\"]],data:{}});function B(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"li\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,3,\"a\",[],[[8,\"title\",0]],[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleDataFilterOption(t.context.$implicit,n)&&i),i},null,null)),i[\"\\u0275did\"](2,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,\"ngClass\"]},null),i[\"\\u0275pod\"](3,{btn:0,\"btn-sm\":1,\"btn-info\":2,\"btn-default\":3}),(t()(),i[\"\\u0275ted\"](4,null,[\" \",\" \"]))],function(t,e){var n=t(e,3,0,!0,!0,e.context.$implicit.selected,!e.context.$implicit.selected);t(e,2,0,n)},function(t,e){t(e,1,0,i[\"\\u0275inlineInterpolate\"](1,\"Click to see \",e.context.$implicit.name,\"\")),t(e,4,0,e.context.$implicit.name)})}function F(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"li\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"a\",[],null,[[null,\"click\"]],function(t,e,n){var o=!0;return\"click\"===e&&(o=!1!==t.component.setSelectedGroup(t.context.$implicit,i[\"\\u0275nov\"](t.parent.parent,36),n)&&o),o},null,null)),(t()(),i[\"\\u0275ted\"](2,null,[\"\",\"\"]))],null,function(t,e){t(e,2,0,e.context.$implicit.name)})}function j(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,11,\"div\",[[\"class\",\"data-filter-group-panel\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,10,\"div\",[[\"class\",\"panel-body data-filter-group-panel-body\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,5,\"input\",[[\"class\",\"form-control form-control-sm\"],[\"placeholder\",\"Search\"],[\"type\",\"search\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"]],function(t,e,n){var o=!0,r=t.component;return\"input\"===e&&(o=!1!==i[\"\\u0275nov\"](t,3)._handleInput(n.target.value)&&o),\"blur\"===e&&(o=!1!==i[\"\\u0275nov\"](t,3).onTouched()&&o),\"compositionstart\"===e&&(o=!1!==i[\"\\u0275nov\"](t,3)._compositionStart()&&o),\"compositionend\"===e&&(o=!1!==i[\"\\u0275nov\"](t,3)._compositionEnd(n.target.value)&&o),\"ngModelChange\"===e&&(o=!1!==(r.querystring=n)&&o),o},null,null)),i[\"\\u0275did\"](3,16384,null,0,p.DefaultValueAccessor,[i.Renderer2,i.ElementRef,[2,p.COMPOSITION_BUFFER_MODE]],null,null),i[\"\\u0275prd\"](1024,null,p.NG_VALUE_ACCESSOR,function(t){return[t]},[p.DefaultValueAccessor]),i[\"\\u0275did\"](5,671744,null,0,p.NgModel,[[8,null],[8,null],[8,null],[6,p.NG_VALUE_ACCESSOR]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),i[\"\\u0275prd\"](2048,null,p.NgControl,null,[p.NgModel]),i[\"\\u0275did\"](7,16384,null,0,p.NgControlStatus,[[4,p.NgControl]],null,null),(t()(),i[\"\\u0275eld\"](8,0,null,null,3,\"ul\",[[\"class\",\"data-filter-group-list\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,2,null,F)),i[\"\\u0275did\"](10,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),i[\"\\u0275ppd\"](11,2)],function(t,e){var n=e.component;t(e,5,0,n.querystring);var o=i[\"\\u0275unv\"](e,10,0,t(e,11,0,i[\"\\u0275nov\"](e.parent,0),n.dataGroups,n.querystring));t(e,10,0,o)},function(t,e){t(e,2,0,i[\"\\u0275nov\"](e,7).ngClassUntouched,i[\"\\u0275nov\"](e,7).ngClassTouched,i[\"\\u0275nov\"](e,7).ngClassPristine,i[\"\\u0275nov\"](e,7).ngClassDirty,i[\"\\u0275nov\"](e,7).ngClassValid,i[\"\\u0275nov\"](e,7).ngClassInvalid,i[\"\\u0275nov\"](e,7).ngClassPending)})}function U(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"li\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Loading...\"]))],null,null)}function V(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"li\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"a\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"No items\"]))],null,null)}function G(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,5,\"li\",[[\"title\",\"Click to select item\"]],[[8,\"id\",0]],null,null,null,null)),i[\"\\u0275did\"](1,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,\"ngClass\"]},null),i[\"\\u0275pod\"](2,{hiddenTree:0}),i[\"\\u0275ppd\"](3,1),(t()(),i[\"\\u0275eld\"](4,0,null,null,1,\"a\",[],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.addSelected(t.context.$implicit,n)&&i),i},null,null)),(t()(),i[\"\\u0275ted\"](5,null,[\"\",\"\"]))],function(t,e){var n=e.component,i=t(e,2,0,n.inSelected(e.context.$implicit,n.selectedItems));t(e,1,0,i)},function(t,e){var n=i[\"\\u0275inlineInterpolate\"](1,\"\",i[\"\\u0275unv\"](e,0,0,t(e,3,0,i[\"\\u0275nov\"](e.parent,1),e.context.$implicit.id)),\"\");t(e,0,0,n),t(e,5,0,e.context.$implicit.name)})}function H(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,3,\"li\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,2,\"a\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,1,\"pagination-controls\",[[\"id\",\"foo\"],[\"maxSize\",\"0\"]],null,[[null,\"pageChange\"]],function(t,e,n){var i=!0;return\"pageChange\"===e&&(i=!1!==(t.component.p=n)&&i),i},M,g)),i[\"\\u0275did\"](3,49152,null,0,f.c,[],{id:[0,\"id\"],maxSize:[1,\"maxSize\"]},{pageChange:\"pageChange\"})],function(t,e){t(e,3,0,\"foo\",\"0\")},null)}function Z(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"li\",[[\"dnd-droppable\",\"\"],[\"style\",\"cursor: move\"],[\"title\",\"click to unselect item\"]],null,[[null,\"onDropSuccess\"]],function(t,e,n){var i=!0;return\"onDropSuccess\"===e&&(i=!1!==t.component.transferDataSuccess(n,t.context.$implicit)&&i),i},null,null)),i[\"\\u0275did\"](1,16384,null,0,L.f,[i.ElementRef,L.c,L.b,i.ChangeDetectorRef],null,{onDropSuccess:\"onDropSuccess\"}),(t()(),i[\"\\u0275eld\"](2,0,null,null,2,\"a\",[[\"dnd-draggable\",\"\"]],[[8,\"className\",0]],[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.removeSelected(t.context.$implicit,n)&&i),i},null,null)),i[\"\\u0275did\"](3,16384,null,0,L.e,[i.ElementRef,L.c,L.b,i.ChangeDetectorRef],{draggable:[0,\"draggable\"],dragData:[1,\"dragData\"]},null),(t()(),i[\"\\u0275ted\"](4,null,[\" \",\" \"]))],function(t,e){t(e,3,0,!0,e.context.$implicit)},function(t,e){var n=i[\"\\u0275inlineInterpolate\"](1,\"\",e.context.$implicit.hasOwnProperty(\"programType\")?\"auto-growing\":\"\",\"\");t(e,2,0,n),t(e,4,0,e.context.$implicit.name)})}function W(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"li\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"pagination-controls\",[[\"id\",\"selectedlist\"],[\"maxSize\",\"0\"]],null,[[null,\"pageChange\"]],function(t,e,n){var i=!0;return\"pageChange\"===e&&(i=!1!==(t.component.k=n)&&i),i},M,g)),i[\"\\u0275did\"](2,49152,null,0,f.c,[],{id:[0,\"id\"],maxSize:[1,\"maxSize\"]},{pageChange:\"pageChange\"})],function(t,e){t(e,2,0,\"selectedlist\",\"0\")},null)}function Y(t){return i[\"\\u0275vid\"](0,[i[\"\\u0275pid\"](0,S,[]),i[\"\\u0275pid\"](0,P,[]),(t()(),i[\"\\u0275eld\"](2,0,null,null,57,\"div\",[[\"class\",\"data-filter-container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](3,0,null,null,3,\"div\",[[\"class\",\"data-filter-options\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](4,0,null,null,2,\"ul\",[[\"class\",\"data-filter-options-icon\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,B)),i[\"\\u0275did\"](6,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(t()(),i[\"\\u0275eld\"](7,0,null,null,8,\"div\",[[\"appClickOutside\",\"\"],[\"class\",\"data-filter-group-selection\"]],null,[[null,\"clickOutside\"],[\"document\",\"click\"]],function(t,e,n){var o=!0,r=t.component;return\"document:click\"===e&&(o=!1!==i[\"\\u0275nov\"](t,8).onClick(n.target)&&o),\"clickOutside\"===e&&(o=0!=(r.showGroups=!1)&&o),o},null,null)),i[\"\\u0275did\"](8,16384,null,0,T,[i.ElementRef],null,{clickOutside:\"clickOutside\"}),(t()(),i[\"\\u0275eld\"](9,0,null,null,4,\"button\",[[\"class\",\"btn btn-outline-secondary btn-sm data-filter-group-btn\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleDataFilterGroupList(n)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](10,0,null,null,1,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](11,null,[\"\",\"\"])),(t()(),i[\"\\u0275eld\"](12,0,null,null,1,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](13,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/arrow-down.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,j)),i[\"\\u0275did\"](15,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275eld\"](16,0,null,null,6,\"div\",[[\"class\",\"data-filter-list-search\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](17,0,null,null,5,\"input\",[[\"class\",\"form-control form-control-sm\"],[\"placeholder\",\"Search\"],[\"type\",\"text\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"focus\"],[null,\"keyup\"],[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"]],function(t,e,n){var o=!0,r=t.component;return\"input\"===e&&(o=!1!==i[\"\\u0275nov\"](t,18)._handleInput(n.target.value)&&o),\"blur\"===e&&(o=!1!==i[\"\\u0275nov\"](t,18).onTouched()&&o),\"compositionstart\"===e&&(o=!1!==i[\"\\u0275nov\"](t,18)._compositionStart()&&o),\"compositionend\"===e&&(o=!1!==i[\"\\u0275nov\"](t,18)._compositionEnd(n.target.value)&&o),\"focus\"===e&&(o=0!=(r.showBody=!0)&&o),\"keyup\"===e&&(o=!1!==r.searchChanged()&&o),\"ngModelChange\"===e&&(o=!1!==(r.listchanges=n)&&o),o},null,null)),i[\"\\u0275did\"](18,16384,null,0,p.DefaultValueAccessor,[i.Renderer2,i.ElementRef,[2,p.COMPOSITION_BUFFER_MODE]],null,null),i[\"\\u0275prd\"](1024,null,p.NG_VALUE_ACCESSOR,function(t){return[t]},[p.DefaultValueAccessor]),i[\"\\u0275did\"](20,671744,null,0,p.NgModel,[[8,null],[8,null],[8,null],[6,p.NG_VALUE_ACCESSOR]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),i[\"\\u0275prd\"](2048,null,p.NgControl,null,[p.NgModel]),i[\"\\u0275did\"](22,16384,null,0,p.NgControlStatus,[[4,p.NgControl]],null,null),(t()(),i[\"\\u0275eld\"](23,0,null,null,5,\"div\",[[\"class\",\"data-filter-available-header\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](24,0,null,null,2,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](25,null,[\"Available (\",\")\"])),i[\"\\u0275ppd\"](26,2),(t()(),i[\"\\u0275eld\"](27,0,null,null,1,\"a\",[],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.selectAllItems(n)&&i),i},null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"\\xbb\"])),(t()(),i[\"\\u0275eld\"](29,0,null,null,5,\"div\",[[\"class\",\"data-filter-selected-header\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](30,0,null,null,1,\"a\",[],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.deselectAllItems(n)&&i),i},null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"\\xab\"])),(t()(),i[\"\\u0275eld\"](32,0,null,null,2,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](33,null,[\"Selected (\",\")\"])),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),(t()(),i[\"\\u0275eld\"](35,0,null,null,14,\"div\",[[\"class\",\"data-filter-available-body\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](36,0,[[\"scrollse\",1]],null,13,\"ul\",[],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,U)),i[\"\\u0275did\"](38,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,2,null,V)),i[\"\\u0275did\"](40,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),i[\"\\u0275ppd\"](41,2),(t()(),i[\"\\u0275and\"](16777216,null,null,4,null,G)),i[\"\\u0275did\"](43,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),i[\"\\u0275ppd\"](44,2),i[\"\\u0275pod\"](45,{id:0,itemsPerPage:1,currentPage:2}),i[\"\\u0275pid\"](0,f.b,[f.e]),(t()(),i[\"\\u0275and\"](16777216,null,null,2,null,H)),i[\"\\u0275did\"](48,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),i[\"\\u0275ppd\"](49,2),(t()(),i[\"\\u0275eld\"](50,0,null,null,9,\"div\",[[\"class\",\"data-filter-selected-body\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](51,0,null,null,8,\"ul\",[],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,4,null,Z)),i[\"\\u0275did\"](53,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),i[\"\\u0275pod\"](55,{id:0,itemsPerPage:1,currentPage:2}),i[\"\\u0275pid\"](0,f.b,[f.e]),(t()(),i[\"\\u0275and\"](16777216,null,null,2,null,W)),i[\"\\u0275did\"](58,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),(t()(),i[\"\\u0275eld\"](60,0,null,null,6,\"div\",[[\"class\",\"data-filter-btns\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](61,0,null,null,5,\"div\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](62,0,null,null,1,\"button\",[[\"class\",\"btn btn-outline-secondary btn-sm\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.close(n)&&i),i},null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Close\"])),(t()(),i[\"\\u0275eld\"](64,0,null,null,2,\"button\",[[\"class\",\"btn btn-outline-secondary btn-sm\"]],[[8,\"disabled\",0]],[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.emit(n)&&i),i},null,null)),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),(t()(),i[\"\\u0275ted\"](-1,null,[\"Update\"]))],function(t,e){var n=e.component;t(e,6,0,n.dataFilterOptions),t(e,15,0,n.showGroups),t(e,20,0,n.listchanges),t(e,38,0,n.loading);var o=!n.loading&&0==i[\"\\u0275unv\"](e,40,0,t(e,41,0,i[\"\\u0275nov\"](e,0),n.availableItems,n.listchanges)).length;t(e,40,0,o);var r=i[\"\\u0275unv\"](e,43,0,i[\"\\u0275nov\"](e,46).transform(i[\"\\u0275unv\"](e,43,0,t(e,44,0,i[\"\\u0275nov\"](e,0),n.availableItems,n.listchanges)),t(e,45,0,\"foo\",25,n.p)));t(e,43,0,r);var a=i[\"\\u0275unv\"](e,48,0,t(e,49,0,i[\"\\u0275nov\"](e,0),n.availableItems,n.listchanges)).length>=25;t(e,48,0,a);var s=i[\"\\u0275unv\"](e,53,0,i[\"\\u0275nov\"](e,56).transform(i[\"\\u0275unv\"](e,53,0,i[\"\\u0275nov\"](e,54).transform(n.selectedItems$)),t(e,55,0,\"selectedlist\",100,n.k)));t(e,53,0,s),t(e,58,0,i[\"\\u0275unv\"](e,58,0,i[\"\\u0275nov\"](e,59).transform(n.selectedItems$)).length>100)},function(t,e){var n=e.component;t(e,11,0,(null==n.selectedGroup?null:n.selectedGroup.name)||\"Select\"),t(e,17,0,i[\"\\u0275nov\"](e,22).ngClassUntouched,i[\"\\u0275nov\"](e,22).ngClassTouched,i[\"\\u0275nov\"](e,22).ngClassPristine,i[\"\\u0275nov\"](e,22).ngClassDirty,i[\"\\u0275nov\"](e,22).ngClassValid,i[\"\\u0275nov\"](e,22).ngClassInvalid,i[\"\\u0275nov\"](e,22).ngClassPending);var o=i[\"\\u0275unv\"](e,25,0,t(e,26,0,i[\"\\u0275nov\"](e,0),n.availableItems,n.listchanges)).length;t(e,25,0,o),t(e,33,0,i[\"\\u0275unv\"](e,33,0,i[\"\\u0275nov\"](e,34).transform(n.selectedItems$)).length),t(e,64,0,0===i[\"\\u0275unv\"](e,64,0,i[\"\\u0275nov\"](e,65).transform(n.selectedItems$)).length)})}var X=n(\"kf7m\"),$=n(\"KX97\"),K={rows:[{name:\"Period\",value:\"pe\"}],columns:[{name:\"Data\",value:\"dx\"}],filters:[{name:\"Filter\",value:\"ou\"}],excluded:[{name:\"Excluded Dimension\",value:\"co\"}]},q=function(){function t(){this.layoutModel=K,this.onLayoutUpdate=new i.EventEmitter,this.onLayoutClose=new i.EventEmitter,this.icons={dx:\"assets/icons/data.png\",ou:\"assets/icons/tree.png\",pe:\"assets/icons/period.png\"},this.dimensions={filterDimension:[],columnDimension:[],rowDimension:[]},this.columnName=\"Column dimensions\",this.rowName=\"Row dimensions\"}return t.prototype.ngOnInit=function(){this.updateLayoutDimensions(),\"CHART\"===this.visualizationType&&(this.rowName=\"Categories dimensions\",this.columnName=\"Series dimensions\")},t.prototype.updateLayoutDimensions=function(){this.filters=this.layoutModel.filters.slice(),this.columns=this.layoutModel.columns.slice(),this.rows=this.layoutModel.rows.slice()},t.prototype.updateLayout=function(){this.onLayoutUpdate.emit({filters:this.filters,columns:this.columns,rows:this.rows})},t.prototype.close=function(){this.onLayoutClose.emit(!0)},t}(),J=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\".drop-target[_ngcontent-%COMP%]{height:100px}.draggable[_ngcontent-%COMP%]{border:1px solid #d3d3d3;display:flex;padding:3px}.layout-btn[_ngcontent-%COMP%]{display:block;height:29px;padding-top:3px;padding-left:5px;padding-right:5px}.layout-btn[_ngcontent-%COMP%]:hover{background-color:#ececec}.dimension-drops[_ngcontent-%COMP%]{height:125px;width:50%}.dnd-drag-enter[_ngcontent-%COMP%]{opacity:.7;border:1px dotted #204d74}.dnd-drag-over[_ngcontent-%COMP%]{border:0 dotted #204d74}.dnd-sortable-drag[_ngcontent-%COMP%]{-webkit-transform:scale(.9);transform:scale(.9);opacity:.7;border:2px dashed #000}.draggable[_ngcontent-%COMP%]:hover{cursor:move}.draggable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-top:5px;padding-left:5px;height:20px;width:20px}.drag-container[_ngcontent-%COMP%]{height:100%}.layout-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}\"]],data:{}});function Q(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"div\",[[\"class\",\"draggable\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,0,\"img\",[],[[8,\"src\",4]],null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\" \\xa0 \"])),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](4,null,[\"\",\"\"]))],null,function(t,e){t(e,1,0,e.component.icons[e.context.$implicit.value]),t(e,4,0,e.context.$implicit.name)})}function tt(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"div\",[[\"class\",\"draggable\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,0,\"img\",[],[[8,\"src\",4]],null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\" \\xa0 \"])),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](4,null,[\"\",\"\"]))],null,function(t,e){t(e,1,0,e.component.icons[e.context.$implicit.value]),t(e,4,0,e.context.$implicit.name)})}function et(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"div\",[[\"class\",\"draggable\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,0,\"img\",[],[[8,\"src\",4]],null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\" \\xa0 \"])),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](4,null,[\"\",\"\"]))],null,function(t,e){t(e,1,0,e.component.icons[e.context.$implicit.value]),t(e,4,0,e.context.$implicit.name)})}function nt(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,39,\"div\",[[\"class\",\"layout-container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"h5\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Table / Chart Layout\"])),(t()(),i[\"\\u0275eld\"](3,0,null,null,28,\"table\",[[\"class\",\"table table-bordered\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](4,0,null,null,27,\"tbody\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](5,0,null,null,16,\"tr\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](6,0,null,null,7,\"td\",[[\"class\",\"dimension-drops\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](7,0,null,null,2,\"div\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](8,0,null,null,1,\"label\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Filters\"])),(t()(),i[\"\\u0275eld\"](10,0,null,null,3,\"div\",[[\"class\",\"drag-container\"]],null,null,null,null,null)),i[\"\\u0275did\"](11,606208,null,0,X.DragulaDirective,[i.ElementRef,$.DragulaService],{dragula:[0,\"dragula\"],dragulaModel:[1,\"dragulaModel\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Q)),i[\"\\u0275did\"](13,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(t()(),i[\"\\u0275eld\"](14,0,null,null,7,\"td\",[[\"class\",\"dimension-drops\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](15,0,null,null,2,\"div\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](16,0,null,null,1,\"label\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](17,null,[\"\",\"\"])),(t()(),i[\"\\u0275eld\"](18,0,null,null,3,\"div\",[[\"class\",\"drag-container\"]],null,null,null,null,null)),i[\"\\u0275did\"](19,606208,null,0,X.DragulaDirective,[i.ElementRef,$.DragulaService],{dragula:[0,\"dragula\"],dragulaModel:[1,\"dragulaModel\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,tt)),i[\"\\u0275did\"](21,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(t()(),i[\"\\u0275eld\"](22,0,null,null,9,\"tr\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](23,0,null,null,7,\"td\",[[\"class\",\"dimension-drops\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](24,0,null,null,2,\"div\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](25,0,null,null,1,\"label\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](26,null,[\"\",\"\"])),(t()(),i[\"\\u0275eld\"](27,0,null,null,3,\"div\",[[\"class\",\"drag-container\"]],null,null,null,null,null)),i[\"\\u0275did\"](28,606208,null,0,X.DragulaDirective,[i.ElementRef,$.DragulaService],{dragula:[0,\"dragula\"],dragulaModel:[1,\"dragulaModel\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,et)),i[\"\\u0275did\"](30,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(t()(),i[\"\\u0275eld\"](31,0,null,null,0,\"td\",[[\"class\",\"dimension-drops\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](32,0,null,null,7,\"div\",[[\"class\",\"layout-footer\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](33,0,null,null,6,\"div\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](34,0,null,null,2,\"button\",[[\"class\",\"btn btn-outline-secondary btn-sm\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.close()&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](35,0,null,null,0,\"i\",[[\"class\",\"fa fa-times\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Close\"])),(t()(),i[\"\\u0275eld\"](37,0,null,null,2,\"button\",[[\"class\",\"btn btn-outline-secondary btn-sm\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.updateLayout()&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](38,0,null,null,0,\"i\",[[\"class\",\"fa fa-refresh\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Update\"]))],function(t,e){var n=e.component;t(e,11,0,\"bag-one\",n.filters),t(e,13,0,n.filters),t(e,19,0,\"bag-one\",n.columns),t(e,21,0,n.columns),t(e,28,0,\"bag-one\",n.rows),t(e,30,0,n.rows)},function(t,e){var n=e.component;t(e,17,0,n.columnName),t(e,26,0,n.rowName)})}var it=n(\"jYWo\"),ot={showLayout:!1,showData:!1},rt=function(){function t(){this.onFilterUpdate=new i.EventEmitter,this.onLayoutUpdate=new i.EventEmitter,this.showFilters=!1,this.filterConfig=ot}return t.prototype.ngOnInit=function(){},t.prototype.toggleFilters=function(t){t.stopPropagation(),this.showFilters=!this.showFilters},t.prototype.toggleCurrentFilter=function(t,e){t.stopPropagation(),this.selectedFilter=e},t.prototype.onFilterUpdateAction=function(t,e){this.selectedFilter=void 0,\"LAYOUT\"===e?this.onLayoutUpdate.emit(t):this.onFilterUpdate.emit(t)},t}(),at=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\".visualization-filter-section[_ngcontent-%COMP%]{width:100%}.visualization-filter-buttons[_ngcontent-%COMP%]{display:flex}.visualization-filter-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;height:10px}.no-borders[_ngcontent-%COMP%]{box-shadow:none}.no-borders[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px}.period-filter-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;height:15px}.data-filter-btn[_ngcontent-%COMP%], .layout-filter-btn[_ngcontent-%COMP%], .org-unit-filter-btn[_ngcontent-%COMP%], .period-filter-btn[_ngcontent-%COMP%]{margin-right:5px;display:flex;width:auto;font-size:12px;border-radius:15px}.data-filter-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .layout-filter-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .org-unit-filter-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;height:15px}.visualization-filter-list[_ngcontent-%COMP%]{display:flex;margin-left:5px}.visualization-filter-body[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.95);position:absolute;padding:5px;top:40px;width:400px;height:350px;z-index:1200}.active-filter[_ngcontent-%COMP%]{background-color:#f1f1f1}@media (max-width:500px){.visualization-filter-body[_ngcontent-%COMP%]{width:95%}}\"]],data:{animation:[{type:7,name:\"open\",definitions:[{type:0,name:\"in\",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:\"void => *\",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:700}],options:null},{type:1,expr:\"* => void\",animation:[{type:4,styles:null,timings:300},{type:6,styles:{opacity:0},offset:null}],options:null}],options:{}}]}});function st(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/filter.png\"]],null,null,null,null,null))],null,null)}function lt(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/close.png\"]],null,null,null,null,null))],null,null)}function ut(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"button\",[[\"class\",\"dashboard-btn data-filter-btn\"],[\"title\",\"Filter by data\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleCurrentFilter(n,\"DATA\")&&i),i},null,null)),i[\"\\u0275did\"](1,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,\"klass\"],ngClass:[1,\"ngClass\"]},null),i[\"\\u0275pod\"](2,{\"active-filter\":0}),(t()(),i[\"\\u0275eld\"](3,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/data.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"\\xa0Data \"]))],function(t,e){var n=t(e,2,0,\"DATA\"===e.component.selectedFilter);t(e,1,0,\"dashboard-btn data-filter-btn\",n)},null)}function ht(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"button\",[[\"class\",\"dashboard-btn layout-filter-btn\"],[\"title\",\"Change layout\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleCurrentFilter(n,\"LAYOUT\")&&i),i},null,null)),i[\"\\u0275did\"](1,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,\"klass\"],ngClass:[1,\"ngClass\"]},null),i[\"\\u0275pod\"](2,{\"active-filter\":0}),(t()(),i[\"\\u0275eld\"](3,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/layout.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"\\xa0Layout \"]))],function(t,e){var n=t(e,2,0,\"LAYOUT\"===e.component.selectedFilter);t(e,1,0,\"dashboard-btn layout-filter-btn\",n)},null)}function ct(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,14,\"div\",[[\"class\",\"visualization-filter-list\"]],[[24,\"@open\",0]],null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ut)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275eld\"](3,0,null,null,4,\"button\",[[\"class\",\"dashboard-btn period-filter-btn\"],[\"title\",\"Filter by period\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleCurrentFilter(n,\"PERIOD\")&&i),i},null,null)),i[\"\\u0275did\"](4,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,\"klass\"],ngClass:[1,\"ngClass\"]},null),i[\"\\u0275pod\"](5,{\"active-filter\":0}),(t()(),i[\"\\u0275eld\"](6,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/period.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"\\xa0Period \"])),(t()(),i[\"\\u0275eld\"](8,0,null,null,4,\"button\",[[\"class\",\"dashboard-btn org-unit-filter-btn\"],[\"title\",\"Filter by organisation unit\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleCurrentFilter(n,\"ORG_UNIT\")&&i),i},null,null)),i[\"\\u0275did\"](9,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,\"klass\"],ngClass:[1,\"ngClass\"]},null),i[\"\\u0275pod\"](10,{\"active-filter\":0}),(t()(),i[\"\\u0275eld\"](11,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/tree.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"\\xa0Org-Unit \"])),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ht)),i[\"\\u0275did\"](14,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,2,0,n.filterConfig.showData);var i=t(e,5,0,\"PERIOD\"===n.selectedFilter);t(e,4,0,\"dashboard-btn period-filter-btn\",i);var o=t(e,10,0,\"ORG_UNIT\"===n.selectedFilter);t(e,9,0,\"dashboard-btn org-unit-filter-btn\",o),t(e,14,0,n.filterConfig.showLayout)},function(t,e){t(e,0,0,void 0)})}function dt(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"app-org-unit-filter\",[],null,[[null,\"onOrgUnitClose\"],[null,\"onOrgUnitUpdate\"]],function(t,e,n){var i=!0,o=t.component;return\"onOrgUnitClose\"===e&&(i=!1!==(o.selectedFilter=void 0)&&i),\"onOrgUnitUpdate\"===e&&(i=!1!==o.onFilterUpdateAction(n,\"ORG_UNIT\")&&i),i},s.b,s.a)),i[\"\\u0275did\"](1,245760,null,0,l.a,[u.a,i.ChangeDetectorRef],{orgUnitModel:[0,\"orgUnitModel\"]},{onOrgUnitUpdate:\"onOrgUnitUpdate\",onOrgUnitClose:\"onOrgUnitClose\"})],function(t,e){var n=e.component;t(e,1,0,null==n.selectedDimensions?null:n.selectedDimensions.orgUnitModel)},null)}function pt(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"app-period-filter\",[],null,[[null,\"onPeriodFilterClose\"],[null,\"onPeriodUpdate\"]],function(t,e,n){var i=!0,o=t.component;return\"onPeriodFilterClose\"===e&&(i=!1!==(o.selectedFilter=void 0)&&i),\"onPeriodUpdate\"===e&&(i=!1!==o.onFilterUpdateAction(n,\"PERIOD\")&&i),i},h.b,h.a)),i[\"\\u0275did\"](1,4308992,null,0,c.a,[d.a],{selectedPeriods:[0,\"selectedPeriods\"]},{onPeriodUpdate:\"onPeriodUpdate\",onPeriodFilterClose:\"onPeriodFilterClose\"})],function(t,e){var n=e.component;t(e,1,0,null==n.selectedDimensions?null:n.selectedDimensions.selectedPeriods)},null)}function ft(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"app-data-filter\",[],null,[[null,\"onDataFilterClose\"],[null,\"onDataUpdate\"]],function(t,e,n){var i=!0,o=t.component;return\"onDataFilterClose\"===e&&(i=!1!==(o.selectedFilter=void 0)&&i),\"onDataUpdate\"===e&&(i=!1!==o.onFilterUpdateAction(n,\"DATA\")&&i),i},Y,N)),i[\"\\u0275did\"](1,245760,null,0,R,[A.a],{selectedItems:[0,\"selectedItems\"]},{onDataUpdate:\"onDataUpdate\",onDataFilterClose:\"onDataFilterClose\"})],function(t,e){var n=e.component;t(e,1,0,null==n.selectedDimensions?null:n.selectedDimensions.selectedDataItems)},null)}function gt(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"app-layout\",[],null,[[null,\"onLayoutClose\"],[null,\"onLayoutUpdate\"]],function(t,e,n){var i=!0,o=t.component;return\"onLayoutClose\"===e&&(i=!1!==(o.selectedFilter=void 0)&&i),\"onLayoutUpdate\"===e&&(i=!1!==o.onFilterUpdateAction(n,\"LAYOUT\")&&i),i},nt,J)),i[\"\\u0275did\"](1,114688,null,0,q,[],{layoutModel:[0,\"layoutModel\"],visualizationType:[1,\"visualizationType\"]},{onLayoutUpdate:\"onLayoutUpdate\",onLayoutClose:\"onLayoutClose\"})],function(t,e){var n=e.component;t(e,1,0,null==n.selectedDimensions?null:n.selectedDimensions.layoutModel,n.visualizationType)},null)}function mt(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,8,\"div\",[[\"class\",\"visualization-filter-body dashboard-border\"]],[[24,\"@open\",0]],null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,dt)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,pt)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ft)),i[\"\\u0275did\"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,gt)),i[\"\\u0275did\"](8,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,2,0,\"ORG_UNIT\"===n.selectedFilter),t(e,4,0,\"PERIOD\"===n.selectedFilter),t(e,6,0,\"DATA\"===n.selectedFilter),t(e,8,0,\"LAYOUT\"===n.selectedFilter)},function(t,e){t(e,0,0,void 0)})}function vt(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,11,\"div\",[[\"appClickOutside\",\"\"],[\"class\",\"visualization-filter-section\"]],null,[[null,\"clickOutside\"],[\"document\",\"click\"]],function(t,e,n){var o=!0,r=t.component;return\"document:click\"===e&&(o=!1!==i[\"\\u0275nov\"](t,1).onClick(n.target)&&o),\"clickOutside\"===e&&(o=!1!==(r.selectedFilter=void 0)&&o),o},null,null)),i[\"\\u0275did\"](1,16384,null,0,it.a,[i.ElementRef],null,{clickOutside:\"clickOutside\"}),(t()(),i[\"\\u0275eld\"](2,0,null,null,7,\"div\",[[\"class\",\"visualization-filter-buttons\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](3,0,null,null,4,\"button\",[[\"title\",\"Filter by different dimensions\"]],[[8,\"className\",0],[8,\"disabled\",0]],[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleFilters(n)&&i),i},null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,st)),i[\"\\u0275did\"](5,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,lt)),i[\"\\u0275did\"](7,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ct)),i[\"\\u0275did\"](9,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,mt)),i[\"\\u0275did\"](11,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,5,0,!n.showFilters),t(e,7,0,n.showFilters),t(e,9,0,n.showFilters),t(e,11,0,n.selectedFilter)},function(t,e){var n=e.component;t(e,3,0,i[\"\\u0275inlineInterpolate\"](1,\"dashboard-btn visualization-filter-btn \",n.filterConfig.hideButtonBorders?\"no-borders\":\"\",\"\"),!n.loaded)})}var yt=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),_t=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\"@-webkit-keyframes placeHolderShimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}@keyframes placeHolderShimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}.animated-background[_ngcontent-%COMP%]{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:placeHolderShimmer;animation-name:placeHolderShimmer;-webkit-animation-timing-function:linear;animation-timing-function:linear;background:#f6f7f8;background:linear-gradient(to right,#eee 8%,#ddd 18%,#eee 33%);background-size:800px 104px;height:100%;position:relative}\"]],data:{}});function bt(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"div\",[[\"class\",\"animated-background\"]],null,null,null,null,null))],null,null)}var xt=function(){function t(){this.tableCellCounts=z.range(56)}return t.prototype.ngOnInit=function(){},t}(),wt=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\".visualization-card-loader-container[_ngcontent-%COMP%]{height:100%}.loader-block[_ngcontent-%COMP%]{position:absolute;top:5%;bottom:5%;height:90%;width:100%}.chart-loader[_ngcontent-%COMP%], .map-loader[_ngcontent-%COMP%], .table-loader[_ngcontent-%COMP%]{display:flex;justify-content:center;position:absolute;bottom:0;width:100%;height:100%}.chart-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-left:5%;margin-right:5%;width:10%}.table-loader[_ngcontent-%COMP%]{flex-wrap:wrap}.table-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:1%;width:10%;height:10%}.loading-text[_ngcontent-%COMP%]{position:absolute;bottom:0;height:12%;padding-left:5%;padding-bottom:10px;font-size:20px;display:flex;justify-content:center}.loading-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-top:5px}.loading-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;height:40px}@-webkit-keyframes placeHolderShimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}@keyframes placeHolderShimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}.animated-background[_ngcontent-%COMP%]{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:placeHolderShimmer;animation-name:placeHolderShimmer;-webkit-animation-timing-function:linear;animation-timing-function:linear;background:#f6f7f8;background:linear-gradient(to right,#eee 8%,#ddd 18%,#eee 33%);background-size:800px 104px;height:100%;position:relative}\"]],data:{}});function Ct(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,18,\"div\",[[\"class\",\"chart-loader\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,2,\"div\",[[\"style\",\"margin-top: 30%;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,1,\"app-progress-loader\",[],null,null,null,bt,_t)),i[\"\\u0275did\"](3,114688,null,0,yt,[],null,null),(t()(),i[\"\\u0275eld\"](4,0,null,null,2,\"div\",[[\"style\",\"margin-top: 20%;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](5,0,null,null,1,\"app-progress-loader\",[],null,null,null,bt,_t)),i[\"\\u0275did\"](6,114688,null,0,yt,[],null,null),(t()(),i[\"\\u0275eld\"](7,0,null,null,2,\"div\",[[\"style\",\"height: 100%;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](8,0,null,null,1,\"app-progress-loader\",[],null,null,null,bt,_t)),i[\"\\u0275did\"](9,114688,null,0,yt,[],null,null),(t()(),i[\"\\u0275eld\"](10,0,null,null,2,\"div\",[[\"style\",\"margin-top: 10%;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](11,0,null,null,1,\"app-progress-loader\",[],null,null,null,bt,_t)),i[\"\\u0275did\"](12,114688,null,0,yt,[],null,null),(t()(),i[\"\\u0275eld\"](13,0,null,null,2,\"div\",[[\"style\",\"margin-top: 25%;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](14,0,null,null,1,\"app-progress-loader\",[],null,null,null,bt,_t)),i[\"\\u0275did\"](15,114688,null,0,yt,[],null,null),(t()(),i[\"\\u0275eld\"](16,0,null,null,2,\"div\",[[\"style\",\"margin-top: 20%;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](17,0,null,null,1,\"app-progress-loader\",[],null,null,null,bt,_t)),i[\"\\u0275did\"](18,114688,null,0,yt,[],null,null)],function(t,e){t(e,3,0),t(e,6,0),t(e,9,0),t(e,12,0),t(e,15,0),t(e,18,0)},null)}function kt(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"app-progress-loader\",[],null,null,null,bt,_t)),i[\"\\u0275did\"](2,114688,null,0,yt,[],null,null)],function(t,e){t(e,2,0)},null)}function Ot(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"table-loader\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,kt)),i[\"\\u0275did\"](2,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],function(t,e){t(e,2,0,e.component.tableCellCounts)},null)}function Mt(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,3,\"div\",[[\"class\",\"map-loader\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,2,\"div\",[[\"style\",\"width: 100%\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,1,\"div\",[[\"class\",\"animated-background\"],[\"style\",\"-webkit-clip-path: polygon(46% 7%, 52% 7%, 59% 10%, 62% 15%, 62% 20%, 59% 26%, 65% 30%, 67% 35%, 72% 38%, 79% 38%, 84% 36%, 87% 41%, 87% 46%, 85% 52%, 81% 54%, 75% 57%, 75% 64%, 79% 69%, 82% 75%, 82% 81%, 80% 85%, 74% 89%, 70% 93%, 65% 93%, 58% 93%, 51% 93%, 44% 93%, 37% 90%, 31% 87%, 25% 86%, 21% 90%, 17% 93%, 11% 94%, 5% 91%, 2% 83%, 2% 73%, 5% 65%, 11% 58%, 16% 59%, 21% 65%, 24% 60%, 21% 55%, 18% 52%, 12% 49%, 8% 51%, 2% 55%, 0% 48%, 0% 41%, 0% 36%, 4% 31%, 7% 26%, 7% 19%, 8% 13%, 13% 9%, 21% 4%, 29% 3%, 38% 3%);\\n        clip-path: polygon(46% 7%, 52% 7%, 59% 10%, 62% 15%, 62% 20%, 59% 26%, 65% 30%, 67% 35%, 72% 38%, 79% 38%, 84% 36%, 87% 41%, 87% 46%, 85% 52%, 81% 54%, 75% 57%, 75% 64%, 79% 69%, 82% 75%, 82% 81%, 80% 85%, 74% 89%, 70% 93%, 65% 93%, 58% 93%, 51% 93%, 44% 93%, 37% 90%, 31% 87%, 25% 86%, 21% 90%, 17% 93%, 11% 94%, 5% 91%, 2% 83%, 2% 73%, 5% 65%, 11% 58%, 16% 59%, 21% 65%, 24% 60%, 21% 55%, 18% 52%, 12% 49%, 8% 51%, 2% 55%, 0% 48%, 0% 41%, 0% 36%, 4% 31%, 7% 26%, 7% 19%, 8% 13%, 13% 9%, 21% 4%, 29% 3%, 38% 3%); display: table;\\n          margin: 0 auto; height: 400px; width: 350px;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](3,0,null,null,0,\"div\",[[\"aria-valuemax\",\"100\"],[\"aria-valuemin\",\"0\"],[\"aria-valuenow\",\"100\"],[\"class\",\"progress-bar progress-bar-striped active\"],[\"role\",\"progressbar\"],[\"style\",\"width:100%; background-color: #ececec;\"]],null,null,null,null,null))],null,null)}function Lt(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,7,\"div\",[[\"class\",\"visualization-card-loader-container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,4,\"div\",[[\"class\",\"loader-block\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Ct)),i[\"\\u0275did\"](3,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Ot)),i[\"\\u0275did\"](5,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Mt)),i[\"\\u0275did\"](7,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,3,0,\"CHART\"===n.visualizationType),t(e,5,0,\"TABLE\"===n.visualizationType),t(e,7,0,\"MAP\"===n.visualizationType)},null)}var St=function(){function t(t){this.sanitized=t}return t.prototype.transform=function(t){return this.sanitized.bypassSecurityTrustHtml(t)},t}(),Pt=n(\"ZYjt\"),Tt=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),It=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\"\"]],data:{}});function At(t){return i[\"\\u0275vid\"](0,[i[\"\\u0275pid\"](0,St,[Pt.DomSanitizer]),(t()(),i[\"\\u0275eld\"](1,0,null,null,8,\"div\",[[\"class\",\"text-center\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,0,\"i\",[[\"class\",\"fa fa-exclamation-triangle fa-3x text-warning\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](3,0,null,null,0,\"br\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](4,0,null,null,1,\"h4\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Aw, Snap. We are sorry for this inconvenience, our server tells us that\"])),(t()(),i[\"\\u0275eld\"](6,0,null,null,1,\"h5\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](7,null,[\"\",\" - (Error Code \",\")\"])),(t()(),i[\"\\u0275eld\"](8,0,null,null,1,\"small\",[],[[8,\"innerHTML\",1]],null,null,null,null)),i[\"\\u0275ppd\"](9,1)],null,function(t,e){var n=e.component;t(e,7,0,n.errorMessage.statusText,n.errorMessage.status);var o=i[\"\\u0275unv\"](e,8,0,t(e,9,0,i[\"\\u0275nov\"](e,0),n.errorMessage.message));t(e,8,0,o)})}var zt=n(\"6n/F\"),Dt=n(\"AxlJ\"),Et=n(\"iTcJ\"),Rt=n(\"1op0\"),Nt=n(\"M8aS\"),Bt=n(\"22jQ\"),Ft=n(\"RSNc\"),jt=n(\"C4+Z\"),Ut=n(\"Tos5\"),Vt=function(){function t(){}return t.prototype.drawChart=function(t,e){var n=this._sanitizeAnalyticsBasedOnConfiguration(this._standardizeIncomingAnalytics(t),e),i={chart:this._getChartAttributeOptions(e),title:this._getChartTitleObject(e),subtitle:this._getChartSubtitleObject(e),credits:this._getChartCreditsOptions(),colors:this._getChartColors(),plotOptions:this._getPlotOptions(e),tooltip:this._getTooltipOptions(e),exporting:this._getChartExportingOptions()};switch(e.type){case\"radar\":i=this._extendSpiderWebChartOptions(i,n,e);break;case\"solidgauge\":i=this._extendSolidGaugeChartOptions(i,n,e);break;case\"gauge\":var o=z.clone(e);o.type=\"solidgauge\",i=this._extendSolidGaugeChartOptions(i,n,o);break;case\"pie\":i=this._extendPieChartOptions(i,n,e);break;case\"combined\":console.log(\"combined\");break;default:i=this._extendOtherChartOptions(i,n,e)}return i},t.prototype._extendSpiderWebChartOptions=function(t,e,n){var i=z.clone(t),o=this._getAxisItems(e,n.yAxisType);i.pane=z.assign({},this._getPaneOptions(n.type)),i.yAxis=z.assign([],this._getYAxisOptions(n));var r=this._getSortableSeries(this._getChartSeriesNew(e,this._getAxisItemsNew(e,n.xAxisType,!0),o,n),n.cumulativeValues?-1:n.sortOrder),a=this._getRearrangedSeries(r,n.type);return i.series=z.assign([],a),i.xAxis=this._getXAxisOptions(this._getRefinedXAxisCategories(i.series),n.type),i},t.prototype._extendPieChartOptions=function(t,e,n){var i=z.clone(t),o=this._getAxisItems(e,n.yAxisType),r=this._getSortableSeries(this._getChartSeriesNew(e,this._getAxisItemsNew(e,n.xAxisType,!0),o,n),n.sortOrder).map(function(t){return t.data=t.data.map(function(t){return null===t.y&&(t.y=0),t}),t});return o.length>1?(i.series=this._getDrilldownParentSeries(r,o,n.yAxisType),i.drilldown={series:r}):i.series=z.assign([],r),i},t.prototype._getDrilldownParentSeries=function(t,e,n){var i=this;return[{name:\"pe\"===n?\"Period\":\"dx\"===n?\"Data\":\"ou\"===n?\"Organisation unit\":\"Categories\",colorByPoint:!0,data:z.map(e,function(e){return{name:e.name,drilldown:e.id,y:i._deduceDrilldownParentDataFromChildrenSeries(t,e.id)}})}]},t.prototype._deduceDrilldownParentDataFromChildrenSeries=function(t,e){var n=0,i=z.find(t,[\"id\",e]);return i&&(n=z.reduce(z.map(i.data,function(t){return t.y}),function(t,e){var n=isNaN(e)?0:parseInt(e,10);return parseInt(t,10)+n})),n},t.prototype._extendSolidGaugeChartOptions=function(t,e,n){var i=z.clone(t),o=this._getAxisItems(e,n.yAxisType);i.pane=this._getPaneOptions(n.type),i.yAxis=z.assign([],this._getYAxisOptions(n));var r=this._getSortableSeries(this._getChartSeriesNew(e,this._getAxisItemsNew(e,n.xAxisType,!0),o,n),n.cumulativeValues?-1:n.sortOrder),a=this._getRearrangedSeries(r,n.type);return i.series=z.assign([],a),i},t.prototype._extendOtherChartOptions=function(t,e,n){var i=z.clone(t),o=this._getAxisItems(e,n.yAxisType);i.yAxis=z.assign([],this._getYAxisOptions(n));var r=this._getSortableSeries(this._getChartSeriesNew(e,this._getAxisItemsNew(e,n.xAxisType,!0),o,n),n.cumulativeValues?-1:n.sortOrder),a=this._getRearrangedSeries(r,n.type),s=this._updateSeriesWithAxisOptions(a,n.multiAxisTypes);i.series=z.assign([],s),i.xAxis=this._getXAxisOptions(this._getRefinedXAxisCategoriesNew(i.series),n.type);var l=z.filter(z.map(i.series,function(t){return t.data[0]?t.data[0].color:void 0}),function(t){return t});return l.length>0&&(i.colors=l),i},t.prototype._updateSeriesWithAxisOptions=function(t,e){var n=this;return z.map(t,function(t){var i=z.clone(t),o=z.find(e,[\"id\",i.id]);return o&&(i.yAxis=\"left\"===o.axis?0:1,i.type=\"\"!==o.type?n._getAllowedChartType(o.type):t.type,\"dotted\"===o.type&&(i.lineWidth=0,i.states={hover:{enabled:!1}}),i.data=z.map(i.data,function(t){var e=z.clone(t);return\"\"!==o.color&&(e.color=o.color),e})),i})},t.prototype._getRearrangedSeries=function(t,e){return t},t.prototype._getRefinedXAxisCategoriesNew=function(t){var e=[];if(t){var n=z.map(t,function(t){return t.data});if(n){var i=z.map(n,function(t){return z.map(t,function(t){var e=t.name.split(\"_\"),n=[];if(e){var i=z.reverse(e);z.times(e.length,function(t){if(0===t)n.push({name:i[t]});else{var e=z.find(n,[\"name\",i[t-1]]);if(e){var o=z.findIndex(n,e),r=e.categories?e.categories:[];r=z.concat(r,i[t]),e.categories=z.assign([],r),n[o]=e}}})}return n[0]})});if(i){var o=z.groupBy(i[0],\"name\"),r=z.map(i[0],function(t){return t.name}),a=[];z.forEach(r,function(t){var e=z.filter(z.map(o[t],function(t){return t.categories?t.categories[0]:null}),function(t){return null!==t});a.push(0===e.length?{name:t}:{name:t,categories:e})}),e=z.assign([],a)}}}return e},t.prototype._getRefinedXAxisCategories=function(t){var e=[];if(t){var n=z.map(t,function(t){return t.data});if(n){var i=z.map(n,function(t){return z.map(t,function(t){return t.name})});i&&(e=z.assign([],i[0]))}}return e},t.prototype._getSortableSeries=function(t,e){var n=t.slice(),i=[],o=this._getCombinedSeriesData(z.map(t,function(t){return t.data})).slice();return 1===e?(i=z.map(z.reverse(z.sortBy(o,[\"y\"])),function(t){return t.id}),n=z.map(n,function(t){var e=I.__assign({},t);return i.length>0&&(e.data=z.map(i,function(e){return z.find(t.data,[\"id\",e])}).slice()),e})):-1===e&&(i=z.map(z.sortBy(o,[\"y\"]),function(t){return t.id}),n=z.map(t,function(t){var e=I.__assign({},t);return i.length>0&&(e.data=z.map(i,function(e){return z.find(t.data,[\"id\",e])}).slice()),e})),n},t.prototype._getCombinedSeriesData=function(t){var e=[];return t.forEach(function(t){t.forEach(function(t){var n=z.find(e,[\"id\",t.id]);if(n){var i=z.findIndex(e,n),o=I.__assign({},t);o.y+=n.y,e=e.slice(0,i).concat([o],e.slice(i+1))}else e=e.concat([t])})}),e},t.prototype._getChartSeriesNew=function(t,e,n,i){var o=this;return n.map(function(n,r){return{name:n.name,id:n.id,index:r,turboThreshold:0,pointPlacement:\"radar\"===i.type?\"on\":void 0,data:o._getSeriesDataNew(t,i,n.id,e),type:o._getAllowedChartType(i.type)}})},t.prototype._getSeriesDataNew=function(t,e,n,i){var o=this,r=[],a=z.findIndex(t.headers,z.find(t.headers,[\"name\",e.yAxisType])),s=z.findIndex(t.headers,z.find(t.headers,[\"name\",\"value\"])),l=z.map(e.xAxisType,function(e){return z.findIndex(t.headers,z.find(t.headers,[\"name\",e]))}).join(\"_\");return i&&i.forEach(function(i){var u=o._getSeriesValueNew(t.rows,a,n,l,i.id,s);r.push({id:i.id,name:i.name,dataLabels:o._getDataLabelsOptions(e),y:u})}),r},t.prototype._getSeriesValueNew=function(t,e,n,i,o,r){var a=0,s=z.map(t,function(t){var a=0,s=\"\";return z.forEach(i.split(\"_\"),function(e){s+=\"\"!==s?\"_\":\"\",s+=t[e]}),t[e]===n&&s===o&&(a+=parseFloat(t[r])),a}).filter(function(t){return 0!==t});if(s){var l=z.some(s,function(t){return t.toString().split(\".\")[1]}),u=s.length>0?s.reduce(function(t,e){return t+e}):0;a=l?parseFloat((u/s.length).toFixed(2)):u}return 0!==a?a:null},t.prototype._getDataLabelsOptions=function(t){var e=null;switch(t.type){case\"pie\":e={enabled:t.showData,format:\"{point.name}<br/> <b>{point.y}</b> ( {point.percentage:.1f} % )\"};break;default:e={enabled:t.showData}}return e},t.prototype._getAxisItemsNew=function(t,e,n){void 0===n&&(n=!1);var i=[],o=t.metaData.names,r=t.metaData.dimensions;return e.forEach(function(t,e){var n=r[t];if(n)if(e>0){var a=z.assign([],i);i=[],n.forEach(function(t){a.forEach(function(e){i.push({id:e.id+\"_\"+t,name:e.name+\"_\"+o[t].trim()})})})}else i=z.map(n,function(t){return{id:t,name:o[t].trim()}})}),i},t.prototype._getAxisItems=function(t,e,n){void 0===n&&(n=!1);var i=[],o=t.metaData.names,r=t.metaData.dimensions[e];return r&&(i=z.map(r,function(t){return{id:t,name:o[t]}})),i},t.prototype._getChartTitleObject=function(t){return t.hideTitle?null:{text:t.title,style:{fontWeight:\"500\",fontSize:\"16px\"}}},t.prototype._getChartSubtitleObject=function(t){return{text:t.subtitle}},t.prototype._getChartCreditsOptions=function(){return{enabled:!1}},t.prototype._getChartColors=function(){return[\"#A9BE3B\",\"#558CC0\",\"#D34957\",\"#FF9F3A\",\"#968F8F\",\"#B7409F\",\"#FFDA64\",\"#4FBDAE\",\"#B78040\",\"#676767\",\"#6A33CF\",\"#4A7833\",\"#434348\",\"#7CB5EC\",\"#F7A35C\",\"#F15C80\"]},t.prototype._getChartExportingOptions=function(){return{buttons:{contextButton:{enabled:!1}}}},t.prototype._getChartLabelOptions=function(t){return{}},t.prototype._getTooltipOptions=function(t){var e=this._getAllowedChartType(t.type),n={};if(e)switch(e){case\"solidgauge\":n={enabled:!1};break;case\"pie\":n={pointFormat:\"{series.name}<br/> <b>{point.y}</b> ( {point.percentage:.1f} % )\"};break;default:switch(t.type){case\"stacked_column\":n={headerFormat:\"<b>{point.x}</b><br/>\",pointFormat:\"{series.name}: {point.y}<br/>Total: {point.stackTotal}\"};break;default:n={enabled:!0}}}return n},t.prototype._getPlotOptions=function(t){var e=this._getAllowedChartType(t.type),n={};if(e)switch(e){case\"solidgauge\":case\"gauge\":n[e]={dataLabels:{y:5,borderWidth:0,useHTML:!0}};break;case\"pie\":n[e]={borderWidth:0,allowPointSelect:!0,cursor:\"pointer\",showInLegend:!t.hideLegend};break;default:n[\"\"!==e?e:\"series\"]={showInLegend:!t.hideLegend},\"stacked_column\"!==t.type&&\"stacked_bar\"!==t.type&&\"area\"!==t.type||(n[e].stacking=t.percentStackedValues?\"percent\":\"normal\"),\"dotted\"===t.type&&(n.line={lineWidth:0,states:{hover:{enabled:!1}}})}return n},t.prototype._getChartAttributeOptions=function(t){var e={renderTo:t.renderId,zoomType:\"xy\",type:this._getAllowedChartType(t.type)};return\"pie\"===t.type?(e.plotBackgroundColor=null,e.plotBorderWidth=null,e.plotShadow=!1):\"radar\"===t.type&&(e.polar=!0),e},t.prototype._getPaneOptions=function(t){var e={};switch(t){case\"radar\":e=z.assign({},{size:\"80%\"});break;default:e=z.assign({},{center:[\"50%\",\"85%\"],size:\"140%\",startAngle:-90,endAngle:90,background:{backgroundColor:\"#EEE\",innerRadius:\"60%\",outerRadius:\"100%\",shape:\"arc\"}})}return e},t.prototype._getLegendOptions=function(t){return{align:t.legendAlign,reversed:t.reverseLegend,layout:\"right\"===t.legendAlign||\"left\"===t.legendAlign?\"vertical\":\"horizontal\",y:\"top\"===t.legendAlign?0:\"bottom\"===t.legendAlign?25:0}},t.prototype._getXAxisOptions=function(t,e){var n={};switch(e){case\"radar\":n=z.assign({},{categories:t,tickmarkPlacement:\"on\",lineWidth:0});break;default:n=z.assign({},{categories:t,labels:{rotation:t.length<=5?0:-45,style:{color:\"#000000\",fontWeight:\"normal\",fontSize:\"12px\"}}})}return n},t.prototype._getYAxisOptions=function(t){var e,n=t.axes;return e=0===n.length?z.assign([],[{min:t.rangeAxisMinValue,max:t.rangeAxisMaxValue,title:{text:\"\",style:{color:\"#000000\",fontWeight:\"normal\",fontSize:\"14px\"}}}]):z.map(n,function(e,n){return{min:t.rangeAxisMinValue,max:t.rangeAxisMaxValue,title:{text:e.name,style:{color:\"#000000\",fontWeight:\"normal\",fontSize:\"14px\"}},opposite:\"left\"!==e.orientation}}),z.map(e,function(e){switch(t.type){case\"radar\":e.gridLineInterpolation=\"polygon\",e.lineWidth=0;break;case\"solidgauge\":e.lineWidth=0,e.labels={y:16},e.max=100;break;case\"stacked_column\":e.stackLabels={enabled:!1,style:{fontWeight:\"bold\"}};break;default:e.labels={style:{color:\"#000000\",fontWeight:\"normal\",fontSize:\"14px\"}},e.plotLines=[{color:\"#000000\",dashStyle:\"Solid\",value:t.targetLineValue,width:2,zIndex:1e3,label:{text:t.targetLineLabel}},{color:\"#000000\",dashStyle:\"Solid\",value:t.baseLineValue,zIndex:1e3,width:2,label:{text:t.baseLineLabel}}]}return e})},t.prototype._getAllowedChartType=function(t){var e=\"\";switch(t){case\"radar\":case\"dotted\":e=\"line\";break;default:var n=t.split(\"_\");e=n.length>1?n[1]:n[0]}return e},t.prototype._sanitizeAnalyticsBasedOnConfiguration=function(t,e){var n=z.clone(t);return e.cumulativeValues&&(n=z.assign({},this._mapAnalyticsToCumulativeFormat(t,e.xAxisType[0],e.yAxisType))),n},t.prototype._mapAnalyticsToCumulativeFormat=function(t,e,n){var i=z.clone(t);if(t){var o=t.metaData.dimensions[n],r=z.reverse(t.metaData.dimensions[e].slice()).slice(),a=z.findIndex(t.headers,z.find(t.headers,[\"name\",n])),s=z.findIndex(t.headers,z.find(t.headers,[\"name\",e])),l=z.findIndex(t.headers,z.find(t.headers,[\"name\",\"value\"])),u=[];o.forEach(function(e){var n=0;r.forEach(function(i){t.rows.forEach(function(t){if(t[a]===e&&t[s]===i){n+=parseInt(t[l],10);var o=z.clone(t);o[l]=n,u.push(o)}})})}),i.rows=z.assign([],u)}return i},t.prototype._standardizeIncomingAnalytics=function(t){var e={headers:[],metaData:{names:null,dimensions:null},rows:[]};if(t){if(t.headers&&t.headers.forEach(function(t){try{e.headers.push(t)}catch(n){console.warn(\"Invalid header object\")}}),t.metaData)try{var n=this._getSanitizedAnalyticsMetadata(t.metaData);e.metaData=n}catch(i){console.warn(\"Invalid metadata object\")}t.rows&&(e.rows=t.rows)}return e},t.prototype._getSanitizedAnalyticsMetadata=function(t){var e={names:null,dimensions:null};if(t){if(t.names)e.names=t.names;else if(t.items){var n=z.keys(t.items),i={};n&&n.forEach(function(e){i[e]=t.items[e].name}),e.names=i}if(t.dimensions)e.dimensions=t.dimensions;else{var o=z.keys(t),r={};o&&o.forEach(function(e){\"names\"!==e&&(r[e]=t[e])}),e.dimensions=r}}return e},t}(),Gt=[{type:\"column\",description:\"Column chart\",icon:\"assets/icons/column.png\"},{type:\"line\",description:\"Line chart\",icon:\"assets/icons/line.png\"},{type:\"bar\",description:\"Bar chart\",icon:\"assets/icons/bar.png\"},{type:\"area\",description:\"Area chart\",icon:\"assets/icons/area.png\"},{type:\"pie\",description:\"Pie chart\",icon:\"assets/icons/pie.png\"},{type:\"stacked_column\",description:\"stacked column chart\",icon:\"assets/icons/stacked-column.png\"},{type:\"stacked_bar\",description:\"stacked bar chart\",icon:\"assets/icons/stacked-bar.png\"},{type:\"radar\",description:\"Radar chart\",icon:\"assets/icons/radar.png\"}],Ht=n(\"XIA2\");Dt(zt),Et(zt),Rt(zt),Nt(zt),Bt(zt),Ft(zt),jt(zt),Ut(zt);var Zt=function(){function t(t,e){this.chartService=t,this.visualizationExportService=e,this.chartTypes=Gt,this.showOptions=!1}return t.prototype.ngOnInit=function(){this.currentChartType=this.chartConfiguration.type,this.renderId=this.chartConfiguration.renderId,this.drawChart(this.analyticsObject,this.chartConfiguration)},t.prototype.drawChart=function(t,e){var n=this;if(e&&t){var i=this.chartService.drawChart(t,e);i&&setTimeout(function(){n.chart=zt.chart(i)},20)}},t.prototype.updateChartType=function(t,e){e.stopPropagation(),this.currentChartType=t,this.drawChart(this.analyticsObject,I.__assign({},this.chartConfiguration,{type:t}))},t.prototype.onFocus=function(t){this.showOptions=!(!t.focused||!this.enableChartOptions)},t.prototype.downloadChart=function(t,e){this.chart&&(\"PDF\"===e?this.chart.exportChartLocal({filename:t,type:\"application/pdf\"}):\"PNG\"===e?this.chart.exportChartLocal({filename:t,type:\"image/png\"}):\"JPEG\"===e?this.chart.exportChartLocal({filename:t,type:\"image/jpeg\"}):\"SVG\"===e?this.chart.exportChartLocal({filename:t,type:\"image/svg+xml\"}):\"CSV\"===e?this.visualizationExportService.exportCSV(t,\"\",this.chart.getCSV()):\"XLS\"===e&&this.visualizationExportService.exportXLS(t,this.chart.getTable()))},t}(),Wt=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\".chart-item-container[_ngcontent-%COMP%]{position:relative}.chart-type-list[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;position:absolute;top:30px;bottom:0;right:0;width:30px;height:95%;border-style:none;background-color:transparent;z-index:1200}.chart-type-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border-style:none;cursor:pointer;background-color:rgba(255,255,255,.85);height:30px;width:30px;border-radius:50%;text-align:center;text-decoration:none;display:flex;transition:all .2s ease-in-out;box-shadow:0 0 3px rgba(0,0,0,.3);margin-top:5px}.chart-type-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{background-color:rgba(241,241,241,.6);-webkit-transform:scale(1.1);transform:scale(1.1)}.chart-type-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:18px;display:block;margin:auto}.active-chart-type[_ngcontent-%COMP%]{background-color:#f1f1f1!important;cursor:not-allowed!important}@media print{.chart-type-list[_ngcontent-%COMP%]{display:none}}\"]],data:{}});function Yt(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,3,\"li\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,2,\"button\",[],[[8,\"title\",0],[8,\"disabled\",0]],[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.updateChartType(t.context.$implicit.type,n)&&i),i},null,null)),i[\"\\u0275did\"](2,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,\"ngClass\"]},null),(t()(),i[\"\\u0275eld\"](3,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"class\",\"chart-option-icon\"]],[[8,\"src\",4]],null,null,null,null))],function(t,e){t(e,2,0,e.component.currentChartType==e.context.$implicit.type?\"active-chart-type\":\"\")},function(t,e){var n=e.component;t(e,1,0,i[\"\\u0275inlineInterpolate\"](1,\"\",e.context.$implicit.description,\"\"),n.currentChartType==e.context.$implicit.type),t(e,3,0,e.context.$implicit.icon)})}function Xt(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,6,\"div\",[[\"class\",\"chart-item-container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,2,\"div\",[[\"class\",\"chart-block\"]],[[8,\"id\",0]],null,null,null,null)),i[\"\\u0275did\"](2,278528,null,0,a.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,\"ngStyle\"]},null),i[\"\\u0275pod\"](3,{width:0,height:1}),(t()(),i[\"\\u0275eld\"](4,0,null,null,2,\"ul\",[[\"class\",\"chart-type-list animated fadeInRight\"]],[[8,\"hidden\",0]],null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Yt)),i[\"\\u0275did\"](6,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],function(t,e){var n=e.component,i=t(e,3,0,\"100%\",n.chartHeight);t(e,2,0,i),t(e,6,0,n.chartTypes)},function(t,e){var n=e.component;t(e,1,0,i[\"\\u0275inlineInterpolate\"](1,\"\",n.renderId,\"\")),t(e,4,0,!n.showOptions)})}var $t=function(){function t(){}return t.prototype.getChartConfiguration=function(t,e,n,i){return void 0===i&&(i=\"\"),{renderId:e,type:\"\"!==i?i.toLowerCase():t.type?t.type.toLowerCase():\"column\",title:t.hasOwnProperty(\"displayName\")?t.displayName:\"\",subtitle:t.hasOwnProperty(\"subtitle\")?t.subtitle:\"\",hideTitle:!t.hasOwnProperty(\"hideTitle\")||t.hideTitle,hideSubtitle:!t.hasOwnProperty(\"hideSubtitle\")||t.hideSubtitle,showData:!t.hasOwnProperty(\"showData\")||t.showData,hideEmptyRows:!t.hasOwnProperty(\"hideEmptyRows\")||t.hideEmptyRows,hideLegend:!t.hasOwnProperty(\"hideLegend\")||t.hideLegend,cumulativeValues:!!t.hasOwnProperty(\"cumulativeValues\")&&t.cumulativeValues,targetLineValue:t.targetLineValue?t.targetLineValue:void 0,targetLineLabel:t.targetLineLabel?t.targetLineLabel:\"\",baseLineValue:t.baseLineValue?t.baseLineValue:void 0,baseLineLabel:t.baseLineLabel?t.baseLineLabel:\"\",legendAlign:\"bottom\",reverseLegend:!1,showLabels:!0,axes:t.axes?t.axes:[],rangeAxisMaxValue:t.rangeAxisMaxValue?t.rangeAxisMaxValue:void 0,rangeAxisMinValue:t.rangeAxisMinValue?t.rangeAxisMinValue:void 0,sortOrder:t.hasOwnProperty(\"sortOrder\")?t.sortOrder:0,percentStackedValues:!!t.hasOwnProperty(\"percentStackedValues\")&&t.percentStackedValues,multiAxisTypes:t.hasOwnProperty(\"selectedChartTypes\")?t.selectedChartTypes:[],xAxisType:n?z.map(n.rows,function(t){return t.value}):[\"dx\"],yAxisType:n?z.map(n.columns,function(t){return t.value})[0]:\"ou\"}},t}(),Kt=function(){function t(t){this.chartConfig=t,this.visualizationLayers=[],this.chartLayers=[]}return t.prototype.ngOnInit=function(){var t=this;this.visualizationLayers.length>0&&(this.chartLayers=this.visualizationLayers.map(function(e,n){return{chartConfiguration:t.chartConfig.getChartConfiguration(e.settings,t.visualizationId+\"_\"+n,e.layout),analyticsObject:e.analytics}}))},t.prototype.onParentEvent=function(t){this.chartItem&&this.chartItem.onFocus(t)},t.prototype.onDownloadEvent=function(t,e){this.chartItem&&this.chartItem.downloadChart(t,e)},t}(),qt=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\".chart-list[_ngcontent-%COMP%]{padding:10px}\"]],data:{}});function Jt(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"col-12 chart-list\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"app-chart-item\",[],null,null,null,Xt,Wt)),i[\"\\u0275did\"](2,114688,[[1,4]],0,Zt,[Vt,Ht.a],{chartConfiguration:[0,\"chartConfiguration\"],analyticsObject:[1,\"analyticsObject\"],chartHeight:[2,\"chartHeight\"],enableChartOptions:[3,\"enableChartOptions\"]},null)],function(t,e){var n=e.component;t(e,2,0,e.context.$implicit.chartConfiguration,e.context.$implicit.analyticsObject,n.chartHeight,n.showChartOptions)},null)}function Qt(t){return i[\"\\u0275vid\"](0,[i[\"\\u0275qud\"](671088640,1,{chartItem:0}),(t()(),i[\"\\u0275eld\"](1,0,null,null,2,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Jt)),i[\"\\u0275did\"](3,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],function(t,e){t(e,3,0,e.component.chartLayers)},null)}var te=function(){function t(){}return t.prototype.drawTable=function(t,e){var n=e.legendSet?e.legendSet.legends:null,i={headers:[],columns:[],rows:[],titles:{rows:[],column:[]},titlesAvailable:!1,hasParentOu:!1};if(e.hasOwnProperty(\"title\")&&(i.title=e.title),e.hasOwnProperty(\"subtitle\")&&(i.subtitle=e.subtitle),e.displayList){i.headers[0]={items:[],style:\"\"},e.columns[e.columns.indexOf(\"pe\")]=\"eventdate\",e.columns[e.columns.indexOf(\"ou\")]=\"ouname\";for(var o=0,r=e.columns;o<r.length;o++)i.headers[0].items.push({name:t.headers[this._getTitleIndex(t.headers,l=r[o])].column,span:1});for(var a=0,s=t.rows;a<s.length;a++){for(var l=s[a],u=[],h=0,c=e.columns;h<c.length;h++){var d=this._getTitleIndex(t.headers,c[h]);u.push({name:\"\",display:!0,row_span:\"1\",val:l[d]})}i.rows.push({headers:[],items:u})}}else{if(e.showDimensionLabels){i.titlesAvailable=!0;for(var p=0,f=e.columns;p<f.length;p++)i.titles.column.push(t.headers[this._getTitleIndex(t.headers,l=f[p])].column);for(var g=0,m=e.rows;g<m.length;g++)i.titles.rows.push(t.headers[this._getTitleIndex(t.headers,l=m[g])].column)}for(var v=0,y=e.columns;v<y.length;v++){for(var _=y[v],b=this.calculateColSpan(t,e.columns,_),x=this.prepareSingleCategories(t,_),w=[],C=0;C<b.duplication;C++)for(var k=0,O=x;k<O.length;k++){var M=O[k];w.push({name:M.name,span:b.col_span,type:M.type,id:M.uid})}var L=\"\";e.hasOwnProperty(\"style\")&&e.styles.hasOwnProperty(_)&&(L=e.styles[_]),i.headers.push({items:w,style:L})}for(var S=0,P=e.rows;S<P.length;S++)i.columns.push(et=P[S]);var T=e.columns.length,I=[];for(C=0;C<T;C++){var A=this.prepareSingleCategories(t,e.columns[C]);I.push(A)}var z=[];for(C=0;C<I.length;C++)if(0===z.length)for(var D=0,E=I[C];D<E.length;D++)z.push([l=E[D]]);else{var R=z.concat();z=[];for(var N=0,B=R;N<B.length;N++){l=B[N];for(var F=0,j=I[C];F<j.length;F++){var U=j[F];if(l instanceof Array){var V=Array.from(l);z.push(V.concat([U]))}else z.push([l,U])}}}var G=e.rows.length,H=[];for(C=0;C<G;C++)b=this.calculateColSpan(t,e.rows,e.rows[C]),A=this.prepareSingleCategories(t,e.rows[C]),H.push({items:A,dimensions:b});var Z=[];for(C=0;C<H.length;C++)if(0===Z.length)for(var W=0,Y=H[C].items;W<Y.length;W++)(l=Y[W]).dimensions=H[C].dimensions,Z.push([l]);else{R=Z.concat(),Z=[];for(var X=0,$=R;X<$.length;X++){l=$[X];for(var K=0,q=H[C].items;K<q.length;K++)(U=q[K]).dimensions=H[C].dimensions,l instanceof Array?(V=Array.from(l),Z.push(V.concat([U]))):Z.push([l,U])}}var J=0;if(0!=Z.length)for(var Q=0,tt=Z;Q<tt.length;Q++){l={items:[],headers:et=tt[Q]};for(var et,nt=0,it=et;nt<it.length;nt++)U=it[nt],0!==J&&J%U.dimensions.col_span!=0||l.items.push({type:U.type,name:U.uid,val:U.name,row_span:U.dimensions.col_span,header:!0});for(var ot=0,rt=z;ot<rt.length;ot++){for(var at=rt[ot],st=[],lt=0,ut=et;lt<ut.length;lt++)st.push({type:(U=ut[lt]).type,value:U.uid});for(var ht=0,ct=at;ht<ct.length;ht++)st.push({type:(U=ct[ht]).type,value:U.uid});l.items.push({name:\"\",val:this.getDataValue(t,st),color:this.getDataValueColor(n,this.getDataValue(t,st)),row_span:\"1\",display:!0})}e.hasOwnProperty(\"hideEmptyRows\")&&e.hideEmptyRows&&this.checkZeros(e.rows.length,l.items)||i.rows.push(l),J++}else{l={items:[],headers:[]};for(var dt=0,pt=z;dt<pt.length;dt++){st=[];for(var ft=0,gt=at=pt[dt];ft<gt.length;ft++)st.push({type:(U=gt[ft]).type,value:U.uid});l.items.push({name:\"\",val:this.getDataValue(t,st),row_span:\"1\",display:!0})}e.hasOwnProperty(\"hideEmptyRows\")&&e.hideEmptyRows&&this.checkZeros(e.rows.length,l.items)||i.rows.push(l)}}return i},t.prototype._getTitleIndex=function(t,e){for(var n=0,i=0,o=0,r=t;o<r.length;o++)r[o].name===e&&(n=i),i++;return n},t.prototype.calculateColSpan=function(t,e,n){for(var i=e.indexOf(n),o={col_span:1,duplication:1},r=e.length-1;r>i;r--){var a=this.prepareSingleCategories(t,e[r]);o.col_span=o.col_span*a.length}for(r=0;r<i;r++)a=this.prepareSingleCategories(t,e[r]),o.duplication=o.duplication*a.length;return o},t.prototype.prepareSingleCategories=function(t,e,n){void 0===n&&(n=[]);var i=this._sanitizeIncomingAnalytics(t),o=[];if(0===n.length)for(var r=0,a=this.getMetadataArray(i,e);r<a.length;r++)o.push({name:i.metaData.names[u=a[r]],uid:u,type:e});if(0!==n.length)for(var s=0,l=n;s<l.length;s++){var u;o.push({name:i.metaData.names[u=l[s]],uid:u,type:e})}return o},t.prototype._sanitizeIncomingAnalytics=function(t){return t},t.prototype.getMetadataArray=function(t,e){return\"dx\"===e?t.metaData.dx:\"ou\"===e?t.metaData.ou:\"co\"===e?t.metaData.co:\"pe\"===e?t.metaData.pe:t.metaData[e]},t.prototype.getDataValue=function(t,e){void 0===e&&(e=[]);for(var n=null,i=0,o=t.rows;i<o.length;i++){for(var r=o[i],a=0,s=0,l=e;s<l.length;s++){var u=l[s];r[this._getTitleIndex(t.headers,u.type)]===u.value&&a++}a===e.length&&(isNaN(r[this._getTitleIndex(t.headers,\"value\")])?n=r[this._getTitleIndex(t.headers,\"value\")]:n+=parseFloat(r[this._getTitleIndex(t.headers,\"value\")]))}return n},t.prototype.getDataValueColor=function(t,e){var n=\"\";return!isNaN(e)&&t&&t.forEach(function(t){t.startValue<=e&&t.endValue>e&&(n=t.color)}),n},t.prototype.checkZeros=function(t,e){for(var n=!0,i=t;i<e.length;i++)\"\"==e[i].name&&null!=e[i].val&&(n=!1);return n},t}(),ee=function(){function t(t,e){this.tableService=t,this.visualizationExportService=e,this.sort_direction=[],this.current_sorting=[],this.tableObject=null}return t.prototype.ngOnInit=function(){this.analyticsObject&&this.tableConfiguration&&(this.tableObject=this.tableService.drawTable(this.analyticsObject,this.tableConfiguration))},t.prototype.sortData=function(t,e,n){if(1===t.columns.length&&n){this.current_sorting=[],this.current_sorting[e]=!0;var i=void 0,o=void 0,r=void 0,a=void 0,s=void 0,l=void 0,u=void 0,h=void 0,c=0;for(i=document.getElementById(\"myPivotTable\"),r=!0,h=\"asc\";r;){for(r=!1,o=i.getElementsByTagName(\"TR\"),a=0;a<o.length-1;a++)if(u=!1,s=o[a].getElementsByTagName(\"TD\")[e],l=o[a+1].getElementsByTagName(\"TD\")[e],\"asc\"===h){if(parseFloat(s.innerHTML)){if(parseFloat(s.innerHTML)>parseFloat(l.innerHTML)){u=!0;break}}else if(s.innerHTML.toLowerCase()>l.innerHTML.toLowerCase()){u=!0;break}this.sort_direction[e]=\"asc\"}else if(\"desc\"===h){if(parseFloat(s.innerHTML)){if(parseFloat(s.innerHTML)<parseFloat(l.innerHTML)){u=!0;break}}else if(s.innerHTML.toLowerCase()<l.innerHTML.toLowerCase()){u=!0;break}this.sort_direction[e]=\"desc\"}u?(o[a].parentNode.insertBefore(o[a+1],o[a]),r=!0,c++):0===c&&\"asc\"===h&&(h=\"desc\",this.sort_direction[e]=\"desc\",r=!0)}}},t.prototype.downloadTable=function(t,e){if(this.table){var n=this.table.nativeElement;\"XLS\"===e?n&&this.visualizationExportService.exportXLS(t,n.outerHTML):\"CSV\"===e&&n&&this.visualizationExportService.exportCSV(t,n)}},t}(),ne=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\".table-item-container[_ngcontent-%COMP%]{overflow:hidden}.custom-table[_ngcontent-%COMP%]{display:table;border-style:none!important;width:95%}.custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:thin solid #f1f1f1}.custom-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{font-size:13px!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:rgba(238,238,238,.29);padding:4px;text-align:center}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:4px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{background-color:rgba(238,238,238,.29)}.table-title[_ngcontent-%COMP%]{font-size:13px;font-weight:600;text-align:center}\"]],data:{}});function ie(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"h5\",[[\"class\",\"text-center\"],[\"style\",\"margin-top: 80px\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\" No data to display\"]))],null,null)}function oe(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"th\",[],null,null,null,null,null))],null,null)}function re(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](1,null,[\"\",\" / \",\"\"]))],null,function(t,e){var n=e.component;t(e,1,0,n.tableObject.titles.rows[e.parent.context.index],n.tableObject.titles.column[e.parent.parent.context.index])})}function ae(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](1,null,[\"\",\"\"]))],null,function(t,e){t(e,1,0,e.component.tableObject.titles.rows[e.parent.context.index])})}function se(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](1,null,[\"\",\"\"]))],null,function(t,e){t(e,1,0,e.component.tableObject.titles.column[e.parent.parent.context.index])})}function le(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,6,\"th\",[[\"style\",\"text-align: center\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,re)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ae)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,se)),i[\"\\u0275did\"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,2,0,e.context.index==n.tableObject.columns.length-1&&e.parent.context.index==n.tableObject.headers.length-1&&n.tableObject.titlesAvailable),t(e,4,0,e.context.index!=n.tableObject.columns.length-1),t(e,6,0,e.parent.context.index!=n.tableObject.headers.length-1)},null)}function ue(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"span\",[[\"class\",\"glyphicon glyphicon-triangle-top pull-right\"]],null,null,null,null,null))],null,null)}function he(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"span\",[[\"class\",\"glyphicon glyphicon-triangle-bottom pull-right\"]],null,null,null,null,null))],null,null)}function ce(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,5,\"th\",[[\"style\",\"text-align: center\"]],[[8,\"colSpan\",0]],[[null,\"click\"]],function(t,e,n){var i=!0,o=t.component;return\"click\"===e&&(i=!1!==o.sortData(o.tableObject,t.context.index+o.tableObject.columns.length,t.parent.context.index+1==o.tableObject.headers.length)&&i),i},null,null)),(t()(),i[\"\\u0275ted\"](1,null,[\" \",\" \"])),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ue)),i[\"\\u0275did\"](3,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,he)),i[\"\\u0275did\"](5,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,3,0,e.parent.context.index+1==n.tableObject.headers.length&&n.current_sorting[e.context.index+n.tableObject.columns.length]&&\"asc\"==n.sort_direction[e.context.index+n.tableObject.columns.length]),t(e,5,0,e.parent.context.index+1==n.tableObject.headers.length&&n.current_sorting[e.context.index+n.tableObject.columns.length]&&\"desc\"==n.sort_direction[e.context.index+n.tableObject.columns.length])},function(t,e){t(e,0,0,e.context.$implicit.span),t(e,1,0,e.context.$implicit.name)})}function de(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,6,\"tr\",[[\"class\",\"header-column\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,oe)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,le)),i[\"\\u0275did\"](4,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ce)),i[\"\\u0275did\"](6,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],function(t,e){var n=e.component;t(e,2,0,n.tableObject.hasParentOu),t(e,4,0,n.tableObject.columns),t(e,6,0,e.context.$implicit.items)},null)}function pe(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,3,\"td\",[[\"style\",\"text-align: center;vertical-align: middle\"]],[[1,\"rowspan\",0],[4,\"background\",null]],null,null,null,null)),i[\"\\u0275did\"](1,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,\"ngClass\"]},null),i[\"\\u0275pod\"](2,{\"header-column\":0}),(t()(),i[\"\\u0275ted\"](3,null,[\" \",\" \"]))],function(t,e){var n=t(e,2,0,\"\"!=e.context.$implicit.name);t(e,1,0,n)},function(t,e){t(e,0,0,e.context.$implicit.row_span,e.context.$implicit.color),t(e,3,0,e.context.$implicit.val)})}function fe(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"tr\",[],null,null,null,null,null)),i[\"\\u0275did\"](1,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,\"ngClass\"]},null),i[\"\\u0275pod\"](2,{\"sub-total\":0}),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,pe)),i[\"\\u0275did\"](4,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],function(t,e){var n=t(e,2,0,e.context.$implicit.sub_total);t(e,1,0,n),t(e,4,0,e.context.$implicit.items)},null)}function ge(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,[[1,0],[\"table\",1]],null,10,\"table\",[[\"class\",\"table table-bordered table-responsive table-condensed custom-table\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,6,\"thead\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,3,\"tr\",[[\"class\",\"table-title\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](3,0,null,null,2,\"th\",[],[[1,\"colspan\",0]],null,null,null,null)),(t()(),i[\"\\u0275eld\"](4,0,null,null,1,\"span\",[[\"class\",\"text-center\"],[\"style\",\"margin: 0; font-size: 12px; font-weight: lighter;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](5,null,[\"\",\" \"])),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,de)),i[\"\\u0275did\"](7,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(t()(),i[\"\\u0275eld\"](8,0,null,null,2,\"tbody\",[[\"id\",\"myPivotTable\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,fe)),i[\"\\u0275did\"](10,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],function(t,e){var n=e.component;t(e,7,0,n.tableObject.headers),t(e,10,0,n.tableObject.rows)},function(t,e){var n=e.component;t(e,3,0,n.tableObject.rows[0].items.length),t(e,5,0,n.tableObject.subtitle)})}function me(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"style\",\"padding: 3px\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ge)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){t(e,2,0,0!=e.component.tableObject.rows.length)},null)}function ve(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,6,\"div\",[[\"class\",\"col-md-12\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"h6\",[[\"class\",\"text-center item-title\"],[\"style\",\"font-size: 13px; font-weight: 600\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](2,null,[\"\",\"\"])),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ie)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,me)),i[\"\\u0275did\"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,4,0,0==n.tableObject.rows.length),t(e,6,0,n.tableObject)},function(t,e){t(e,2,0,e.component.tableObject.title)})}function ye(t){return i[\"\\u0275vid\"](0,[i[\"\\u0275qud\"](671088640,1,{table:0}),(t()(),i[\"\\u0275eld\"](1,0,null,null,2,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ve)),i[\"\\u0275did\"](3,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){t(e,3,0,e.component.tableObject)},null)}var _e=function(){function t(){}return t.prototype.getTableConfiguration=function(t,e,n){return{title:t.hasOwnProperty(\"displayName\")?t.displayName:t.hasOwnProperty(\"name\")?t.name:\"\",subtitle:t.hasOwnProperty(\"subtitle\")?t.subtitle:\"\",showColumnTotal:!t.hasOwnProperty(\"colTotal\")||t.colTotal,showColumnSubtotal:!t.hasOwnProperty(\"colSubtotal\")||t.colSubtotal,showRowTotal:!t.hasOwnProperty(\"rowTotal\")||t.rowTotal,showRowSubtotal:!t.hasOwnProperty(\"rowSubtotal\")||t.rowSubtotal,showDimensionLabels:!t.hasOwnProperty(\"showDimensionLabels\")||t.showDimensionLabels,hideEmptyRows:!t.hasOwnProperty(\"hideEmptyRows\")||t.hideEmptyRows,showHierarchy:!t.hasOwnProperty(\"showHierarchy\")||t.showHierarchy,displayList:this._checkForEventDataType(t,n),rows:e?e.rows.map(function(t){return t.value}):[\"pe\"],columns:e?e.columns.map(function(t){return t.value}):[\"dx\"],legendSet:t.legendSet||null,styles:null}},t.prototype._checkForEventDataType=function(t,e){var n=!1;return\"EVENT_REPORT\"===e&&t.hasOwnProperty(\"dataType\")&&\"EVENTS\"===t.dataType&&(n=!0),n},t}(),be=function(){function t(t){this.tableConfig=t,this.tableLayers=[]}return t.prototype.ngOnInit=function(){var t=this;this.visualizationLayers.length>0&&(this.tableLayers=this.visualizationLayers.map(function(e){return{tableConfiguration:t.tableConfig.getTableConfiguration(e.settings,e.layout,t.visualizationType),analyticsObject:e.analytics}}))},t.prototype.onDownloadEvent=function(t,e){this.tableItem&&this.tableItem.downloadTable(t,e)},t}(),xe=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\"\"]],data:{}});function we(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"col-12\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"app-table-item\",[],null,null,null,ye,ne)),i[\"\\u0275did\"](2,114688,[[1,4]],0,ee,[te,Ht.a],{tableConfiguration:[0,\"tableConfiguration\"],analyticsObject:[1,\"analyticsObject\"]},null)],function(t,e){t(e,2,0,e.context.$implicit.tableConfiguration,e.context.$implicit.analyticsObject)},null)}function Ce(t){return i[\"\\u0275vid\"](0,[i[\"\\u0275qud\"](671088640,1,{tableItem:0}),(t()(),i[\"\\u0275eld\"](1,0,null,null,2,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,we)),i[\"\\u0275did\"](3,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],function(t,e){t(e,3,0,e.component.tableLayers)},null)}var ke=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Oe=i[\"\\u0275crt\"]({encapsulation:0,styles:[\"[_nghost-%COMP%] {\\n      display: block;\\n      width: 100%;\\n      height: 100%;\\n    }\\n  }\",[\".loader[_ngcontent-%COMP%]{-webkit-animation:1s linear infinite spin;animation:1s linear infinite spin;border:6px solid #ddd;border-top:6px solid #42a5f5;border-radius:50%;height:75px;width:75px}@-webkit-keyframes spin{to{border-top-color:#ec407a;-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{to{border-top-color:#ec407a;-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.container[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;display:flex;justify-content:center;align-items:center}\"]],data:{}});function Me(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"div\",[[\"class\",\"container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,0,\"div\",[[\"class\",\"loader\"]],null,null,null,null,null))],null,null)}var Le=[{id:\"TODAY\",name:\"Today\"},{id:\"YESTERDAY\",name:\"Yesterday\"},{id:\"THIS_WEEK\",name:\"This week\"},{id:\"LAST_WEEK\",name:\"Last week\"},{id:\"LAST_4_WEEKS\",name:\"Last 4 weeks\"},{id:\"LAST_12_WEEKS\",name:\"Last 12 weeks\"},{id:\"LAST_52_WEEKS\",name:\"Last 52 weeks\"},{id:\"THIS_MONTH\",name:\"This month\"},{id:\"LAST_MONTH\",name:\"Last month\"},{id:\"LAST_3_MONTHS\",name:\"Last 3 months\"},{id:\"LAST_6_MONTHS\",name:\"Last 6 months\"},{id:\"LAST_12_MONTHS\",name:\"Last 12 months\"},{id:\"THIS_BIMONTH\",name:\"This bi-month\"},{id:\"LAST_BIMONTH\",name:\"Last bi-month\"},{id:\"LAST_6_BIMONTHS\",name:\"Last 6 bi-months\"},{id:\"THIS_QUARTER\",name:\"This quarter\"},{id:\"LAST_QUARTER\",name:\"Last quarter\"},{id:\"LAST_4_QUARTERS\",name:\"Last 4 quarters\"},{id:\"THIS_SIX_MONTH\",name:\"This six-month\"},{id:\"LAST_SIX_MONTH\",name:\"Last six-month\"},{id:\"LAST_2_SIX_MONTHS\",name:\"Last 2 six-months\"},{id:\"THIS_FINANCIAL_YEAR\",name:\"This financial year\"},{id:\"LAST_FINANCIAL_YEAR\",name:\"Last financial year\"},{id:\"LAST_5_FINANCIAL_YEARS\",name:\"Last 5 financial years\"},{id:\"THIS_YEAR\",name:\"This year\"},{id:\"LAST_YEAR\",name:\"Last year\"},{id:\"LAST_5_YEARS\",name:\"Last 5 years\"}],Se=function(t,e){var n=function(t,e){return e.filter(function(e){return e.dimension===t})[0]}(t,e);return n&&n.items?n.items:[]},Pe=function(t){return void 0===t&&(t=[]),Se(\"pe\",t)[0]},Te=function(t){var e=t.dimensionItem,n=t.displayName,i=Le.filter(function(t){return t.id===e})[0];return i?i.name:n},Ie=n(\"yGQT\"),Ae=\"[Map] Load Visualization Object\",ze=\"[Map] Load Visualization Object Geofeature Fail\",De=\"[Map] Create visualization object\",Ee=\"[Map] Load analytics object\",Re=\"[Map] Add Legend to Visualization object\",Ne=\"[Map] Add Analytics to Visualization object\",Be=\"[Map] Update Analytics to Visualization Object\",Fe=\"[Map] Add Organization Group set object\",je=\"[Map] Create visualization object Success\",Ue=\"[Map] Update visualization object Success\",Ve=\"[Map] Add Geofeatures to visualization object\",Ge=\"[Map] Update Geofeature to visualization object\",He=\"[Map] Add complete visualization object\",Ze=\"[Map] Add complete visualization object success\",We=\"[Map] Load visualization object\",Ye=\"[Map] Load visualization object success\",Xe=\"[Map] Load visualization object Fail\",$e=\"[Map] Toggle Layer visibility\",Ke=function(){return function(t){this.payload=t,this.type=De}}(),qe=function(){return function(t){this.payload=t,this.type=\"[Map] Create visualization object Fail\"}}(),Je=function(){return function(t){this.payload=t,this.type=je}}(),Qe=function(){return function(t){this.payload=t,this.type=\"[Map] Update visualization object Fail\"}}(),tn=function(){return function(t){this.payload=t,this.type=Ue}}(),en=function(){return function(t){this.payload=t,this.type=Re}}(),nn=function(){return function(t){this.payload=t,this.type=Ne}}(),on=function(){return function(t){this.payload=t,this.type=Be}}(),rn=function(){return function(t){this.payload=t,this.type=Ee}}(),an=function(){return function(t){this.payload=t,this.type=Fe}}(),sn=function(){return function(t){this.payload=t,this.type=Ve}}(),ln=function(){return function(t){this.payload=t,this.type=Ge}}(),un=function(){return function(t){this.payload=t,this.type=He}}(),hn=function(){return function(t){this.payload=t,this.type=Ze}}(),cn=function(){return function(t){this.payload=t,this.type=\"[Map] Add complete visualization object fail\"}}(),dn={entities:{},currentLayer:null,currentMap:null,loaded:!1,loading:!1};function pn(t,e){var n,i,o,r,a,s,l,u;switch(void 0===t&&(t=dn),e.type){case We:case Ae:case Ee:case He:return I.__assign({},t,{loaded:!1,loading:!0});case Ye:var h=e.payload.reduce(function(t,e){var n;return I.__assign({},t,((n={})[e.componentId]=e,n))},I.__assign({},t.entities));return I.__assign({},t,{loaded:!0,loading:!1,entities:h});case Ze:var c=e.payload;return h=I.__assign({},t.entities,((n={})[c.componentId]=c,n)),I.__assign({},t,{loaded:!0,loading:!1,entities:h});case Xe:case ze:return I.__assign({},t,{loaded:!1,loading:!1});case je:case Ue:var d=(g=e.payload).layers[0].id,p=g.componentId;return h=I.__assign({},t.entities,((i={})[g.componentId]=g,i)),I.__assign({},t,{currentLayer:d,currentMap:p,loaded:!0,loading:!1,entities:h});case Ve:var f=e.payload,g=I.__assign({},t.entities[k=f.componentId],{geofeatures:v=f.geofeatures});return h=I.__assign({},t.entities,((o={})[k]=g,o)),I.__assign({},t,{loaded:!0,loading:!1,entities:h});case Ge:var m=e.payload,v=I.__assign({},t.entities[k=m.componentId].geofeatures,m.geofeature);return g=I.__assign({},t.entities[k],{geofeatures:v}),h=I.__assign({},t.entities,((r={})[k]=g,r)),I.__assign({},t,{loaded:!0,loading:!1,entities:h});case Be:var y=e.payload,_=y.layer,b=(I.__assign({},t.entities[k=y.componentId].analytics,w=y.analytics),t.entities[k].layers.map(function(t){return t.id===_.id?_:t}));return g=I.__assign({},t.entities[k],{analytics:w,layers:b}),h=I.__assign({},t.entities,((a={})[k]=g,a)),I.__assign({},t,{loaded:!0,loading:!1,entities:h});case Re:var x=e.payload;return g=I.__assign({},t.entities[k=x.componentId],{legendSets:x.legendSets}),h=I.__assign({},t.entities,((s={})[k]=g,s)),I.__assign({},t,{loaded:!0,loading:!1,entities:h});case Ne:var w,C=e.payload;return g=I.__assign({},t.entities[k=C.componentId],{analytics:w=C.analytics}),h=I.__assign({},t.entities,((l={})[k]=g,l)),I.__assign({},t,{loaded:!0,loading:!1,entities:h});case $e:var k,O=e.payload,M=O.layerId;return b=t.entities[k=O.componentId].layers.map(function(t){return t.id===M?I.__assign({},t,{visible:!t.visible}):t}),g=I.__assign({},t.entities[k],{layers:b}),h=I.__assign({},t.entities,((u={})[k]=g,u)),I.__assign({},t,{loaded:!0,loading:!1,entities:h})}return t}var fn=\"[MAP] Add Legend Set\",gn=\"[MAP] Add Legend Set Fail\",mn=\"[MAP] Add Legend Set Success\",vn=\"[MAP] Load Legend Set\",yn=\"[MAP] Update Legend Set\",_n=\"[MAP] Update Legend Set Success\",bn=\"[MAP] Change Legend Set Opacity\",xn=\"[MAP] Change Legend Set Layer Visibility\",wn=function(t){this.payload=t,this.type=fn},Cn=function(t){this.payload=t,this.type=gn},kn=function(t){this.payload=t,this.type=mn},On=function(t){this.payload=t,this.type=vn},Mn=function(t){this.payload=t,this.type=bn},Ln=function(t){this.payload=t,this.type=yn},Sn=function(t){this.payload=t,this.type=\"[MAP] Update Legend Set Fail\"},Pn=function(t){this.payload=t,this.type=_n},Tn={entities:{},loaded:!1,loading:!1};function In(t,e){var n;switch(void 0===t&&(t=Tn),e.type){case mn:var i=I.__assign({},t.entities,e.payload);return I.__assign({},t,{loading:!1,loaded:!0,entities:i});case _n:var o=e.payload,r=o.componentId,a=I.__assign({},t.entities[r],o.legend),s=((n={})[r]=I.__assign({},a),n);return i=I.__assign({},t.entities,s),I.__assign({},t,{loading:!1,loaded:!0,entities:i});case gn:return I.__assign({},t,{loading:!1,loaded:!1})}return t}var An=\"[Map UI] Toggle visualization open\",zn=\"[Map UI] Toggle pin visualization Legend\",Dn=\"[Map UI] Toggle filter section\",En=\"[Map UI] Close pinned legend\",Rn=\"[Map UI] Close filter section legend\",Nn=\"[Map UI] Initialize the visualization legend\",Bn=\"[Map UI] Toggle Datatable visability\",Fn=\"[Map UI] Open pinned legend\",jn=function(){return function(t){this.payload=t,this.type=An}}(),Un=function(){return function(t){this.payload=t,this.type=zn}}(),Vn=function(){return function(t){this.payload=t,this.type=Dn}}(),Gn=function(){return function(t){this.payload=t,this.type=En}}(),Hn=function(){return function(t){this.payload=t,this.type=Rn}}(),Zn=function(){return function(t){this.payload=t,this.type=Nn}}(),Wn=function(){return function(t){this.payload=t,this.type=Bn}}(),Yn={entities:{}};function Xn(t,e){var n,i,o,r,a,s,l,u;switch(void 0===t&&(t=Yn),e.type){case Nn:var h=I.__assign({},t.entities,((n={})[d=e.payload]={open:!1,pinned:!1,filterSectionOpen:!1,datatableIsOpen:!1},n));return I.__assign({},t,{entities:h});case zn:var c=I.__assign({},t.entities[d=e.payload],{pinned:!t.entities[d].pinned});return h=I.__assign({},t.entities,((i={})[d]=c,i)),I.__assign({},t,{entities:h});case An:return t.entities[d=e.payload].pinned?t:(c=I.__assign({},t.entities[d],{open:!t.entities[d].open}),h=I.__assign({},t.entities,((o={})[d]=c,o)),I.__assign({},t,{entities:h}));case Dn:return c=I.__assign({},t.entities[d=e.payload],{filterSectionOpen:!t.entities[d].filterSectionOpen}),h=I.__assign({},t.entities,((r={})[d]=c,r)),I.__assign({},t,{entities:h});case Bn:return c=I.__assign({},t.entities[d=e.payload],{datatableIsOpen:!t.entities[d].datatableIsOpen}),h=I.__assign({},t.entities,((a={})[d]=c,a)),I.__assign({},t,{entities:h});case Rn:return c=I.__assign({},t.entities[d=e.payload],{filterSectionOpen:!1}),h=I.__assign({},t.entities,((s={})[d]=c,s)),I.__assign({},t,{entities:h});case En:return c=I.__assign({},t.entities[d=e.payload],{open:!t.entities[d].open,pinned:!1}),h=I.__assign({},t.entities,((l={})[d]=c,l)),I.__assign({},t,{entities:h});case Fn:var d;return c=I.__assign({},t.entities[d=e.payload],{open:!0,pinned:!0}),h=I.__assign({},t.entities,((u={})[d]=c,u)),I.__assign({},t,{entities:h})}return t}var $n=\"[Map] Add Basemap Layer\",Kn=\"[Map] Add Basemap Layer Fail\",qn=\"[Map] Add Basemap Layer Success\",Jn=\"[Map] Update Basemap Layer\",Qn=\"[Map] Update Basemap Layer Fail\",ti=\"[Map] Update Basemap Layer Success\",ei=function(){return function(t){this.payload=t,this.type=$n}}(),ni=function(){return function(t){this.payload=t,this.type=Kn}}(),ii=function(){return function(t){this.payload=t,this.type=qn}}(),oi=function(){return function(t){this.payload=t,this.type=Jn}}(),ri=function(){return function(t){this.payload=t,this.type=Qn}}(),ai=function(){return function(t){this.payload=t,this.type=ti}}(),si={entities:{},loaded:!1,loading:!1};function li(t,e){switch(void 0===t&&(t=si),e.type){case $n:case Jn:return I.__assign({},t,{loading:!0});case qn:case ti:var n=I.__assign({},t.entities,e.payload);return I.__assign({},t,{loading:!1,loaded:!0,entities:n});case Kn:case Qn:return I.__assign({},t,{loading:!1,loaded:!1})}return t}var ui=Object(Ie.B)(\"map\"),hi=\"[Map] Update PE in data selection\",ci=\"[Map] Update OU in data selection\",di=\"[Map] Update DX in data selection\",pi=function(){return function(t){this.payload=t,this.type=hi}}(),fi=function(){return function(t){this.payload=t,this.type=ci}}(),gi=function(){return function(t){this.payload=t,this.type=di}}(),mi=\"[SYSTEM] Add contect Path\",vi=function(){return function(){this.type=mi}}(),yi=\"[Map Downloads] Download CSV\",_i=\"[Map Downloads] Download GML\",bi=\"[Map Downloads] Download SHAPE FILE\",xi=\"[Map Downloads] Download KML\",wi=\"[Map Downloads] Download JSON\",Ci=function(){return function(t){this.payload=t,this.type=yi}}(),ki=function(){return function(t){this.payload=t,this.type=bi}}(),Oi=function(){return function(t){this.payload=t,this.type=xi}}(),Mi=function(){return function(t){this.payload=t,this.type=wi}}(),Li=function(){return function(t){this.payload=t,this.type=\"[Map Downloads] File download success\"}}(),Si=n(\"jYNz\"),Pi=n(\"iaHG\"),Ti=n(\"67Y/\"),Ii=n(\"9Z1F\"),Ai=n(\"15JJ\"),zi=n(\"6blF\"),Di=n(\"dzgT\");zi.a.combineLatest=Di.a;var Ei=n(\"909l\");zi.a.zip=Ei.a;var Ri=n(\"ahDk\"),Ni=n(\"mYRP\"),Bi=n.n(Ni),Fi=n(\"mhV4\"),ji=function(t){var e={},n=[];return t.headers.forEach(function(t,n){return e[t.name]=n}),Array.isArray(t.rows)&&t.rows.forEach(function(t){var i=t[e.extent].match(/([-\\d\\.]+)/g),o=t[e.center].match(/([-\\d\\.]+)/g);o[0]=Math.round(Number(o[0]+\"e6\"))+\"e-6\",o[1]=Math.round(Number(o[1]+\"e6\"))+\"e-6\",n.push({type:\"Feature\",id:t[e.points],geometry:{type:\"Point\",coordinates:o},properties:{count:parseInt(t[e.count],10),bounds:[[i[1],i[0]],[i[3],i[2]]]}})}),n},Ui=new Date,Vi=new Date;function Gi(t,e,n,i){function o(e){return t(e=new Date(+e)),e}return o.floor=o,o.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},o.round=function(t){var e=o(t),n=o.ceil(t);return t-e<n-t?e:n},o.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},o.range=function(n,i,r){var a,s=[];if(n=o.ceil(n),r=null==r?1:Math.floor(r),!(n<i&&r>0))return s;do{s.push(a=new Date(+n)),e(n,r),t(n)}while(a<n&&n<i);return s},o.filter=function(n){return Gi(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););})},n&&(o.count=function(e,i){return Ui.setTime(+e),Vi.setTime(+i),t(Ui),t(Vi),Math.floor(n(Ui,Vi))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(i?function(e){return i(e)%t==0}:function(e){return o.count(0,e)%t==0}):o:null}),o}var Hi=Gi(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Hi.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Gi(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Hi:null};var Zi=6e4,Wi=6048e5,Yi=(Gi(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Gi(function(t){t.setTime(Math.floor(t/Zi)*Zi)},function(t,e){t.setTime(+t+e*Zi)},function(t,e){return(e-t)/Zi},function(t){return t.getMinutes()}),Gi(function(t){var e=t.getTimezoneOffset()*Zi%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),Gi(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zi)/864e5},function(t){return t.getDate()-1}));function Xi(t){return Gi(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zi)/Wi})}var $i=Xi(0),Ki=Xi(1),qi=(Xi(2),Xi(3),Xi(4)),Ji=(Xi(5),Xi(6),Gi(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Gi(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));Ji.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Gi(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Qi=Ji,to=(Gi(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Zi)},function(t,e){return(e-t)/Zi},function(t){return t.getUTCMinutes()}),Gi(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),Gi(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}));function eo(t){return Gi(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Wi})}var no=eo(0),io=eo(1),oo=(eo(2),eo(3),eo(4)),ro=(eo(5),eo(6),Gi(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Gi(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));ro.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Gi(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var ao=ro;function so(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function lo(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function uo(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var ho,co,po,fo={\"-\":\"\",_:\" \",0:\"0\"},go=/^\\s*\\d+/,mo=/^%/,vo=/[\\\\^$*+?|[\\]().{}]/g;function yo(t,e,n){var i=t<0?\"-\":\"\",o=(i?-t:t)+\"\",r=o.length;return i+(r<n?new Array(n-r+1).join(e)+o:o)}function _o(t){return t.replace(vo,\"\\\\$&\")}function bo(t){return new RegExp(\"^(?:\"+t.map(_o).join(\"|\")+\")\",\"i\")}function xo(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function wo(t,e,n){var i=go.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Co(t,e,n){var i=go.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function ko(t,e,n){var i=go.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Oo(t,e,n){var i=go.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Mo(t,e,n){var i=go.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Lo(t,e,n){var i=go.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function So(t,e,n){var i=go.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Po(t,e,n){var i=/^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||\"00\")),n+i[0].length):-1}function To(t,e,n){var i=go.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Io(t,e,n){var i=go.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Ao(t,e,n){var i=go.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function zo(t,e,n){var i=go.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Do(t,e,n){var i=go.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Eo(t,e,n){var i=go.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Ro(t,e,n){var i=go.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function No(t,e,n){var i=go.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Bo(t,e,n){var i=mo.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Fo(t,e,n){var i=go.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function jo(t,e,n){var i=go.exec(e.slice(n));return i?(t.Q=1e3*+i[0],n+i[0].length):-1}function Uo(t,e){return yo(t.getDate(),e,2)}function Vo(t,e){return yo(t.getHours(),e,2)}function Go(t,e){return yo(t.getHours()%12||12,e,2)}function Ho(t,e){return yo(1+Yi.count(Qi(t),t),e,3)}function Zo(t,e){return yo(t.getMilliseconds(),e,3)}function Wo(t,e){return Zo(t,e)+\"000\"}function Yo(t,e){return yo(t.getMonth()+1,e,2)}function Xo(t,e){return yo(t.getMinutes(),e,2)}function $o(t,e){return yo(t.getSeconds(),e,2)}function Ko(t){var e=t.getDay();return 0===e?7:e}function qo(t,e){return yo($i.count(Qi(t),t),e,2)}function Jo(t,e){var n=t.getDay();return t=n>=4||0===n?qi(t):qi.ceil(t),yo(qi.count(Qi(t),t)+(4===Qi(t).getDay()),e,2)}function Qo(t){return t.getDay()}function tr(t,e){return yo(Ki.count(Qi(t),t),e,2)}function er(t,e){return yo(t.getFullYear()%100,e,2)}function nr(t,e){return yo(t.getFullYear()%1e4,e,4)}function ir(t){var e=t.getTimezoneOffset();return(e>0?\"-\":(e*=-1,\"+\"))+yo(e/60|0,\"0\",2)+yo(e%60,\"0\",2)}function or(t,e){return yo(t.getUTCDate(),e,2)}function rr(t,e){return yo(t.getUTCHours(),e,2)}function ar(t,e){return yo(t.getUTCHours()%12||12,e,2)}function sr(t,e){return yo(1+to.count(ao(t),t),e,3)}function lr(t,e){return yo(t.getUTCMilliseconds(),e,3)}function ur(t,e){return lr(t,e)+\"000\"}function hr(t,e){return yo(t.getUTCMonth()+1,e,2)}function cr(t,e){return yo(t.getUTCMinutes(),e,2)}function dr(t,e){return yo(t.getUTCSeconds(),e,2)}function pr(t){var e=t.getUTCDay();return 0===e?7:e}function fr(t,e){return yo(no.count(ao(t),t),e,2)}function gr(t,e){var n=t.getUTCDay();return t=n>=4||0===n?oo(t):oo.ceil(t),yo(oo.count(ao(t),t)+(4===ao(t).getUTCDay()),e,2)}function mr(t){return t.getUTCDay()}function vr(t,e){return yo(io.count(ao(t),t),e,2)}function yr(t,e){return yo(t.getUTCFullYear()%100,e,2)}function _r(t,e){return yo(t.getUTCFullYear()%1e4,e,4)}function br(){return\"+0000\"}function xr(){return\"%\"}function wr(t){return+t}function Cr(t){return Math.floor(+t/1e3)}ho=function(t){var e=t.dateTime,n=t.date,i=t.time,o=t.periods,r=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=bo(o),h=xo(o),c=bo(r),d=xo(r),p=bo(a),f=xo(a),g=bo(s),m=xo(s),v=bo(l),y=xo(l),_={a:function(t){return a[t.getDay()]},A:function(t){return r[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Uo,e:Uo,f:Wo,H:Vo,I:Go,j:Ho,L:Zo,m:Yo,M:Xo,p:function(t){return o[+(t.getHours()>=12)]},Q:wr,s:Cr,S:$o,u:Ko,U:qo,V:Jo,w:Qo,W:tr,x:null,X:null,y:er,Y:nr,Z:ir,\"%\":xr},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return r[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:or,e:or,f:ur,H:rr,I:ar,j:sr,L:lr,m:hr,M:cr,p:function(t){return o[+(t.getUTCHours()>=12)]},Q:wr,s:Cr,S:dr,u:pr,U:fr,V:gr,w:mr,W:vr,x:null,X:null,y:yr,Y:_r,Z:br,\"%\":xr},x={a:function(t,e,n){var i=p.exec(e.slice(n));return i?(t.w=f[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=c.exec(e.slice(n));return i?(t.w=d[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=v.exec(e.slice(n));return i?(t.m=y[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=g.exec(e.slice(n));return i?(t.m=m[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,n,i){return k(t,e,n,i)},d:Io,e:Io,f:No,H:zo,I:zo,j:Ao,L:Ro,m:To,M:Do,p:function(t,e,n){var i=u.exec(e.slice(n));return i?(t.p=h[i[0].toLowerCase()],n+i[0].length):-1},Q:Fo,s:jo,S:Eo,u:Co,U:ko,V:Oo,w:wo,W:Mo,x:function(t,e,i){return k(t,n,e,i)},X:function(t,e,n){return k(t,i,e,n)},y:So,Y:Lo,Z:Po,\"%\":Bo};function w(t,e){return function(n){var i,o,r,a=[],s=-1,l=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(o=fo[i=t.charAt(++s)])?i=t.charAt(++s):o=\"e\"===i?\" \":\"0\",(r=e[i])&&(i=r(n,o)),a.push(i),l=s+1);return a.push(t.slice(l,s)),a.join(\"\")}}function C(t,e){return function(n){var i,o,r=uo(1900);if(k(r,t,n+=\"\",0)!=n.length)return null;if(\"Q\"in r)return new Date(r.Q);if(\"p\"in r&&(r.H=r.H%12+12*r.p),\"V\"in r){if(r.V<1||r.V>53)return null;\"w\"in r||(r.w=1),\"Z\"in r?(o=(i=lo(uo(r.y))).getUTCDay(),i=o>4||0===o?io.ceil(i):io(i),i=to.offset(i,7*(r.V-1)),r.y=i.getUTCFullYear(),r.m=i.getUTCMonth(),r.d=i.getUTCDate()+(r.w+6)%7):(o=(i=e(uo(r.y))).getDay(),i=o>4||0===o?Ki.ceil(i):Ki(i),i=Yi.offset(i,7*(r.V-1)),r.y=i.getFullYear(),r.m=i.getMonth(),r.d=i.getDate()+(r.w+6)%7)}else(\"W\"in r||\"U\"in r)&&(\"w\"in r||(r.w=\"u\"in r?r.u%7:\"W\"in r?1:0),o=\"Z\"in r?lo(uo(r.y)).getUTCDay():e(uo(r.y)).getDay(),r.m=0,r.d=\"W\"in r?(r.w+6)%7+7*r.W-(o+5)%7:r.w+7*r.U-(o+6)%7);return\"Z\"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,lo(r)):e(r)}}function k(t,e,n,i){for(var o,r,a=0,s=e.length,l=n.length;a<s;){if(i>=l)return-1;if(37===(o=e.charCodeAt(a++))){if(o=e.charAt(a++),!(r=x[o in fo?e.charAt(a++):o])||(i=r(t,n,i))<0)return-1}else if(o!=n.charCodeAt(i++))return-1}return i}return _.x=w(n,_),_.X=w(i,_),_.c=w(e,_),b.x=w(n,b),b.X=w(i,b),b.c=w(e,b),{format:function(t){var e=w(t+=\"\",_);return e.toString=function(){return t},e},parse:function(t){var e=C(t+=\"\",so);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+=\"\",b);return e.toString=function(){return t},e},utcParse:function(t){var e=C(t,lo);return e.toString=function(){return t},e}}}({dateTime:\"%x, %X\",date:\"%-m/%-d/%Y\",time:\"%-I:%M:%S %p\",periods:[\"AM\",\"PM\"],days:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],shortDays:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],shortMonths:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]}),co=ho.format,po=ho.utcParse,Date.prototype.toISOString||(0,ho.utcFormat)(\"%Y-%m-%dT%H:%M:%S.%LZ\"),+new Date(\"2000-01-01T00:00:00.000Z\")||po(\"%Y-%m-%dT%H:%M:%S.%LZ\");var kr=n(\"dZpG\"),Or=function(){function t(t,e,n,i,o){var r=this;this.actions$=t,this.store=e,this.geofeatureService=n,this.analyticsService=i,this.systemService=o,this.createVisualizationObjet$=this.actions$.pipe(Object(Si.d)(De),Object(Ti.a)(function(t){return new Je(t.payload)}),Object(Ii.a)(function(t){return Object(Pi.a)(new qe(t))})),this.dispatchCreateAnalytics$=this.actions$.pipe(Object(Si.d)(je),Object(Ti.a)(function(t){t.payload.layers.filter(function(t){return t&&(\"event\"===t.type||\"thematic\"===t.type)}).length&&r.store.dispatch(new rn(t.payload))})),this.dispatchAddOrgUnitGroupSet$=this.actions$.pipe(Object(Si.d)(je),Object(Ri.f)(function(t){t.payload.layers.filter(function(t){return t&&t.dataSelections.organisationUnitGroupSet}).length&&r.store.dispatch(new an(t.payload))})),this.dispatchAddLegendSetSet$=this.actions$.pipe(Object(Si.d)(je),Object(Ri.f)(function(t){t.payload.layers.filter(function(t){return t&&t.dataSelections.legendSet}).length&&r.store.dispatch(new On(t.payload))})),this.dispatchCreateGeoFeatures$=this.actions$.pipe(Object(Si.d)(je),Object(Ri.f)(function(t){var e=r.getParameterEntities(t.payload.layers),n=Object.keys(e).map(function(t){return e[t]});r.geofeatureService.getGeoFeaturesArray(n).pipe(Object(Ti.a)(function(t){return console.log(t)}))})),this.dispatchAddGeoFeatures$=this.actions$.pipe(Object(Si.d)(De),Object(Ti.a)(function(t){return t.payload}),Object(Ai.a)(function(t){var e=r.getParameterEntities(t.layers),n=Object.keys(e).map(function(t){return e[t]});return r.geofeatureService.getGeoFeaturesArray(n).pipe(Object(Ti.a)(function(n){var i=Object.keys(e).reduce(function(t,e,i){var o;return void 0===t&&(t={}),I.__assign({},t,((o={})[e]=n[i],o))},{});return new sn(I.__assign({},t,{geofeatures:i}))}),Object(Ii.a)(function(t){return Object(Pi.a)(new cn(t))}))})),this.dispatchAddGeoFeaturescomplete$=this.actions$.pipe(Object(Si.d)(He),Object(Ri.f)(function(t){var e=t.payload,n=e.layers,i=n.map(function(t){var e=t.layerOptions;if(e.serverClustering){var n=r.getEventLayerUrl(t),i=t.dataSelections;r.program=i.program&&i.program.displayName,r.programStage=i.programStage&&i.programStage.displayName;var o=r.onEventClick.bind(r),a=I.__assign({},e.serverSideConfig,{load:function(t,e){r.analyticsService.getEventsAnalytics(\"/events/cluster/\"+n+\"&clusterSize=\"+t.clusterSize+\"&bbox=\"+t.bbox+\"&coordinatesOnly=true&includeClusterPoints=\"+t.includeClusterPoints).subscribe(function(n){return e(t.tileId,ji(n))})},popup:o}),s=I.__assign({},e,{serverSideConfig:a});return I.__assign({},t,{layerOptions:s})}if(\"earthEngine\"===t.type){var l=I.__assign({},e.earthEngineConfig,{accessToken:function(t){return r.systemService.getGoogleEarthToken().subscribe(function(e){return t(e)})}});return s=I.__assign({},e,{earthEngineConfig:l}),I.__assign({},t,{layerOptions:s})}return t}),o=r.getParameterEntities(n),a=Object.keys(o).map(function(t){return o[t]}).map(function(t){return r.geofeatureService.getGeoFeatures(t)});0===a.length&&r.store.dispatch(new hn(I.__assign({},e,{layers:i}))),Object(kr.a)(a).subscribe(function(t){if(t){var n=Object.keys(o).reduce(function(e,n,i){var o;return void 0===e&&(e={}),I.__assign({},e,((o={})[n]=t[i],o))},{});r.store.dispatch(new hn(I.__assign({},e,{layers:i,geofeatures:n})))}})}))}return t.prototype.getParameterEntities=function(t){var e={};return t.reduce(function(t,n,i){var o;void 0===t&&(t={});var r=n.dataSelections,a=\"facility\"===n.type;if(\"external\"!==n.type&&\"earthEngine\"!==n.type){var s=r.rows.concat(r.columns,r.filters).filter(function(t){return\"ou\"===t.dimension}).map(function(t,e){return\"ou=\"+t.dimension+\":\"+t.items.map(function(t){return t.id||t.dimensionItem}).join(\";\")}).join(\"&\"),l=((o={})[n.id]=a?s+\"&displayProperty=SHORTNAME&includeGroupSets=true\":s+\"&displayProperty=NAME\",o);return e=I.__assign({},e,l),I.__assign({},t,l)}},{}),e},t.prototype.onEventClick=function(t){var e=this,n=t.layer;this.analyticsService.getEventInformation(n._feature.id).subscribe(function(t){var i=t.eventDate,o=t.coordinate,r=\"<table><tbody> <tr>\\n                      <th>Organisation unit: </th><td>\"+t.orgUnitName+\"</td></tr>\\n                    <tr><th>Event time: </th>\\n                      <td>\"+co(\"%Y-%m-%d\")(new Date(i))+\"</td>\\n                    </tr>\\n                    <tr><th>Program Stage: </th>\\n                      <td>\"+e.programStage+\"</td>\\n                    </tr>\\n                    <tr>\\n                      <th>Event location: </th>\\n                      <td>\"+Number(o.latitude).toFixed(6)+\", \"+Number(o.longitude).toFixed(6)+\"</td>\\n                    </tr></tbody></table>\";n.closePopup(),n.bindPopup(r),n.openPopup()})},t.prototype.getEventLayerUrl=function(t){var e=t.dataSelections.rows.concat(t.dataSelections.columns,t.dataSelections.filters),n=Pe(e),i=[];e.map(function(t){var e=\"dimension=\"+t.dimension;t.items.length?i.push(e+\":\"+t.items.map(function(t){return t.dimensionItem}).join(\";\")):\"dx\"!==t.dimension&&\"pe\"!==t.dimension&&i.push(e)});var o=t.dataSelections.program.id+\".json?stage=\"+t.dataSelections.programStage.id+\"&\"+i.join(\"&\");return t.dataSelections.endDate&&!n&&(o+=\"&endDate=\"+t.dataSelections.endDate.split(\"T\")[0]),t.dataSelections.startDate&&!n&&(o+=\"&startDate=\"+t.dataSelections.startDate.split(\"T\")[0]),o},I.__decorate([Object(Si.b)(),I.__metadata(\"design:type\",Object)],t.prototype,\"createVisualizationObjet$\",void 0),I.__decorate([Object(Si.b)({dispatch:!1}),I.__metadata(\"design:type\",Object)],t.prototype,\"dispatchCreateAnalytics$\",void 0),I.__decorate([Object(Si.b)({dispatch:!1}),I.__metadata(\"design:type\",Object)],t.prototype,\"dispatchAddOrgUnitGroupSet$\",void 0),I.__decorate([Object(Si.b)({dispatch:!1}),I.__metadata(\"design:type\",Object)],t.prototype,\"dispatchAddLegendSetSet$\",void 0),I.__decorate([Object(Si.b)({dispatch:!1}),I.__metadata(\"design:type\",Object)],t.prototype,\"dispatchCreateGeoFeatures$\",void 0),I.__decorate([Object(Si.b)(),I.__metadata(\"design:type\",Object)],t.prototype,\"dispatchAddGeoFeatures$\",void 0),I.__decorate([Object(Si.b)({dispatch:!1}),I.__metadata(\"design:type\",Object)],t.prototype,\"dispatchAddGeoFeaturescomplete$\",void 0),t}(),Mr=function(){function t(t,e,n){var i=this;this.actions$=t,this.store=e,this.analyticsService=n,this.addAnalytics$=this.actions$.pipe(Object(Si.d)(Ee),Object(Ai.a)(function(t){var e=[],n=t.payload.layers.map(function(t){var n=t.dataSelections.rows.concat(t.dataSelections.columns,t.dataSelections.filters),i=t.type;if(-1===[\"boundary\",\"facility\",\"external\",\"event\"].indexOf(i))return e.push(t.id),n.map(function(t,e){return\"dimension=\"+t.dimension+\":\"+t.items.map(function(t){return t.id}).join(\";\")}).join(\"&\");if(\"event\"===i){e.push(t.id);var o=n.map(function(t,e){var n=\"dimension=\"+t.dimension;return t.items.length?n+\":\"+t.items.map(function(t){return t.id}).join(\";\"):n}).join(\"&\"),r=\"/events/query/\"+t.dataSelections.program.id+\".json?stage=\"+t.dataSelections.programStage.id+\"&\"+o;return t.dataSelections.endDate&&(r+=\"&endDate=\"+t.dataSelections.endDate.split(\"T\")[0]),t.dataSelections.startDate&&(r+=\"&startDate=\"+t.dataSelections.startDate.split(\"T\")[0]),r}}),o=[];n.map(function(t){t&&(t.startsWith(\"/events\")?o.push(i.analyticsService.getEventsAnalytics(t)):o.push(i.analyticsService.getAnalytics(t)))});var r=o.length?o:D.a.create([]);return D.a.combineLatest(r).pipe(Object(Ti.a)(function(n,i){var o={};if(n.length){var r=n.reduce(function(t,n,i){return t[e[i]]=n,t},{});o=I.__assign({},t.payload.analytics,r)}var a=I.__assign({},t.payload,{analytics:o});return new nn(a)}),Object(Ii.a)(function(t){return Object(Pi.a)(new Qe(t))}))})),this.updateOu$=this.actions$.pipe(Object(Si.d)(ci,di,hi),Object(Ti.a)(function(t){return t.payload}),Object(Ai.a)(function(t){var e=t.componentId,n=t.layer,o=i.createParams(t),r=o.params,a=o.newLayer;if(r.length)return i.analyticsService.getAnalytics(r.join(\"&\")).pipe(Object(Ti.a)(function(t){var o;return i.store.dispatch(new on({analytics:(o={},o[n.id]=t,o),componentId:e,layer:a}))}),Object(Ii.a)(function(t){return Object(Pi.a)(new Qe(t))}))}),Object(Ii.a)(function(t){return Object(Pi.a)(new Qe(t))}))}return t.prototype.createParams=function(t){var e=t.layer,n=t.params,i=t.filterType,o=t.newdimension,r=e.type,a=e.dataSelections.rows.concat(e.dataSelections.columns,e.dataSelections.filters),s=\"dimension=\"+i+\":\"+n,l=I.__assign({},e.dataSelections),u={},h=([\"rows\",\"columns\",\"filters\"].map(function(t){var e,n=l[t].map(function(t){return t.dimension===i?I.__assign({},o):t}),r=((e={})[t]=n.slice(),e);u=I.__assign({},u,r)}),I.__assign({},l,u));return-1===[\"boundary\",\"facility\",\"external\",\"event\"].indexOf(r)?{params:a.filter(function(t){return t.dimension!==i}).map(function(t){return\"dimension=\"+t.dimension+\":\"+t.items.map(function(t){return t.dimensionItem||t.id}).join(\";\")}).concat([s]),newLayer:I.__assign({},e,{dataSelections:h})}:{newLayer:I.__assign({},e,{dataSelections:h}),params:[]}},I.__decorate([Object(Si.b)(),I.__metadata(\"design:type\",Object)],t.prototype,\"addAnalytics$\",void 0),I.__decorate([Object(Si.b)({dispatch:!1}),I.__metadata(\"design:type\",Object)],t.prototype,\"updateOu$\",void 0),t}(),Lr=function(){function t(t,e){var n=this;this.actions$=t,this.orgUnitService=e,this.addOrgUnitGroupSet$=this.actions$.pipe(Object(Si.d)(Fe),Object(Ai.a)(function(t){var e=[],i=[];t.payload.layers.map(function(t){var n=t.dataSelections.organisationUnitGroupSet;n&&n.id&&(e.push(t.id),i.push(n.id))});var o=i.length?i.map(function(t){return n.orgUnitService.getOrganisationUnitGroupSets(t)}):D.a.create([]);return D.a.combineLatest(o).pipe(Object(Ti.a)(function(n){var i={};if(n.length){var o=n.reduce(function(t,n,i){return t[e[i]]=n,t},{});i=I.__assign({},t.payload.analytics,o)}var r=I.__assign({},t.payload,{orgUnitGroupSet:i});return new tn(r)}),Object(Ii.a)(function(t){return Object(Pi.a)(new Qe(t))}))}))}return I.__decorate([Object(Si.b)(),I.__metadata(\"design:type\",Object)],t.prototype,\"addOrgUnitGroupSet$\",void 0),t}(),Sr=function(){function t(t,e){var n=this;this.actions$=t,this.systemInfoService=e,this.addContextPath$=this.actions$.pipe(Object(Si.d)(mi),Object(Ri.f)(function(t){n.systemInfoService.getSystemInfo().subscribe(function(t){localStorage.setItem(\"contextPath\",t.contextPath),localStorage.setItem(\"version\",t.version),localStorage.setItem(\"spatialSupport\",t.databaseInfo.spatialSupport)})}))}return I.__decorate([Object(Si.b)({dispatch:!1}),I.__metadata(\"design:type\",Object)],t.prototype,\"addContextPath$\",void 0),t}(),Pr=function(){function t(t,e,n){var i=this;this.actions$=t,this.store=e,this.legendSetService=n,this.loadLegendSets$=this.actions$.pipe(Object(Si.d)(vn),Object(Ai.a)(function(t){var e={},n=[];t.payload.layers.map(function(t){var i=t.dataSelections.legendSet;i&&(e[i.id]=t.id,n.push(i.id))});var o=n.map(function(t){return i.legendSetService.getMapLegendSet(t)});return D.a.combineLatest(o).pipe(Object(Ti.a)(function(n){var i=n.reduce(function(t,n,i){return t[e[n.id]]=n,t},{}),o=I.__assign({},t.payload.legendSets,i),r=I.__assign({},t.payload,{legendSets:o});return new en(r)}),Object(Ii.a)(function(t){return Object(Pi.a)(new qe(t))}))})),this.addLegendSets$=this.actions$.pipe(Object(Si.d)(fn),Object(Ti.a)(function(t){return new kn(t.payload)}),Object(Ii.a)(function(t){return Object(Pi.a)(new Cn(t))})),this.updateLegendSets$=this.actions$.pipe(Object(Si.d)(yn),Object(Ti.a)(function(t){return new Pn(t.payload)}),Object(Ii.a)(function(t){return Object(Pi.a)(new Sn(t))})),this.changeOpacity$=this.actions$.pipe(Object(Si.d)(bn),Object(Ti.a)(function(t){return new Pn(t.payload)}),Object(Ii.a)(function(t){return Object(Pi.a)(new Sn(t))})),this.changeLayerVisibility$=this.actions$.pipe(Object(Si.d)(xn),Object(Ti.a)(function(t){console.log(t.payload)}),Object(Ii.a)(function(t){return Object(Pi.a)(new Sn(t))}))}return I.__decorate([Object(Si.b)(),I.__metadata(\"design:type\",Object)],t.prototype,\"loadLegendSets$\",void 0),I.__decorate([Object(Si.b)(),I.__metadata(\"design:type\",Object)],t.prototype,\"addLegendSets$\",void 0),I.__decorate([Object(Si.b)(),I.__metadata(\"design:type\",Object)],t.prototype,\"updateLegendSets$\",void 0),I.__decorate([Object(Si.b)(),I.__metadata(\"design:type\",Object)],t.prototype,\"changeOpacity$\",void 0),I.__decorate([Object(Si.b)({dispatch:!1}),I.__metadata(\"design:type\",Object)],t.prototype,\"changeLayerVisibility$\",void 0),t}(),Tr=function(){function t(t){this.actions$=t,this.addBaseLayer$=this.actions$.pipe(Object(Si.d)($n),Object(Ti.a)(function(t){return new ii(t.payload)}),Object(Ii.a)(function(t){return Object(Pi.a)(new ni(t))})),this.updateBaseLayer$=this.actions$.pipe(Object(Si.d)(Jn),Object(Ti.a)(function(t){return new ai(t.payload)}),Object(Ii.a)(function(t){return Object(Pi.a)(new ri(t))}))}return I.__decorate([Object(Si.b)(),I.__metadata(\"design:type\",Object)],t.prototype,\"addBaseLayer$\",void 0),I.__decorate([Object(Si.b)(),I.__metadata(\"design:type\",Object)],t.prototype,\"updateBaseLayer$\",void 0),t}(),Ir=function(){function t(t,e,n){var i=this;this.actions$=t,this.fileService=e,this.store=n,this.downloadCSV$=this.actions$.pipe(Object(Si.d)(yi),Object(Ti.a)(function(t){return i.fileService.downloadMapVisualizationAsCSV(t)}),Object(Ai.a)(function(t){return D.a.of(new Li(t))})),this.downloadGML$=this.actions$.pipe(Object(Si.d)(_i),Object(Ti.a)(function(t){return i.fileService.downloadMapVisualizationAsGML(t)}),Object(Ai.a)(function(t){return D.a.of(new Li(t))})),this.downloadKML$=this.actions$.pipe(Object(Si.d)(xi),Object(Ti.a)(function(t){return i.fileService.downloadMapVisualizationAsKML(t)}),Object(Ai.a)(function(t){return D.a.of(new Li(t))})),this.downloadSHAPEFILE$=this.actions$.pipe(Object(Si.d)(bi),Object(Ti.a)(function(t){return i.fileService.downloadMapVisualizationAsSHAPEFILE(t)}),Object(Ai.a)(function(t){return D.a.of(new Li(t))})),this.downloadJSON$=this.actions$.pipe(Object(Si.d)(wi),Object(Ti.a)(function(t){return i.fileService.downloadMapVisualizationAsGeoJSON(t)}),Object(Ai.a)(function(t){return D.a.of(new Li(t))}))}return I.__decorate([Object(Si.b)(),I.__metadata(\"design:type\",Object)],t.prototype,\"downloadCSV$\",void 0),I.__decorate([Object(Si.b)(),I.__metadata(\"design:type\",Object)],t.prototype,\"downloadGML$\",void 0),I.__decorate([Object(Si.b)(),I.__metadata(\"design:type\",Object)],t.prototype,\"downloadKML$\",void 0),I.__decorate([Object(Si.b)(),I.__metadata(\"design:type\",Object)],t.prototype,\"downloadSHAPEFILE$\",void 0),I.__decorate([Object(Si.b)(),I.__metadata(\"design:type\",Object)],t.prototype,\"downloadJSON$\",void 0),t}(),Ar=function(){function t(t,e){var n=this;this.actions$=t,this.geofeatureService=e,this.updatePe$=this.actions$.pipe(Object(Si.d)(hi),Object(Ti.a)(function(t){console.log(t.payload)}),Object(Ii.a)(function(t){return Object(Pi.a)(new Qe(t))})),this.updateDx$=this.actions$.pipe(Object(Si.d)(di),Object(Ti.a)(function(t){}),Object(Ii.a)(function(t){return Object(Pi.a)(new Qe(t))})),this.updateOu$=this.actions$.pipe(Object(Si.d)(ci),Object(Ti.a)(function(t){return t.payload}),Object(Ai.a)(function(t){var e=t.componentId,i=t.layer;return n.geofeatureService.getGeoFeatures(\"ou=ou:\"+t.params+\"&displayProperty=NAME\").pipe(Object(Ti.a)(function(t){var n;return new ln({componentId:e,geofeature:(n={},n[i.id]=t,n)})}),Object(Ii.a)(function(t){return Object(Pi.a)(new Qe(t))}))}))}return I.__decorate([Object(Si.b)({dispatch:!1}),I.__metadata(\"design:type\",Object)],t.prototype,\"updatePe$\",void 0),I.__decorate([Object(Si.b)({dispatch:!1}),I.__metadata(\"design:type\",Object)],t.prototype,\"updateDx$\",void 0),I.__decorate([Object(Si.b)(),I.__metadata(\"design:type\",Object)],t.prototype,\"updateOu$\",void 0),t}(),zr=Object(Ie.D)(ui,function(t){return t.visualizationObjects}),Dr=Object(Ie.D)(zr,function(t){return t.entities}),Er=Object(Ie.D)(zr,function(t){return t.currentMap}),Rr=(Object(Ie.D)(Dr,function(t){return Object.keys(t).map(function(e){return t[e]})}),Object(Ie.D)(Dr,Er,function(t,e){return t[e]}),Object(Ie.D)(Dr,function(t){return t.entities},Er,function(t,e,n){return t[n].layers.map(function(t){return e[t]})}),Object(Ie.D)(zr,function(t){return t.loading})),Nr=Object(Ie.D)(zr,function(t){return t.loaded}),Br=Object(Ie.D)(ui,function(t){return t.legendSets}),Fr=Object(Ie.D)(Br,function(t){return t.entities}),jr=function(t){return Object(Ie.D)(Fr,function(e){return e[t]})},Ur=(Object(Ie.D)(Fr,function(t){return Object.keys(t).map(function(e){return t[e]})}),Object(Ie.D)(ui,function(t){return t.visualizationLegend})),Vr=Object(Ie.D)(Ur,function(t){return t.entities}),Gr=function(t){return Object(Ie.D)(Vr,function(e){return e[t].open})},Hr=Object(Ie.D)(ui,function(t){return t.baselayerLegend}),Zr=Object(Ie.D)(Hr,function(t){return t.entities}),Wr=function(t){return Object(Ie.D)(Zr,function(e){return e[t]})},Yr=(Object(Ie.D)(Zr,function(t){return Object.keys(t).map(function(e){return t[e]})}),function(){function t(t){this.store=t,this.loaded=!0,this.onFilterUpdate=new i.EventEmitter,this.onLayoutUpdate=new i.EventEmitter,this.selectedFilter=\"ORG_UNIT\",this.selectedDataItems=[],this.selectedPeriods=[],this.singleSelection=!0,this.periodConfig={singleSelection:!0},this.orgUnitModel={selectionMode:\"orgUnit\",selectedLevels:[],showUpdateButton:!0,selectedGroups:[],orgUnitLevels:[],orgUnitGroups:[],selectedOrgUnits:[],userOrgUnits:[],type:\"report\",selectedUserOrgUnits:[]}}return t.prototype.ngOnInit=function(){this.showFilters=!0,this.getSelectedFilters(this.mapVisualizationObject.layers[this.activeLayer].dataSelections)},t.prototype.toggleFilters=function(t){t.stopPropagation(),this.showFilters=!this.showFilters,this.store.dispatch(new Vn(this.mapVisualizationObject.componentId))},t.prototype.toggleCurrentFilter=function(t,e){t.stopPropagation(),this.selectedFilter=e},t.prototype.onFilterUpdateAction=function(t,e){var n=this.mapVisualizationObject,i=n.componentId,o=n.layers[this.activeLayer],r=t.value,a=t.items;switch(e){case\"ORG_UNIT\":var s=a.map(function(t){return{displayName:t.name,dimesionItem:t.id}});this.store.dispatch(new fi({componentId:i,filterType:\"ou\",layer:o,newdimension:{dimension:\"ou\",items:s},params:r}));break;case\"PERIOD\":var l=a.map(function(t){return{displayName:t.name,dimesionItem:t.id,dimensionItemType:\"PERIOD\"}});this.store.dispatch(new pi({componentId:i,filterType:\"pe\",layer:o,newdimension:{dimension:\"pe\",items:l},params:r}));break;case\"DATA\":var u=t.itemList.map(function(t){return{displayName:t.name,dimesionItem:t.id}});this.store.dispatch(new gi({componentId:i,filterType:\"dx\",layer:o,newdimension:{dimension:\"dx\",items:u},params:t.selectedData.value}))}},t.prototype.onFilterClose=function(t){this.store.dispatch(new Hn(this.mapVisualizationObject.componentId))},t.prototype.getSelectedFilters=function(t){var e=t.columns.concat(t.filters,t.rows),n=Se(\"pe\",e),i=Se(\"dx\",e);this.selectedDataItems=i.map(function(t){return{id:t.dimensionItem,name:t.displayName,type:t.dimensionItemType}}),this.selectedPeriods=n.map(function(t){return{id:t.dimensionItem,name:t.displayName,type:t.dimensionItemType}});var o=Se(\"ou\",e),r=[],a=[],s=[],l=[];o.map(function(t){if(t.dimensionItemType&&\"ORGANISATION_UNIT\"===t.dimensionItemType&&(r=r.concat([{id:t.dimensionItem,name:t.displayName,type:t.dimensionItemType}])),-1!==t.dimensionItem.indexOf(\"LEVEL\")){var e={level:t.dimensionItem.split(\"-\")[1]};a=a.concat([e])}-1!==t.dimensionItem.indexOf(\"OU_GROUP\")&&(s=s.concat([{id:t.dimesionItem,name:t.displayName}])),-1!==t.dimensionItem.indexOf(\"USER\")&&(l=l.concat([{id:t.dimensionItem,name:t.displayName}]))}),this.orgUnitModel=I.__assign({},this.orgUnitModel,{selectedLevels:a||[],selectedOrgUnits:r||[],selectedUserOrgUnits:l||[],selectedGroups:s||[]})},t.prototype.ngOnDestroy=function(){this.store.dispatch(new Hn(this.mapVisualizationObject.componentId))},t}()),Xr=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\".visualization-filter-section[_ngcontent-%COMP%]{width:100%;padding:4px 0}.visualization-filter-buttons[_ngcontent-%COMP%]{display:flex}.visualization-filter-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;height:10px}.no-borders[_ngcontent-%COMP%]{box-shadow:none}.no-borders[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px}.period-filter-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;height:15px}.data-filter-btn[_ngcontent-%COMP%], .layout-filter-btn[_ngcontent-%COMP%], .org-unit-filter-btn[_ngcontent-%COMP%], .period-filter-btn[_ngcontent-%COMP%]{margin-right:5px;display:flex;width:auto;font-size:12px;border-radius:15px}.data-filter-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .layout-filter-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .org-unit-filter-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;height:15px}.visualization-filter-list[_ngcontent-%COMP%]{display:flex;margin-left:5px}.visualization-filter-body[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.95);position:absolute;padding:5px;margin-top:2px;width:400px;height:350px;z-index:1200}.active-filter[_ngcontent-%COMP%]{background-color:#f1f1f1}.dashboard-btn.button-close[_ngcontent-%COMP%]{border-radius:0 50% 50% 0}@media (max-width:500px){.visualization-filter-body[_ngcontent-%COMP%]{width:95%}}\"]],data:{animation:[{type:7,name:\"open\",definitions:[{type:0,name:\"in\",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:\"void => *\",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:700}],options:null},{type:1,expr:\"* => void\",animation:[{type:4,styles:null,timings:300},{type:6,styles:{opacity:0},offset:null}],options:null}],options:{}}]}});function $r(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/close.png\"]],null,null,null,null,null))],null,null)}function Kr(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,18,\"div\",[[\"class\",\"visualization-filter-list\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,5,\"button\",[[\"class\",\"dashboard-btn org-unit-filter-btn border-round \"],[\"title\",\"Filter by organisation unit\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleCurrentFilter(n,\"ORG_UNIT\")&&i),i},null,null)),i[\"\\u0275did\"](2,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,\"klass\"],ngClass:[1,\"ngClass\"]},null),i[\"\\u0275pod\"](3,{\"active-filter\":0}),(t()(),i[\"\\u0275eld\"](4,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/tree.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](5,0,null,null,1,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Org Unit\"])),(t()(),i[\"\\u0275eld\"](7,0,null,null,5,\"button\",[[\"class\",\"dashboard-btn data-filter-btn border-round\"],[\"title\",\"Filter by data\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleCurrentFilter(n,\"DATA\")&&i),i},null,null)),i[\"\\u0275did\"](8,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,\"klass\"],ngClass:[1,\"ngClass\"]},null),i[\"\\u0275pod\"](9,{\"active-filter\":0}),(t()(),i[\"\\u0275eld\"](10,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/data.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](11,0,null,null,1,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Data\"])),(t()(),i[\"\\u0275eld\"](13,0,null,null,5,\"button\",[[\"class\",\"dashboard-btn period-filter-btn border-round\"],[\"title\",\"Filter by period\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleCurrentFilter(n,\"PERIOD\")&&i),i},null,null)),i[\"\\u0275did\"](14,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,\"klass\"],ngClass:[1,\"ngClass\"]},null),i[\"\\u0275pod\"](15,{\"active-filter\":0}),(t()(),i[\"\\u0275eld\"](16,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/period.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](17,0,null,null,1,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Period\"]))],function(t,e){var n=e.component,i=t(e,3,0,\"ORG_UNIT\"===n.selectedFilter);t(e,2,0,\"dashboard-btn org-unit-filter-btn border-round \",i);var o=t(e,9,0,\"DATA\"===n.selectedFilter);t(e,8,0,\"dashboard-btn data-filter-btn border-round\",o);var r=t(e,15,0,\"PERIOD\"===n.selectedFilter);t(e,14,0,\"dashboard-btn period-filter-btn border-round\",r)},null)}function qr(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"app-org-unit-filter\",[],null,[[null,\"onOrgUnitClose\"],[null,\"onOrgUnitUpdate\"]],function(t,e,n){var i=!0,o=t.component;return\"onOrgUnitClose\"===e&&(i=!1!==o.onFilterClose(n)&&i),\"onOrgUnitUpdate\"===e&&(i=!1!==o.onFilterUpdateAction(n,\"ORG_UNIT\")&&i),i},s.b,s.a)),i[\"\\u0275did\"](1,245760,null,0,l.a,[u.a,i.ChangeDetectorRef],{orgUnitModel:[0,\"orgUnitModel\"]},{onOrgUnitUpdate:\"onOrgUnitUpdate\",onOrgUnitClose:\"onOrgUnitClose\"})],function(t,e){t(e,1,0,e.component.orgUnitModel)},null)}function Jr(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"app-data-filter\",[],null,[[null,\"onDataFilterClose\"],[null,\"onDataUpdate\"]],function(t,e,n){var i=!0,o=t.component;return\"onDataFilterClose\"===e&&(i=!1!==o.onFilterClose(n)&&i),\"onDataUpdate\"===e&&(i=!1!==o.onFilterUpdateAction(n,\"DATA\")&&i),i},Y,N)),i[\"\\u0275did\"](1,245760,null,0,R,[A.a],{selectedItems:[0,\"selectedItems\"],singleSelection:[1,\"singleSelection\"]},{onDataUpdate:\"onDataUpdate\",onDataFilterClose:\"onDataFilterClose\"})],function(t,e){var n=e.component;t(e,1,0,n.selectedDataItems,n.singleSelection)},null)}function Qr(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"app-period-filter\",[],null,[[null,\"onPeriodFilterClose\"],[null,\"onPeriodUpdate\"]],function(t,e,n){var i=!0,o=t.component;return\"onPeriodFilterClose\"===e&&(i=!1!==o.onFilterClose(n)&&i),\"onPeriodUpdate\"===e&&(i=!1!==o.onFilterUpdateAction(n,\"PERIOD\")&&i),i},h.b,h.a)),i[\"\\u0275did\"](1,4308992,null,0,c.a,[d.a],{selectedPeriods:[0,\"selectedPeriods\"],periodConfig:[1,\"periodConfig\"]},{onPeriodUpdate:\"onPeriodUpdate\",onPeriodFilterClose:\"onPeriodFilterClose\"})],function(t,e){var n=e.component;t(e,1,0,n.selectedPeriods,n.periodConfig)},null)}function ta(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,6,\"div\",[[\"class\",\"visualization-filter-body dashboard-border\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,qr)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Jr)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Qr)),i[\"\\u0275did\"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,2,0,\"ORG_UNIT\"===n.selectedFilter),t(e,4,0,\"DATA\"===n.selectedFilter),t(e,6,0,\"PERIOD\"===n.selectedFilter)},null)}function ea(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,8,\"div\",[[\"class\",\"visualization-filter-section\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,5,\"div\",[[\"class\",\"visualization-filter-buttons\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,2,\"button\",[[\"class\",\"dashboard-btn button-close visualization-filter-btn border-round-right\"],[\"title\",\"Filter by different dimensions\"]],[[8,\"disabled\",0]],[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleFilters(n)&&i),i},null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,$r)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Kr)),i[\"\\u0275did\"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ta)),i[\"\\u0275did\"](8,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,4,0,n.showFilters),t(e,6,0,n.showFilters),t(e,8,0,n.selectedFilter)},function(t,e){t(e,2,0,!e.component.loaded)})}var na={osmLight:{name:\"osmLight\",type:\"tileLayer\",label:\"OSM Light\",url:\"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png\",maxZoom:18,attribution:'&copy;<a href=\"https://carto.com/attribution\">cartoDB</a>',image:\"assets/img/map-tiles/esri_osm_light.png\",baseLayer:!0,visible:!0},googleStreetsBaseMap:{name:\"googleStreetsBaseMap\",type:\"tileLayer\",label:\"Esri WorldStreetMap\",maxZoom:18,url:\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}\",attribution:\"&copy; Esri\",image:\"assets/img/map-tiles/esri_street_map.png\",baseLayer:!0,visible:!0},googleHybrid:{name:\"googleHybrid\",type:\"tileLayer\",label:\"Earth Imagery\",maxZoom:18,url:\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\",attribution:\"&copy; Esri\",image:\"assets/img/map-tiles/esri_world_imagery.png\",baseLayer:!0,visible:!0},OpenMapSurfer:{name:\"OpenMapSurfer\",type:\"tileLayer\",label:\"Map Surfer\",maxZoom:18,url:\"https://korona.geog.uni-heidelberg.de/tiles/roads/x={x}&y={y}&z={z}\",attribution:\"&copy; giscience\",image:\"assets/img/map-tiles/opne_surfer.png\",baseLayer:!0,visible:!0},DarkMatter:{name:\"DarkMatter\",type:\"tileLayer\",label:\"OSM Dark\",maxZoom:18,url:\"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png\",attribution:\"&copy; CartoDB\",image:\"assets/img/map-tiles/dar-osm.png\",baseLayer:!0,visible:!0},OpenTopoMap:{name:\"OpenTopoMap\",type:\"tileLayer\",label:\"Topography Map\",maxZoom:18,url:\"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png\",attribution:\"&copy; SRTM\",image:\"assets/img/map-tiles/topo.png\",baseLayer:!0,visible:!0},OSMHOT:{name:\"OSMHOT\",type:\"tileLayer\",label:\"OSM HOT\",maxZoom:18,url:\"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\",attribution:\"&copy; OSM\",image:\"assets/img/map-tiles/osm_hot.png\",baseLayer:!0,visible:!0},BlackAndWhite:{name:\"BlackAndWhite\",type:\"tileLayer\",label:\"OSM Black & White\",maxZoom:18,url:\"http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png\",attribution:\"&copy; OSM\",image:\"assets/img/map-tiles/black_and_white.png\",baseLayer:!0,visible:!0},StamenToner:{name:\"StamenToner\",type:\"tileLayer\",label:\"Stamen Toner Background\",maxZoom:18,url:\"https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}.png\",attribution:\"&copy; STAMEN\",image:\"assets/img/map-tiles/stamen-toner.png\",baseLayer:!0,visible:!0}},ia=function(){function t(t){this.store=t,this.showButtonIncons=!1,this.activeLayer=-1,this.visualizationLegends=[],this.showFilterContainer=!1,this.openTileLegend=!1,this.isRemovable=!1,this.toggleBoundary=!0,this.boundaryLegend=[],this.showDownload=!1,this.showUpload=!1,this.layerSelectionForm=!1,this.p=1,this.displayNone=!1,this.showTransparent=!1,this.openTileLegend=!1,this.isRemovable=!1,this.toggleBoundary=!1,this.tileLayers=na}return t.prototype.ngOnInit=function(){var t,e=this;this.sticky$=this.store.select((t=this.mapVisualizationObject.componentId,Object(Ie.D)(Vr,function(e){return e[t].pinned}))),this.isFilterSectionOpen$=this.store.select(function(t){return Object(Ie.D)(Vr,function(e){return e[t].filterSectionOpen})}(this.mapVisualizationObject.componentId)),this.visualizationLegends$=this.store.select(jr(this.mapVisualizationObject.componentId)).subscribe(function(t){t&&(e.visualizationLegends=Object.keys(t).map(function(e){return t[e]}).reverse(),e.activeLayer=e.activeLayer>=0?e.activeLayer:0)})},t.prototype.showButtonIcons=function(){this.showButtonIncons=!0},t.prototype.hideButtonIcons=function(){this.showButtonIncons=!1},t.prototype.setActiveItem=function(t,e){e.stopPropagation(),-1===t&&(this.LegendsTileLayer=Object.keys(na).map(function(t){return na[t]})),this.showFilterContainer&&this.closeFilters(),this.buttonTop=e.currentTarget.offsetTop,this.buttonHeight=e.currentTarget.offsetHeight,this.activeLayer=this.activeLayer===t?-2:t},t.prototype.mapDownload=function(t,e){e&&e.stopPropagation();var n=this.visualizationLegends;\"csv\"===t&&this.store.dispatch(new Ci({visualization:this.mapVisualizationObject,mapLegends:n})),\"kml\"===t&&this.store.dispatch(new Oi({visualization:this.mapVisualizationObject,mapLegends:n})),\"shapefile\"===t&&this.store.dispatch(new ki({visualization:this.mapVisualizationObject,mapLegends:n})),\"geojson\"===t&&this.store.dispatch(new Mi({visualization:this.mapVisualizationObject,mapLegends:n}))},t.prototype.stickLegendContainer=function(t){t.stopPropagation(),this.store.dispatch(new Un(this.mapVisualizationObject.componentId))},t.prototype.closeLegendContainer=function(t){t.stopPropagation(),this.store.dispatch(new Gn(this.mapVisualizationObject.componentId))},t.prototype.openFilters=function(t){t.stopPropagation(),this.stickLegendContainer(t),this.showFilterContainer=!0,this.store.dispatch(new Vn(this.mapVisualizationObject.componentId))},t.prototype.closeFilters=function(){this.showFilterContainer=!1,this.store.dispatch(new Hn(this.mapVisualizationObject.componentId))},t.prototype.toggleLayerView=function(t,e){var n;e.stopPropagation();var i=this.visualizationLegends[t],o=this.mapVisualizationObject.componentId,r=I.__assign({},i,{hidden:!i.hidden}),a=((n={})[r.layer]=I.__assign({},r),n);this.store.dispatch(new Ln({componentId:o,legend:a}))},t.prototype.toggleBaseLayer=function(t){var e;t.stopPropagation();var n=((e={})[this.mapVisualizationObject.componentId]=I.__assign({},this.baseLayerLegend,{hidden:!this.baseLayerLegend.hidden,changedBaseLayer:!1}),e);this.store.dispatch(new oi(n))},t.prototype.changeBaseLayerOpacity=function(t){var e;t.stopPropagation();var n=((e={})[this.mapVisualizationObject.componentId]=I.__assign({},this.baseLayerLegend,{opacity:t.target.value,changedBaseLayer:!1}),e);this.store.dispatch(new oi(n))},t.prototype.changeTileLayer=function(t){var e,n=((e={})[this.mapVisualizationObject.componentId]=I.__assign({},this.baseLayerLegend,{name:t.name,changedBaseLayer:!0}),e);this.store.dispatch(new oi(n))},t.prototype.opacityChanged=function(t,e){var n;t.stopPropagation();var i=this.mapVisualizationObject.componentId,o=((n={})[e.layer]=I.__assign({},e,{opacity:t.target.value}),n);this.store.dispatch(new Mn({componentId:i,legend:o}))},t.prototype.handlePageChange=function(t){this.p=t},t.prototype.toggleDownload=function(t){t.stopPropagation(),this.showDownload=!this.showDownload},t.prototype.toggleDataTableView=function(t){t.stopPropagation(),this.store.dispatch(new Wn(this.mapVisualizationObject.componentId))},t.prototype.ngOnDestroy=function(){this.visualizationLegends$.unsubscribe()},t}(),oa=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\".map-legend__container[_ngcontent-%COMP%]{width:100%;position:relative;box-shadow:0 0 3px rgba(0,0,0,.3);min-width:250px;background-color:rgba(255,255,255,.8);display:flex;justify-content:space-between;flex-direction:column}.map-legend-list[_ngcontent-%COMP%]{border-bottom:thin solid #ececec}.map-legend-list[_ngcontent-%COMP%]:last-child{border-bottom-style:none}.map-legend-header[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer;display:flex;justify-content:space-between}.map-legend-title-block[_ngcontent-%COMP%]{display:flex}.map-legend-title-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;height:15px}.map-legend-title[_ngcontent-%COMP%]{padding-left:5px;padding-top:2px;font-weight:500;font-size:15px}.map-legend-title-options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.map-legend-title-options[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:block;margin:auto;height:20px}.map-legend-body[_ngcontent-%COMP%]{border-top:thin solid #ececec;padding:5px 10px;font-size:15px;overflow:auto}.map-legend-table[_ngcontent-%COMP%]{display:flex;width:100%;padding:0}.align-center[_ngcontent-%COMP%]{align-items:center}.map-legend-table-list[_ngcontent-%COMP%]{list-style-type:none;margin:0;display:flex;align-items:center;padding-left:5px}.map-legend-table-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:2px}.tile-layers-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}.tile-layer-item[_ngcontent-%COMP%]{margin:5px}.map-tile-layer-icon[_ngcontent-%COMP%]{border:thin solid #cdd2d4;cursor:pointer}.map-tile-layer-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;width:60px}.map-legend-footer[_ngcontent-%COMP%]{position:relative;bottom:0;width:100%;z-index:1000;display:flex;justify-content:space-between;align-items:center;padding:5px 10px}.map-legend-left-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-top:5px;cursor:pointer}.map-legend-right-footer[_ngcontent-%COMP%]{display:flex}.map-legend-right-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:4px 6px;cursor:pointer}.map-legend-left-footer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;height:17px}.map-legend-right-footer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;height:15px}.legendContainer[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.84)!important}bar[_ngcontent-%COMP%]{background-color:rgba(236,236,236,.24)!important}.row[_ngcontent-%COMP%]{margin:0}header[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.3)!important}table[_ngcontent-%COMP%]{background-color:transparent!important}.btn-default-updated[_ngcontent-%COMP%]{background-color:rgba(255,255,255,0)!important}.legend-view-container[_ngcontent-%COMP%]{min-height:10px;max-height:260px;overflow-x:hidden;background-color:rgba(255,255,255,0)!important;box-shadow:1px 1px 4px 0 rgba(0,0,0,.5)!important}.legend-view-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:2px}.legend-view-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.legend-view-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.5)}.legend-header[_ngcontent-%COMP%]{background-color:rgba(255,255,255,0)!important}.legend-header-lower-bar[_ngcontent-%COMP%]{background-color:rgba(255,255,255,0)!important;height:30px}.parent-inner-header[_ngcontent-%COMP%]{padding:10px;padding-left:0!important;padding-right:0!important;font-size:12px;font-weight:700;background-color:#fff}.legend-draggable-icon[_ngcontent-%COMP%]{padding-left:5px!important;padding:10px;font-size:12px;font-weight:700;background-color:#fff}.displayNone[_ngcontent-%COMP%]{display:none}.legend-draggable-icon-2[_ngcontent-%COMP%]{padding-left:5px!important;font-size:12px;font-weight:700}.class-container[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important;background-color:transparent!important}.hideLegend[_ngcontent-%COMP%]{display:none!important}.legend-table[_ngcontent-%COMP%]{margin-bottom:10px!important}table.legend-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{padding:2px}table.legend-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1), table.legend-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){padding-left:5px}.eye-container[_ngcontent-%COMP%]{padding:10px 22px 10px 10px;font-size:12px;font-weight:bolder;background-color:#fff}.menu-member[_ngcontent-%COMP%]{font-size:12px;font-weight:bolder;padding-right:22px}tr[_ngcontent-%COMP%]   a.map-tile-icons[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   a.map-tile-icons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{color:#333;border-color:#333}tr[_ngcontent-%COMP%]   a.map-tile-icons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{color:#337ab7;border-color:#337ab7;outline:#337ab7 solid 3px;text-decoration:none;border-radius:5px}tr[_ngcontent-%COMP%]   a.map-tile-icons[_ngcontent-%COMP%]:hover{color:#337ab7;text-decoration:none}.pinned[_ngcontent-%COMP%]{color:#222}table.tiles-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-right:4px!important}.rowActive[_ngcontent-%COMP%]{color:#337ab7;border-color:#337ab7;outline:#337ab7 solid 3px;text-decoration:none}.map-downloads-container[_ngcontent-%COMP%]{min-width:250px;padding:2px;position:absolute;bottom:0!important;height:32px;background-color:rgba(255,255,255,0)!important;z-index:1005!important;border-top:1px solid #ccc}.map-uploads-container[_ngcontent-%COMP%]{min-width:220px;padding:3px;position:absolute;bottom:0!important;height:37px;background-color:rgba(255,255,255,0)!important;z-index:1005!important}.hide-button-icons[_ngcontent-%COMP%]{color:#fff!important}table.legend-button-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-right:2px;padding-left:2px}.sticky[_ngcontent-%COMP%]{color:red!important}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card-body[_ngcontent-%COMP%]{flex:1 1 auto;padding:1.25rem}.card-title[_ngcontent-%COMP%]{margin-bottom:.75rem}.card-subtitle[_ngcontent-%COMP%]{margin-top:-.375rem;margin-bottom:0}.card-text[_ngcontent-%COMP%]:last-child{margin-bottom:0}.card-link[_ngcontent-%COMP%]:hover{text-decoration:none}.card-link[_ngcontent-%COMP%] + .card-link[_ngcontent-%COMP%]{margin-left:1.25rem}.card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%]:first-child   .list-group-item[_ngcontent-%COMP%]:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%]:last-child   .list-group-item[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.card-header[_ngcontent-%COMP%]{padding:.1rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-header[_ngcontent-%COMP%]:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card-footer[_ngcontent-%COMP%]{padding:.75rem 1.25rem;background-color:rgba(0,0,0,.03);border-top:1px solid rgba(0,0,0,.125)}.card-footer[_ngcontent-%COMP%]:last-child{border-radius:0 0 calc(.25rem - 1px) calc(.25rem - 1px)}.card-header-tabs[_ngcontent-%COMP%]{margin-right:-.625rem;margin-bottom:-.75rem;margin-left:-.625rem;border-bottom:0}.card-header-pills[_ngcontent-%COMP%]{margin-right:-.625rem;margin-left:-.625rem}.card-img-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;padding:1.25rem}.card-img[_ngcontent-%COMP%]{width:100%;border-radius:calc(.25rem - 1px)}.card-img-top[_ngcontent-%COMP%]{width:100%;border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card-img-bottom[_ngcontent-%COMP%]{width:100%;border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-columns[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:.75rem}@media (min-width:576px){.card-deck[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;margin-right:-15px;margin-left:-15px}.card-deck[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;flex:1 0 0%;flex-direction:column;margin-right:15px;margin-left:15px}.card-group[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.card-group[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{flex:1 0 0%}.card-group[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] + .card[_ngcontent-%COMP%]{margin-left:0;border-left:0}.card-group[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.card-group[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:first-child   .card-img-top[_ngcontent-%COMP%]{border-top-right-radius:0}.card-group[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:first-child   .card-img-bottom[_ngcontent-%COMP%]{border-bottom-right-radius:0}.card-group[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.card-group[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:last-child   .card-img-top[_ngcontent-%COMP%]{border-top-left-radius:0}.card-group[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:last-child   .card-img-bottom[_ngcontent-%COMP%]{border-bottom-left-radius:0}.card-group[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:first-child):not(:last-child), .card-group[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:first-child):not(:last-child)   .card-img-bottom[_ngcontent-%COMP%], .card-group[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:first-child):not(:last-child)   .card-img-top[_ngcontent-%COMP%]{border-radius:0}.card-columns[_ngcontent-%COMP%]{-webkit-column-count:3;column-count:3;-webkit-column-gap:1.25rem;column-gap:1.25rem}.card-columns[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:inline-block;width:100%}}.legend-layer-title[_ngcontent-%COMP%]{font-size:12px!important;color:#000}.period-legend[_ngcontent-%COMP%]{color:rgba(0,0,0,.54);display:block;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.visualization-btn[_ngcontent-%COMP%]{border-style:none;cursor:pointer;background-color:hsla(0,0%,100%,.85);height:34px;width:34px;border-radius:0 50% 50% 0;text-align:center;text-decoration:none;display:inline-block;transition:all .2s ease-in-out;box-shadow:0 0 3px rgba(0,0,0,.3)}.visualization-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;height:20px}.legendFilter__container[_ngcontent-%COMP%]{display:flex}.filter__button[_ngcontent-%COMP%]{position:absolute;right:-34px;text-align:center}.legend-filter__container[_ngcontent-%COMP%]{width:100%;min-width:400px;box-shadow:0 0 3px rgba(0,0,0,.3);background-color:rgba(255,255,255,.8)}.legend-filter__container[_ngcontent-%COMP%]   .btn-group-vertical[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:space-between}.range[_ngcontent-%COMP%]{display:flex;flex:1;justify-content:center;align-content:center}input[type=range][_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;-webkit-appearance:none;background-color:#bdc3c7;height:3px;border-radius:3px;margin:0 auto;outline:0}input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;background-color:#bdc3c7;width:20px;height:20px;border-radius:50%;border:2px solid #fff;cursor:pointer;transition:.3s ease-in-out}\\u200b[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb:hover{background-color:#fff;border:2px solid #e74c3c}input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb:active{-webkit-transform:scale(1.2);transform:scale(1.2)}.event-item[_ngcontent-%COMP%]{background:#333;width:12px;height:12px;border-radius:50%}@media print{.hide_on_print[_ngcontent-%COMP%]{display:none!important}}\"]],data:{}});function ra(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/eye.png\"]],null,null,null,null,null))],null,null)}function aa(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/eye-cross.png\"]],null,null,null,null,null))],null,null)}function sa(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"div\",[[\"class\",\"filter__button hide_on_print\"]],null,null,null,null,null)),i[\"\\u0275did\"](1,278528,null,0,a.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,\"ngStyle\"]},null),i[\"\\u0275pod\"](2,{top:0}),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"button\",[[\"class\",\"visualization-btn\"],[\"title\",\"Filter by different dimensions\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.openFilters(n)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](4,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/filter.png\"]],null,null,null,null,null))],function(t,e){var n=t(e,2,0,\"calc(\"+e.component.buttonTop+\"px)\");t(e,1,0,n)},null)}function la(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,8,\"div\",[[\"class\",\"map-legend-table\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,2,\"div\",[],null,null,null,null,null)),i[\"\\u0275did\"](2,278528,null,0,a.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,\"ngStyle\"]},null),i[\"\\u0275pod\"](3,{backgroundColor:0,width:1}),(t()(),i[\"\\u0275eld\"](4,0,null,null,4,\"ul\",[[\"class\",\"map-legend-table-list\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](5,0,null,null,1,\"li\",[[\"class\",\"font-weight-bold\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](6,null,[\"\",\"\"])),(t()(),i[\"\\u0275eld\"](7,0,null,null,1,\"li\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](8,null,[\"\",\" - \",\" (\",\")\"]))],function(t,e){var n=t(e,3,0,e.context.$implicit.color,\"60px\");t(e,2,0,n)},function(t,e){t(e,6,0,e.context.$implicit.name),t(e,8,0,e.context.$implicit.startValue,e.context.$implicit.endValue,e.context.$implicit.count||0)})}function ua(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"tile-layers-list\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,la)),i[\"\\u0275did\"](2,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],function(t,e){t(e,2,0,e.parent.parent.context.$implicit.legend.items)},null)}function ha(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,6,\"div\",[[\"class\",\"map-legend-table align-center\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,2,\"div\",[],null,null,null,null,null)),i[\"\\u0275did\"](2,278528,null,0,a.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,\"ngStyle\"]},null),i[\"\\u0275pod\"](3,{backgroundColor:0,width:1,height:2}),(t()(),i[\"\\u0275eld\"](4,0,null,null,2,\"ul\",[[\"class\",\"map-legend-table-list\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](5,0,null,null,1,\"li\",[[\"class\",\"font-weight-bold\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](6,null,[\"\",\"\"]))],function(t,e){var n=t(e,3,0,e.context.$implicit.color,\"60px\",e.context.$implicit.weight+\"px\");t(e,2,0,n)},function(t,e){t(e,6,0,e.context.$implicit.name)})}function ca(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"tile-layers-list hide_on_print\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ha)),i[\"\\u0275did\"](2,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],function(t,e){t(e,2,0,e.parent.parent.context.$implicit.legend.items)},null)}function da(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,6,\"div\",[[\"class\",\"map-legend-table\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,2,\"div\",[],null,null,null,null,null)),i[\"\\u0275did\"](2,278528,null,0,a.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,\"ngStyle\"]},null),i[\"\\u0275pod\"](3,{backgroundColor:0,width:1}),(t()(),i[\"\\u0275eld\"](4,0,null,null,2,\"ul\",[[\"class\",\"map-legend-table-list\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](5,0,null,null,1,\"li\",[[\"class\",\"font-weight-bold\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](6,null,[\"\",\"\"]))],function(t,e){var n=t(e,3,0,e.context.$implicit.color,\"60px\");t(e,2,0,n)},function(t,e){t(e,6,0,e.context.$implicit.name)})}function pa(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"tile-layers-list hide_on_print\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,da)),i[\"\\u0275did\"](2,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],function(t,e){t(e,2,0,e.parent.parent.context.$implicit.legend.items)},null)}function fa(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,5,\"div\",[[\"class\",\"map-legend-table\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"div\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,0,\"img\",[],[[8,\"src\",4]],null,null,null,null)),(t()(),i[\"\\u0275eld\"](3,0,null,null,2,\"ul\",[[\"class\",\"map-legend-table-list\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](4,0,null,null,1,\"li\",[[\"class\",\"font-weight-bold\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](5,null,[\"\",\"\"]))],null,function(t,e){t(e,2,0,e.context.$implicit.image),t(e,5,0,e.context.$implicit.name)})}function ga(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"tile-layers-list\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,fa)),i[\"\\u0275did\"](2,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],function(t,e){t(e,2,0,e.parent.parent.context.$implicit.legend.items)},null)}function ma(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"div\",[[\"class\",\"map-legend-table\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,3,\"ul\",[[\"class\",\"map-legend-table-list list-inline\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,0,\"li\",[[\"class\",\"list-inline-item event-item\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"li\",[[\"class\",\"font-weight-bold list-inline-item\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](4,null,[\"\",\"\"]))],null,function(t,e){t(e,4,0,e.context.$implicit.name)})}function va(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"tile-layers-list\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ma)),i[\"\\u0275did\"](2,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],function(t,e){t(e,2,0,e.parent.parent.context.$implicit.legend.items)},null)}function ya(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,5,\"div\",[[\"class\",\"map-legend-table\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,4,\"ul\",[[\"class\",\"map-legend-table-list list-inline\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,1,\"li\",[[\"class\",\"list-inline-item\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](3,0,null,null,0,\"img\",[[\"style\",\"width: 30px; height: 30px;\"]],[[8,\"src\",4]],null,null,null,null)),(t()(),i[\"\\u0275eld\"](4,0,null,null,1,\"li\",[[\"class\",\"font-weight-bold list-inline-item\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](5,null,[\"\",\"\"]))],null,function(t,e){t(e,3,0,e.context.$implicit.image),t(e,5,0,e.context.$implicit.name)})}function _a(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"tile-layers-list hide_on_print\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ya)),i[\"\\u0275did\"](2,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],function(t,e){t(e,2,0,e.parent.parent.context.$implicit.legend.items)},null)}function ba(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,25,\"div\",[[\"class\",\"map-legend-body\"]],null,null,null,null,null)),i[\"\\u0275did\"](1,278528,null,0,a.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,\"ngStyle\"]},null),i[\"\\u0275pod\"](2,{\"max-height\":0}),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"span\",[[\"class\",\"period-legend\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](4,null,[\"\",\"\"])),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ua)),i[\"\\u0275did\"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ca)),i[\"\\u0275did\"](8,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,pa)),i[\"\\u0275did\"](10,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ga)),i[\"\\u0275did\"](12,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,va)),i[\"\\u0275did\"](14,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,_a)),i[\"\\u0275did\"](16,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275eld\"](17,0,null,null,8,\"div\",[[\"class\",\"map-legend-footer hide_on_print\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](18,0,null,null,2,\"div\",[[\"class\",\"map-legend-left-footer\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](19,0,null,null,1,\"small\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Opacity\"])),(t()(),i[\"\\u0275eld\"](21,0,null,null,1,\"div\",[[\"class\",\"range\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](22,0,null,null,0,\"input\",[[\"max\",\"1\"],[\"min\",\"0\"],[\"step\",\"0.1\"],[\"type\",\"range\"]],[[8,\"value\",0]],[[null,\"input\"]],function(t,e,n){var i=!0;return\"input\"===e&&(i=!1!==t.component.opacityChanged(n,t.parent.context.$implicit)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](23,0,null,null,2,\"div\",[[\"class\",\"map-legend-right-footer\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](24,0,null,null,1,\"small\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](25,null,[\"\",\"%\"]))],function(t,e){var n=e.component,i=t(e,2,0,\"calc(\"+n.mapHeight+\" - \"+50*(n.visualizationLegends.length+4)+\"px)\");t(e,1,0,i),t(e,6,0,\"thematic\"===e.parent.context.$implicit.legend.type),t(e,8,0,\"boundary\"===e.parent.context.$implicit.legend.type),t(e,10,0,\"earthEngine\"===e.parent.context.$implicit.legend.type),t(e,12,0,\"facility\"===e.parent.context.$implicit.legend.type),t(e,14,0,\"event\"===e.parent.context.$implicit.legend.type),t(e,16,0,\"external\"===e.parent.context.$implicit.legend.type)},function(t,e){t(e,4,0,e.parent.context.$implicit.legend.period),t(e,22,0,e.parent.context.$implicit.opacity),t(e,25,0,100*e.parent.context.$implicit.opacity)})}function xa(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,18,\"div\",[[\"class\",\"map-legend-item\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,15,\"div\",[[\"class\",\"map-legend-header\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.setActiveItem(t.context.index,n)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,5,\"div\",[[\"class\",\"map-legend-title-block\"]],null,null,null,null,null)),i[\"\\u0275did\"](3,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,\"klass\"],ngClass:[1,\"ngClass\"]},null),i[\"\\u0275pod\"](4,{hide_on_print:0}),(t()(),i[\"\\u0275eld\"](5,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/map.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](6,0,null,null,1,\"span\",[[\"class\",\"map-legend-title\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](7,null,[\"\",\"\"])),(t()(),i[\"\\u0275eld\"](8,0,null,null,5,\"div\",[[\"class\",\"map-legend-title-options hide_on_print\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](9,0,null,null,4,\"a\",[],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleLayerView(t.context.index,n)&&i),i},null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ra)),i[\"\\u0275did\"](11,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,aa)),i[\"\\u0275did\"](13,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,2,null,sa)),i[\"\\u0275did\"](15,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ba)),i[\"\\u0275did\"](18,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component,o=t(e,4,0,\"boundary\"===e.context.$implicit.legend.type);t(e,3,0,\"map-legend-title-block\",o),t(e,11,0,!e.context.$implicit.hidden),t(e,13,0,e.context.$implicit.hidden),t(e,15,0,n.activeLayer===e.context.index&&!i[\"\\u0275unv\"](e,15,0,i[\"\\u0275nov\"](e,16).transform(n.isFilterSectionOpen$))),t(e,18,0,n.activeLayer===e.context.index)},function(t,e){t(e,7,0,e.context.$implicit.title||e.context.$implicit.legend.title)})}function wa(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"pagination-controls\",[],null,[[null,\"pageChange\"]],function(t,e,n){var i=!0;return\"pageChange\"===e&&(i=!1!==t.component.handlePageChange(n)&&i),i},M,g)),i[\"\\u0275did\"](1,49152,null,0,f.c,[],null,{pageChange:\"pageChange\"})],null,null)}function Ca(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,6,\"div\",[[\"class\",\"map-legend-list\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,3,null,xa)),i[\"\\u0275did\"](2,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),i[\"\\u0275pod\"](3,{itemsPerPage:0,currentPage:1}),i[\"\\u0275pid\"](0,f.b,[f.e]),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,wa)),i[\"\\u0275did\"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component,o=i[\"\\u0275unv\"](e,2,0,i[\"\\u0275nov\"](e,4).transform(n.visualizationLegends,t(e,3,0,3,n.p)));t(e,2,0,o),t(e,6,0,n.visualizationLegends.length>3)},null)}function ka(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/eye.png\"]],null,null,null,null,null))],null,null)}function Oa(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/eye-cross.png\"]],null,null,null,null,null))],null,null)}function Ma(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"div\",[[\"class\",\"tile-layer-item\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,3,\"a\",[[\"class\",\"map-tile-layer-icon\"]],[[8,\"title\",0]],[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.changeTileLayer(t.context.$implicit)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,2,\"img\",[],[[8,\"src\",4]],null,null,null,null)),i[\"\\u0275did\"](3,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,\"ngClass\"]},null),i[\"\\u0275pod\"](4,{rowActive:0})],function(t,e){var n=t(e,4,0,e.context.$implicit.name===e.component.baseLayerLegend.name);t(e,3,0,n)},function(t,e){t(e,1,0,i[\"\\u0275inlineInterpolate\"](1,\"\",e.context.$implicit.name,\"\")),t(e,2,0,e.context.$implicit.image)})}function La(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,14,\"div\",[[\"class\",\"map-legend-body\"]],null,null,null,null,null)),i[\"\\u0275did\"](1,278528,null,0,a.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,\"ngStyle\"]},null),i[\"\\u0275pod\"](2,{\"max-height\":0}),(t()(),i[\"\\u0275eld\"](3,0,null,null,2,\"div\",[[\"class\",\"tile-layers-list\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Ma)),i[\"\\u0275did\"](5,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),(t()(),i[\"\\u0275eld\"](6,0,null,null,8,\"div\",[[\"class\",\"map-legend-footer\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](7,0,null,null,2,\"div\",[[\"class\",\"map-legend-left-footer\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](8,0,null,null,1,\"small\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Opacity\"])),(t()(),i[\"\\u0275eld\"](10,0,null,null,1,\"div\",[[\"class\",\"range\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](11,0,null,null,0,\"input\",[[\"max\",\"1\"],[\"min\",\"0\"],[\"step\",\"0.1\"],[\"type\",\"range\"]],[[8,\"value\",0]],[[null,\"input\"]],function(t,e,n){var i=!0;return\"input\"===e&&(i=!1!==t.component.changeBaseLayerOpacity(n)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](12,0,null,null,2,\"div\",[[\"class\",\"map-legend-right-footer\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](13,0,null,null,1,\"small\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](14,null,[\"\",\"%\"]))],function(t,e){var n=e.component,i=t(e,2,0,\"calc(\"+n.mapHeight+\" - \"+50*(n.visualizationLegends.length+4)+\"px)\");t(e,1,0,i),t(e,5,0,n.LegendsTileLayer)},function(t,e){var n=e.component;t(e,11,0,n.baseLayerLegend.opacity),t(e,14,0,100*n.baseLayerLegend.opacity)})}function Sa(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"a\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,0,\"img\",[[\"alt\",\"download\"],[\"src\",\"assets/icons/csv.png\"],[\"title\",\"Download layers into csv\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.mapDownload(\"csv\",n)&&i),i},null,null))],null,null)}function Pa(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"a\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,0,\"img\",[[\"alt\",\"download\"],[\"src\",\"assets/icons/kml.png\"],[\"title\",\"Download map to kml\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.mapDownload(\"kml\",n)&&i),i},null,null))],null,null)}function Ta(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"a\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,0,\"img\",[[\"alt\",\"download\"],[\"src\",\"assets/icons/csv.png\"],[\"title\",\"Download map as shapefile\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.mapDownload(\"shapefile\",n)&&i),i},null,null))],null,null)}function Ia(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"a\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,0,\"img\",[[\"alt\",\"download\"],[\"src\",\"assets/icons/csv.png\"],[\"title\",\"Download map as geojson\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.mapDownload(\"geojson\",n)&&i),i},null,null))],null,null)}function Aa(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"img\",[[\"alt\",\"download\"],[\"src\",\"assets/icons/download.png\"],[\"title\",\"Download file\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleDownload(n)&&i),i},null,null))],null,null)}function za(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"img\",[[\"alt\",\"back\"],[\"src\",\"assets/icons/arrow-left.png\"],[\"title\",\"Back\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleDownload(n)&&i),i},null,null))],null,null)}function Da(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/pin-empty.png\"]],null,null,null,null,null))],null,null)}function Ea(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/pin-filled.png\"]],null,null,null,null,null))],null,null)}function Ra(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"legend-filter__container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"app-map-filter-section\",[],null,null,null,ea,Xr)),i[\"\\u0275did\"](2,245760,null,0,Yr,[Ie.n],{mapVisualizationObject:[0,\"mapVisualizationObject\"],activeLayer:[1,\"activeLayer\"]},null)],function(t,e){var n=e.component;t(e,2,0,n.mapVisualizationObject,n.activeLayer)},null)}function Na(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,47,\"div\",[[\"class\",\"legendFilter__container\"]],null,[[null,\"mouseover\"],[null,\"mouseout\"]],function(t,e,n){var i=!0,o=t.component;return\"mouseover\"===e&&(i=!1!==o.showButtonIcons()&&i),\"mouseout\"===e&&(i=!1!==o.hideButtonIcons()&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,43,\"div\",[[\"class\",\"map-legend__container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,17,\"div\",[[\"class\",\"layers-list\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Ca)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275eld\"](5,0,null,null,14,\"div\",[[\"class\",\"map-legend-list hide_on_print\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](6,0,null,null,13,\"div\",[[\"class\",\"map-legend-item\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](7,0,null,null,10,\"div\",[[\"class\",\"map-legend-header\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.setActiveItem(-1,n)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](8,0,null,null,3,\"div\",[[\"class\",\"map-legend-title-block\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](9,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/map.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](10,0,null,null,1,\"span\",[[\"class\",\"map-legend-title\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Base Maps\"])),(t()(),i[\"\\u0275eld\"](12,0,null,null,5,\"div\",[[\"class\",\"map-legend-title-options\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](13,0,null,null,4,\"a\",[],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleBaseLayer(n)&&i),i},null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ka)),i[\"\\u0275did\"](15,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Oa)),i[\"\\u0275did\"](17,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,La)),i[\"\\u0275did\"](19,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275eld\"](20,0,null,null,24,\"div\",[[\"class\",\"map-legend-footer hide_on_print\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](21,0,null,null,0,\"div\",[[\"class\",\"map-legend-left-footer\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](22,0,null,null,22,\"div\",[[\"class\",\"map-legend-right-footer\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Sa)),i[\"\\u0275did\"](24,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Pa)),i[\"\\u0275did\"](26,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Ta)),i[\"\\u0275did\"](28,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Ia)),i[\"\\u0275did\"](30,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275eld\"](31,0,null,null,4,\"a\",[],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Aa)),i[\"\\u0275did\"](33,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,za)),i[\"\\u0275did\"](35,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275eld\"](36,0,null,null,6,\"a\",[[\"title\",\"Stick Legend\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.stickLegendContainer(n)&&i),i},null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,2,null,Da)),i[\"\\u0275did\"](38,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),(t()(),i[\"\\u0275and\"](16777216,null,null,2,null,Ea)),i[\"\\u0275did\"](41,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),(t()(),i[\"\\u0275eld\"](43,0,null,null,1,\"a\",[[\"title\",\"Close Legend\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.closeLegendContainer(n)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](44,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/close.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,2,null,Ra)),i[\"\\u0275did\"](46,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef])],function(t,e){var n=e.component;t(e,4,0,n.visualizationLegends.length),t(e,15,0,!n.baseLayerLegend.hidden),t(e,17,0,n.baseLayerLegend.hidden),t(e,19,0,-1===n.activeLayer),t(e,24,0,n.showDownload),t(e,26,0,n.showDownload),t(e,28,0,n.showDownload),t(e,30,0,n.showDownload),t(e,33,0,!n.showDownload),t(e,35,0,n.showDownload),t(e,38,0,!i[\"\\u0275unv\"](e,38,0,i[\"\\u0275nov\"](e,39).transform(n.sticky$))),t(e,41,0,i[\"\\u0275unv\"](e,41,0,i[\"\\u0275nov\"](e,42).transform(n.sticky$))),t(e,46,0,i[\"\\u0275unv\"](e,46,0,i[\"\\u0275nov\"](e,47).transform(n.isFilterSectionOpen$)))},null)}var Ba=function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){this._mapVisualizationObject=t.mapVisualizationObject.currentValue},t.prototype.toggleDataTableView=function(t){t.stopPropagation(),this.store.dispatch(new Wn(this._mapVisualizationObject.componentId))},t}(),Fa=i[\"\\u0275crt\"]({encapsulation:0,styles:[\"[_nghost-%COMP%] {\\n      display: block;\\n      width: 100%;\\n      height: 100%;\\n    }\\n  }\",[\"\"]],data:{}});function ja(t){return i[\"\\u0275vid\"](2,[(t()(),i[\"\\u0275eld\"](0,0,null,null,5,\"div\",[[\"class\",\"d-flex justify-content-between\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"div\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\" data-table works! \"])),(t()(),i[\"\\u0275eld\"](3,0,null,null,2,\"button\",[[\"aria-label\",\"Close\"],[\"class\",\"close float-right\"],[\"type\",\"button\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleDataTableView(n)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](4,0,null,null,1,\"span\",[[\"aria-hidden\",\"true\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"\\xd7\"]))],null,null)}var Ua=(Number(localStorage.getItem(\"version\")),[\"#ffffcc\",\"#c2e699\",\"#78c679\",\"#31a354\",\"#006837\"].join(\",\")),Va=n(\"4R65\"),Ga=Va.TileLayer.extend({options:{errorTileUrl:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\"},initialize:function(t){void 0===t&&(t={});var e=Va.setOptions(this,t);Va.TileLayer.prototype.initialize.call(this,e.url,e),this.on(\"load\",this.onLoad,this)},onLoad:function(){this.fire(\"ready\"),this.off(\"load\",this.onLoad,this)}}),Ha=function(t){return new Ga(t)},Za=(n(\"JXP8\"),function(t){return Array.isArray(t)&&2===t.length&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90}),Wa=function(t){return z.sortBy(t,\"le\").map(function(t){var e=JSON.parse(t.co),n={},i=\"\",o=\"Point\";if(2===t.ty&&(o=\"Polygon\",\"[[[[\"===t.co.substring(0,4)&&(o=\"MultiPolygon\")),z.isString(t.pg)&&t.pg.length){var r=z.compact(t.pg.split(\"/\"));r.length>=2&&(n=r[r.length-2]),r.length>2&&(i=\"/\"+r.slice(0,r.length-2).join(\"/\"))}return{type:\"Feature\",id:t.id,geometry:{type:o,coordinates:e},properties:{id:t.id,name:t.na,hasCoordinatesDown:t.hcd,hasCoordinatesUp:t.hcu,level:t.le,grandParentParentGraph:i,grandParentId:n,parentGraph:t.pg,parentId:t.pi,parentName:t.pn}}}).filter(function(t){var e=t.geometry;return Array.isArray(e.coordinates)&&e.coordinates.length})},Ya=function(t,e,n,i){return{pane:t,style:function(t){var e=t.properties;if(e.style)return e.style},onEachFeature:function(t,e){},pointToLayer:function(t,o){return new Va.CircleMarker(o,{radius:e||5,opacity:n||0,fillOpacity:n||0,fillColor:i||\"#333\"})}}},Xa=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function $a(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Ka(){}var qa=\"\\\\s*([+-]?\\\\d+)\\\\s*\",Ja=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",Qa=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",ts=/^#([0-9a-f]{3})$/,es=/^#([0-9a-f]{6})$/,ns=new RegExp(\"^rgb\\\\(\"+[qa,qa,qa]+\"\\\\)$\"),is=new RegExp(\"^rgb\\\\(\"+[Qa,Qa,Qa]+\"\\\\)$\"),os=new RegExp(\"^rgba\\\\(\"+[qa,qa,qa,Ja]+\"\\\\)$\"),rs=new RegExp(\"^rgba\\\\(\"+[Qa,Qa,Qa,Ja]+\"\\\\)$\"),as=new RegExp(\"^hsl\\\\(\"+[Ja,Qa,Qa]+\"\\\\)$\"),ss=new RegExp(\"^hsla\\\\(\"+[Ja,Qa,Qa,Ja]+\"\\\\)$\"),ls={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function us(t){var e;return t=(t+\"\").trim().toLowerCase(),(e=ts.exec(t))?new fs((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=es.exec(t))?hs(parseInt(e[1],16)):(e=ns.exec(t))?new fs(e[1],e[2],e[3],1):(e=is.exec(t))?new fs(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=os.exec(t))?cs(e[1],e[2],e[3],e[4]):(e=rs.exec(t))?cs(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=as.exec(t))?ms(e[1],e[2]/100,e[3]/100,1):(e=ss.exec(t))?ms(e[1],e[2]/100,e[3]/100,e[4]):ls.hasOwnProperty(t)?hs(ls[t]):\"transparent\"===t?new fs(NaN,NaN,NaN,0):null}function hs(t){return new fs(t>>16&255,t>>8&255,255&t,1)}function cs(t,e,n,i){return i<=0&&(t=e=n=NaN),new fs(t,e,n,i)}function ds(t){return t instanceof Ka||(t=us(t)),t?new fs((t=t.rgb()).r,t.g,t.b,t.opacity):new fs}function ps(t,e,n,i){return 1===arguments.length?ds(t):new fs(t,e,n,null==i?1:i)}function fs(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function gs(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?\"0\":\"\")+t.toString(16)}function ms(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ys(t,e,n,i)}function vs(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof ys)return new ys(t.h,t.s,t.l,t.opacity);if(t instanceof Ka||(t=us(t)),!t)return new ys;if(t instanceof ys)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),a=NaN,s=r-o,l=(r+o)/2;return s?(a=e===r?(n-i)/s+6*(n<i):n===r?(i-e)/s+2:(e-n)/s+4,s/=l<.5?r+o:2-r-o,a*=60):s=l>0&&l<1?0:a,new ys(a,s,l,t.opacity)}(t):new ys(t,e,n,null==i?1:i)}function ys(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function _s(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Xa(Ka,us,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+\"\"}}),Xa(fs,ps,$a(Ka,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new fs(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new fs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return\"#\"+gs(this.r)+gs(this.g)+gs(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?\")\":\", \"+t+\")\")}})),Xa(ys,vs,$a(Ka,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ys(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ys(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new fs(_s(t>=240?t-240:t+120,o,i),_s(t,o,i),_s(t<120?t+240:t-120,o,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var bs=Math.PI/180,xs=180/Math.PI,ws=.96422,Cs=1,ks=.82521,Os=4/29,Ms=6/29,Ls=3*Ms*Ms,Ss=Ms*Ms*Ms;function Ps(t){if(t instanceof Ts)return new Ts(t.l,t.a,t.b,t.opacity);if(t instanceof Rs){if(isNaN(t.h))return new Ts(t.l,0,0,t.opacity);var e=t.h*bs;return new Ts(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof fs||(t=ds(t));var n,i,o=Ds(t.r),r=Ds(t.g),a=Ds(t.b),s=Is((.2225045*o+.7168786*r+.0606169*a)/Cs);return o===r&&r===a?n=i=s:(n=Is((.4360747*o+.3850649*r+.1430804*a)/ws),i=Is((.0139322*o+.0971045*r+.7141733*a)/ks)),new Ts(116*s-16,500*(n-s),200*(s-i),t.opacity)}function Ts(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Is(t){return t>Ss?Math.pow(t,1/3):t/Ls+Os}function As(t){return t>Ms?t*t*t:Ls*(t-Os)}function zs(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ds(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Es(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof Rs)return new Rs(t.h,t.c,t.l,t.opacity);if(t instanceof Ts||(t=Ps(t)),0===t.a&&0===t.b)return new Rs(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*xs;return new Rs(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Rs(t,e,n,null==i?1:i)}function Rs(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}Xa(Ts,function(t,e,n,i){return 1===arguments.length?Ps(t):new Ts(t,e,n,null==i?1:i)},$a(Ka,{brighter:function(t){return new Ts(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ts(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new fs(zs(3.1338561*(e=ws*As(e))-1.6168667*(t=Cs*As(t))-.4906146*(n=ks*As(n))),zs(-.9787684*e+1.9161415*t+.033454*n),zs(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Xa(Rs,Es,$a(Ka,{brighter:function(t){return new Rs(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Rs(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ps(this).rgb()}}));var Ns=-.14861,Bs=1.78277,Fs=-.29227,js=-.90649,Us=1.97294,Vs=Us*js,Gs=Us*Bs,Hs=Bs*Fs-js*Ns;function Zs(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof Ws)return new Ws(t.h,t.s,t.l,t.opacity);t instanceof fs||(t=ds(t));var e=t.g/255,n=t.b/255,i=(Hs*n+Vs*(t.r/255)-Gs*e)/(Hs+Vs-Gs),o=n-i,r=(Us*(e-i)-Fs*o)/js,a=Math.sqrt(r*r+o*o)/(Us*i*(1-i)),s=a?Math.atan2(r,o)*xs-120:NaN;return new Ws(s<0?s+360:s,a,i,t.opacity)}(t):new Ws(t,e,n,null==i?1:i)}function Ws(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Xa(Ws,Zs,$a(Ka,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ws(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ws(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*bs,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),o=Math.sin(t);return new fs(255*(e+n*(Ns*i+Bs*o)),255*(e+n*(Fs*i+js*o)),255*(e+n*(Us*i)),this.opacity)}}));var Ys,Xs,$s=Va.Icon.extend({options:{className:\"leaflet-cluster-icon\"},createIcon:function(t){var e=this.options;return this._div=t&&\"DIV\"===t.tagName?t:document.createElement(\"div\"),this.setSize(e.size),this.setCount(e.count),this.setColor(e.color),this.setOpacity(e.opacity),this._div},setSize:function(t){this.options.iconSize=[t,t],this._setIconStyles(this._div,\"icon\")},setCount:function(t){var e;t>=1e3&&t<9500?e=(t/1e3).toFixed(1)+\"k\":t>=9500&&t<999500?e=Math.round(t/1e3)+\"k\":t>=999500&&t<195e4?e=(t/1e6).toFixed(1)+\"M\":t>195e4&&(e=Math.round(t/1e6)+\"M\"),this._div.innerHTML=\"<span>\"+(e||t)+\"</span>\"},setColor:function(t){this._div.style.background=t,this._div.style.color=Es(t).l<70?\"#fff\":\"#000\"},setOpacity:function(t){this._div.style.opacity=t},createShadow:function(){return null}}),Ks=function(t){return new $s(t)},qs=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},Js=(1===(Ys=qs).length&&(Xs=Ys,Ys=function(t,e){return qs(Xs(t),e)}),{left:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var o=n+i>>>1;Ys(t[o],e)<0?n=o+1:i=o}return n},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var o=n+i>>>1;Ys(t[o],e)>0?i=o:n=o+1}return n}}).right;Array;var Qs=Math.sqrt(50),tl=Math.sqrt(10),el=Math.sqrt(2),nl=function(t,e,n){var i,o,r,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(o=t,t=e,e=o),0===(a=function(t,e,n){var i=(e-t)/Math.max(0,n),o=Math.floor(Math.log(i)/Math.LN10),r=i/Math.pow(10,o);return o>=0?(r>=Qs?10:r>=tl?5:r>=el?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(r>=Qs?10:r>=tl?5:r>=el?2:1)}(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),r=new Array(o=Math.ceil(e-t+1));++s<o;)r[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),r=new Array(o=Math.ceil(t-e+1));++s<o;)r[s]=(t-s)/a;return i&&r.reverse(),r};function il(){}function ol(t,e){var n=new il;if(t instanceof il)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,o=-1,r=t.length;if(null==e)for(;++o<r;)n.set(o,t[o]);else for(;++o<r;)n.set(e(i=t[o],o,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}function rl(){}il.prototype=ol.prototype={constructor:il,has:function(t){return\"$\"+t in this},get:function(t){return this[\"$\"+t]},set:function(t,e){return this[\"$\"+t]=e,this},remove:function(t){var e=\"$\"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)\"$\"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)\"$\"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)\"$\"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)\"$\"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)\"$\"===e[0]&&++t;return t},empty:function(){for(var t in this)if(\"$\"===t[0])return!1;return!0},each:function(t){for(var e in this)\"$\"===e[0]&&t(this[e],e.slice(1),this)}};var al=ol.prototype;rl.prototype=(function(t,e){var n=new rl;if(t instanceof rl)t.each(function(t){n.add(t)});else if(t){var i=-1,o=t.length;if(null==e)for(;++i<o;)n.add(t[i]);else for(;++i<o;)n.add(e(t[i],i,t))}return n}).prototype={constructor:rl,has:al.has,add:function(t){return this[\"$\"+(t+=\"\")]=t,this},remove:al.remove,clear:al.clear,values:al.keys,size:al.size,empty:al.empty,each:al.each};var sl=Array.prototype,ll=sl.map,ul=sl.slice;function hl(t,e,n,i,o){var r=t*t,a=r*t;return((1-3*t+3*r-a)*e+(4-6*r+3*a)*n+(1+3*t+3*r-3*a)*i+a*o)/6}var cl=function(t){return function(){return t}};function dl(t,e){return function(n){return t+n*e}}function pl(t,e){var n=e-t;return n?dl(t,n>180||n<-180?n-360*Math.round(n/360):n):cl(isNaN(t)?e:t)}function fl(t,e){var n=e-t;return n?dl(t,n):cl(isNaN(t)?e:t)}var gl=function t(e){var n=function(t){return 1==(t=+t)?fl:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):cl(isNaN(e)?n:e)}}(e);function i(t,e){var i=n((t=ps(t)).r,(e=ps(e)).r),o=n(t.g,e.g),r=n(t.b,e.b),a=fl(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=r(e),t.opacity=a(e),t+\"\"}}return i.gamma=t,i}(1);function ml(t){return function(e){var n,i,o=e.length,r=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)i=ps(e[n]),r[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return r=t(r),a=t(a),s=t(s),i.opacity=1,function(t){return i.r=r(t),i.g=a(t),i.b=s(t),i+\"\"}}}ml(function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],r=t[i+1];return hl((n-i/e)*e,i>0?t[i-1]:2*o-r,o,r,i<e-1?t[i+2]:2*r-o)}}),ml(function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e);return hl((n-i/e)*e,t[(i+e-1)%e],t[i%e],t[(i+1)%e],t[(i+2)%e])}});var vl,yl,_l,bl,xl=function(t,e){return e-=t=+t,function(n){return t+e*n}},wl=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,Cl=new RegExp(wl.source,\"g\"),kl=function(t,e){var n,i=typeof e;return null==e||\"boolean\"===i?cl(e):(\"number\"===i?xl:\"string\"===i?(n=us(e))?(e=n,gl):function(t,e){var n,i,o,r=wl.lastIndex=Cl.lastIndex=0,a=-1,s=[],l=[];for(t+=\"\",e+=\"\";(n=wl.exec(t))&&(i=Cl.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:xl(n,i)})),r=Cl.lastIndex;return r<e.length&&(o=e.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?function(t){return function(e){return t(e)+\"\"}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join(\"\")})}:e instanceof us?gl:e instanceof Date?function(t,e){var n=new Date;return e-=t=+t,function(i){return n.setTime(t+e*i),n}}:Array.isArray(e)?function(t,e){var n,i=e?e.length:0,o=t?Math.min(i,t.length):0,r=new Array(o),a=new Array(i);for(n=0;n<o;++n)r[n]=kl(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=r[n](t);return a}}:\"function\"!=typeof e.valueOf&&\"function\"!=typeof e.toString||isNaN(e)?function(t,e){var n,i={},o={};for(n in null!==t&&\"object\"==typeof t||(t={}),null!==e&&\"object\"==typeof e||(e={}),e)n in t?i[n]=kl(t[n],e[n]):o[n]=e[n];return function(t){for(n in i)o[n]=i[n](t);return o}}:xl)(t,e)},Ol=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},Ml=180/Math.PI,Ll={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Sl=function(t,e,n,i,o,r){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),t*i<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*Ml,skewX:Math.atan(l)*Ml,scaleX:a,scaleY:s}};function Pl(t,e,n,i){function o(t){return t.length?t.pop()+\" \":\"\"}return function(r,a){var s=[],l=[];return r=t(r),a=t(a),function(t,i,o,r,a,s){if(t!==o||i!==r){var l=a.push(\"translate(\",null,e,null,n);s.push({i:l-4,x:xl(t,o)},{i:l-2,x:xl(i,r)})}else(o||r)&&a.push(\"translate(\"+o+e+r+n)}(r.translateX,r.translateY,a.translateX,a.translateY,s,l),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(o(n)+\"rotate(\",null,i)-2,x:xl(t,e)})):e&&n.push(o(n)+\"rotate(\"+e+i)}(r.rotate,a.rotate,s,l),function(t,e,n,r){t!==e?r.push({i:n.push(o(n)+\"skewX(\",null,i)-2,x:xl(t,e)}):e&&n.push(o(n)+\"skewX(\"+e+i)}(r.skewX,a.skewX,s,l),function(t,e,n,i,r,a){if(t!==n||e!==i){var s=r.push(o(r)+\"scale(\",null,\",\",null,\")\");a.push({i:s-4,x:xl(t,n)},{i:s-2,x:xl(e,i)})}else 1===n&&1===i||r.push(o(r)+\"scale(\"+n+\",\"+i+\")\")}(r.scaleX,r.scaleY,a.scaleX,a.scaleY,s,l),r=a=null,function(t){for(var e,n=-1,i=l.length;++n<i;)s[(e=l[n]).i]=e.x(t);return s.join(\"\")}}}function Tl(t){return function(e,n){var i=t((e=vs(e)).h,(n=vs(n)).h),o=fl(e.s,n.s),r=fl(e.l,n.l),a=fl(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=r(t),e.opacity=a(t),e+\"\"}}}function Il(t){return function(e,n){var i=t((e=Es(e)).h,(n=Es(n)).h),o=fl(e.c,n.c),r=fl(e.l,n.l),a=fl(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=o(t),e.l=r(t),e.opacity=a(t),e+\"\"}}}function Al(t){return function e(n){function i(e,i){var o=t((e=Zs(e)).h,(i=Zs(i)).h),r=fl(e.s,i.s),a=fl(e.l,i.l),s=fl(e.opacity,i.opacity);return function(t){return e.h=o(t),e.s=r(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+\"\"}}return n=+n,i.gamma=e,i}(1)}Pl(function(t){return\"none\"===t?Ll:(vl||(vl=document.createElement(\"DIV\"),yl=document.documentElement,_l=document.defaultView),vl.style.transform=t,t=_l.getComputedStyle(yl.appendChild(vl),null).getPropertyValue(\"transform\"),yl.removeChild(vl),t=t.slice(7,-1).split(\",\"),Sl(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},\"px, \",\"px)\",\"deg)\"),Pl(function(t){return null==t?Ll:(bl||(bl=document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\")),bl.setAttribute(\"transform\",t),(t=bl.transform.baseVal.consolidate())?Sl((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ll)},\", \",\")\",\")\"),Math,Tl(pl),Tl(fl),Il(pl),Il(fl),Al(pl),Al(fl);var zl=function(t){return function(){return t}},Dl=function(t){return+t},El=[0,1];function Rl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:zl(e)}function Nl(t,e,n,i){var o=t[0],r=t[1],a=e[0],s=e[1];return r<o?(o=n(r,o),a=i(s,a)):(o=n(o,r),a=i(a,s)),function(t){return a(o(t))}}function Bl(t,e,n,i){var o=Math.min(t.length,e.length)-1,r=new Array(o),a=new Array(o),s=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<o;)r[s]=n(t[s],t[s+1]),a[s]=i(e[s],e[s+1]);return function(e){var n=Js(t,e,1,o)-1;return a[n](r[n](e))}}var Fl=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf(\"e\"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},jl=function(t){return(t=Fl(Math.abs(t)))?t[1]:NaN},Ul=/^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;function Vl(t){return new Gl(t)}function Gl(t){if(!(e=Ul.exec(t)))throw new Error(\"invalid format: \"+t);var e;this.fill=e[1]||\" \",this.align=e[2]||\">\",this.sign=e[3]||\"-\",this.symbol=e[4]||\"\",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||\"\"}Vl.prototype=Gl.prototype,Gl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?\"0\":\"\")+(null==this.width?\"\":Math.max(1,0|this.width))+(this.comma?\",\":\"\")+(null==this.precision?\"\":\".\"+Math.max(0,0|this.precision))+(this.trim?\"~\":\"\")+this.type};var Hl,Zl,Wl,Yl=function(t){t:for(var e,n=t.length,i=1,o=-1;i<n;++i)switch(t[i]){case\".\":o=e=i;break;case\"0\":0===o&&(o=i),e=i;break;default:if(o>0){if(!+t[i])break t;o=0}}return o>0?t.slice(0,o)+t.slice(e+1):t},Xl=function(t,e){var n=Fl(t,e);if(!n)return t+\"\";var i=n[0],o=n[1];return o<0?\"0.\"+new Array(-o).join(\"0\")+i:i.length>o+1?i.slice(0,o+1)+\".\"+i.slice(o+1):i+new Array(o-i.length+2).join(\"0\")},$l={\"%\":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+\"\"},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Xl(100*t,e)},r:Xl,s:function(t,e){var n=Fl(t,e);if(!n)return t+\"\";var i=n[0],o=n[1],r=o-(Hl=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=i.length;return r===a?i:r>a?i+new Array(r-a+1).join(\"0\"):r>0?i.slice(0,r)+\".\"+i.slice(r):\"0.\"+new Array(1-r).join(\"0\")+Fl(t,Math.max(0,e+r-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Kl=function(t){return t},ql=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\\xb5\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];Zl=function(t){var e,n,i=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,i){for(var o=t.length,r=[],a=0,s=e[0],l=0;o>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),r.push(t.substring(o-=s,o+s)),!((l+=s+1)>i));)s=e[a=(a+1)%e.length];return r.reverse().join(n)}):Kl,o=t.currency,r=t.decimal,a=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):Kl,s=t.percent||\"%\";function l(t){var e=(t=Vl(t)).fill,n=t.align,l=t.sign,u=t.symbol,h=t.zero,c=t.width,d=t.comma,p=t.precision,f=t.trim,g=t.type;\"n\"===g?(d=!0,g=\"g\"):$l[g]||(null==p&&(p=12),f=!0,g=\"g\"),(h||\"0\"===e&&\"=\"===n)&&(h=!0,e=\"0\",n=\"=\");var m=\"$\"===u?o[0]:\"#\"===u&&/[boxX]/.test(g)?\"0\"+g.toLowerCase():\"\",v=\"$\"===u?o[1]:/[%p]/.test(g)?s:\"\",y=$l[g],_=/[defgprs%]/.test(g);function b(t){var o,s,u,b=m,x=v;if(\"c\"===g)x=y(t)+x,t=\"\";else{var w=(t=+t)<0;if(t=y(Math.abs(t),p),f&&(t=Yl(t)),w&&0==+t&&(w=!1),b=(w?\"(\"===l?l:\"-\":\"-\"===l||\"(\"===l?\"\":l)+b,x=(\"s\"===g?ql[8+Hl/3]:\"\")+x+(w&&\"(\"===l?\")\":\"\"),_)for(o=-1,s=t.length;++o<s;)if(48>(u=t.charCodeAt(o))||u>57){x=(46===u?r+t.slice(o+1):t.slice(o))+x,t=t.slice(0,o);break}}d&&!h&&(t=i(t,1/0));var C=b.length+t.length+x.length,k=C<c?new Array(c-C+1).join(e):\"\";switch(d&&h&&(t=i(k+t,k.length?c-x.length:1/0),k=\"\"),n){case\"<\":t=b+t+x+k;break;case\"=\":t=b+k+t+x;break;case\"^\":t=k.slice(0,C=k.length>>1)+b+t+x+k.slice(C);break;default:t=k+b+t+x}return a(t)}return p=null==p?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),b.toString=function(){return t+\"\"},b}return{format:l,formatPrefix:function(t,e){var n=l(((t=Vl(t)).type=\"f\",t)),i=3*Math.max(-8,Math.min(8,Math.floor(jl(e)/3))),o=Math.pow(10,-i),r=ql[8+i/3];return function(t){return n(o*t)+r}}}}({decimal:\".\",thousands:\",\",grouping:[3],currency:[\"$\",\"\"]}),Wl=Zl.format;var Jl=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,jl(e)-jl(t))+1},Ql=function(t,e){var n,i=0,o=(t=t.slice()).length-1,r=t[i],a=t[o];return a<r&&(n=i,i=o,o=n,n=r,r=a,a=n),t[i]=e.floor(r),t[o]=e.ceil(a),t};function tu(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:zl(e)}function eu(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function nu(t){return isFinite(t)?+(\"1e\"+t):t<0?0:t}function iu(t){return 10===t?nu:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function ou(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function ru(t){return function(e){return-t(-e)}}function au(){var t=function(t,e){var n,i,o,r=El,a=El,s=kl,l=!1;function u(){return n=Math.min(r.length,a.length)>2?Bl:Nl,i=o=null,h}function h(e){return(i||(i=n(r,a,l?function(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:i(t)}}}(t):t,s)))(+e)}return h.invert=function(t){return(o||(o=n(a,r,Rl,l?function(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:i(t)}}}(e):e)))(+t)},h.domain=function(t){return arguments.length?(r=ll.call(t,Dl),u()):r.slice()},h.range=function(t){return arguments.length?(a=ul.call(t),u()):a.slice()},h.rangeRound=function(t){return a=ul.call(t),s=Ol,u()},h.clamp=function(t){return arguments.length?(l=!!t,u()):l},h.interpolate=function(t){return arguments.length?(s=t,u()):s},u()}(tu,eu).domain([1,10]),e=t.domain,n=10,i=ou(10),o=iu(10);function r(){return i=ou(n),o=iu(n),e()[0]<0&&(i=ru(i),o=ru(o)),t}return t.base=function(t){return arguments.length?(n=+t,r()):n},t.domain=function(t){return arguments.length?(e(t),r()):e()},t.ticks=function(t){var r,a=e(),s=a[0],l=a[a.length-1];(r=l<s)&&(d=s,s=l,l=d);var u,h,c,d=i(s),p=i(l),f=null==t?10:+t,g=[];if(!(n%1)&&p-d<f){if(d=Math.round(d)-1,p=Math.round(p)+1,s>0){for(;d<p;++d)for(h=1,u=o(d);h<n;++h)if(!((c=u*h)<s)){if(c>l)break;g.push(c)}}else for(;d<p;++d)for(h=n-1,u=o(d);h>=1;--h)if(!((c=u*h)<s)){if(c>l)break;g.push(c)}}else g=nl(d,p,Math.min(p-d,f)).map(o);return r?g.reverse():g},t.tickFormat=function(e,r){if(null==r&&(r=10===n?\".0e\":\",\"),\"function\"!=typeof r&&(r=Wl(r)),e===1/0)return r;null==e&&(e=10);var a=Math.max(1,n*e/t.ticks().length);return function(t){var e=t/o(Math.round(i(t)));return e*n<n-.5&&(e*=n),e<=a?r(t):\"\"}},t.nice=function(){return e(Ql(e(),{floor:function(t){return o(Math.floor(i(t)))},ceil:function(t){return o(Math.ceil(i(t)))}}))},t.copy=function(){return e=t,au().base(n).domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp());var e},t}var su=Va.MarkerClusterGroup.extend({options:{maxClusterRadius:40,spiderfyOnMaxZoom:!1,showCoverageOnHover:!1,iconCreateFunction:function(t){var e=t.getChildCount();return t.options.opacity=this.opacity,Ks({color:this.color,opacity:this.opacity,size:this.scale(e),count:e})},domain:[1,1e3],range:[16,40],radius:6},initialize:function(t){var e=Va.setOptions(this,t);Va.MarkerClusterGroup.prototype.initialize.call(this,e),e.data&&this.addData(e.data)},addData:function(t){var e=this.options;t.length&&(e.domain=[1,t.length],e.scale=au().domain(e.domain).range(e.range).clamp(!0))},setOpacity:function(t){this.options.opacity=t,this.eachLayer(function(e){return e.setStyle({opacity:t,fillOpacity:t})}),this._featureGroup.setStyle({opacity:t,fillOpacity:t})}}),lu=Va.CircleMarker.extend({options:{strokeColor:\"#fff\",weight:.5,radius:6},initialize:function(t,e){var n=Va.setOptions(this,e);n.fillColor=t.properties.color||n.color,n.fillOpacity=n.opacity,n.color=n.strokeColor,this._feature=t,this._latlng=Va.GeoJSON.coordsToLatLng(t.geometry.coordinates),this._radius=this.options.radius},getFeature:function(){return this._feature},setOpacity:function(t){this.setStyle({opacity:t,fillOpacity:t})}}),uu=function(t,e){return new lu(t,e)},hu=Va.Marker.extend({initialize:function(t,e){this._feature=t,this._latlng=Va.GeoJSON.coordsToLatLng(t.geometry.coordinates),e.icon=Ks({size:t.properties.size,count:t.properties.count,color:e.color}),Va.setOptions(this,e)},getFeature:function(){return this._feature},getBounds:function(){return this._feature.properties.bounds},spiderify:function(){if(!this._spiderified){var t=this._feature,e=this.options,n=this._map,i=this.getLatLng(),o=n.latLngToLayerPoint(i),r=(this._feature.id||\"\").split(\",\"),a=t.properties.count,s={weight:1.5,color:\"#222\",opacity:.5},l=2*Math.PI,u=Math.PI/6,h=13*(2+a)/l,c=l/a;this._spiderLegs=Va.featureGroup(),this._spiderMarkers=Va.featureGroup(),this._spiderMarkers.on(\"click\",this.onSpiderMarkerClick,this);for(var d=a-1,p=void 0,f=void 0,g=void 0,m=void 0;d>=0;d--)p=u+d*c,f=Va.point(o.x+h*Math.cos(p),o.y+h*Math.sin(p))._round(),g=r[d],m=n.layerPointToLatLng(f),this._spiderLegs.addLayer(Va.polyline([i,m],s)),this._spiderMarkers.addLayer(uu({id:g,type:\"Feature\",geometry:{type:\"Point\",coordinates:[m.lng,m.lat]}},this.options));this._spiderLegs.addTo(n),this._spiderMarkers.addTo(n),this._originalOpacity=e.opacity,this.setOpacity(.1),this._spiderified=!0}return this},unspiderify:function(){var t=this._map;return this.setOpacity(this._originalOpacity),this._spiderLegs&&t.hasLayer(this._spiderLegs)&&t.removeLayer(this._spiderLegs),this._spiderMarkers&&t.hasLayer(this._spiderMarkers)&&(t.removeLayer(this._spiderMarkers),this._spiderMarkers.off(\"click\",this.onSpiderMarkerClick,this)),this._spiderified=!1,this},onRemove:function(t){this._spiderified&&this.unspiderify(),Va.Marker.prototype.onRemove.call(this,t)}}),cu=Va.GridLayer.extend({options:{pane:\"markerPane\",tileSize:512,clusterSize:110,color:\"red\",opacity:1,domain:[1,1e4],range:[16,40]},initialize:function(t){var e=Va.setOptions(this,t);this._clusters=Va.featureGroup(),this._tileClusters={},this._scale=au().base(Math.E).domain(e.domain).range(e.range).clamp(!0),this._clusters.on(\"click\",this.onClusterClick,this),this._bounds=e.bounds},onAdd:function(t){this._levels={},this._tiles={},this._resetView(),this._update(),t.addLayer(this._clusters),t.on(\"zoomstart\",this._onZoomStart,this)},onRemove:function(t){this._clusters.clearLayers(),t.removeLayer(this._clusters),t.off(\"zoomstart\",this._onZoomStart,this)},createTile:function(t){var e=this,n=this._tileCoordsToKey(t),i=this._tileClusters[n];if(i)i.forEach(function(t){return e._clusters.addLayer(t)});else{var o=this.options,r=this._map,a=this._tileCoordsToBounds(t),s={tileId:n,bbox:a.toBBoxString(),clusterSize:Math.round(this.getResolution(t.z)*o.clusterSize),includeClusterPoints:r.getZoom()===r.getMaxZoom()};o.load&&this._isWithinWorldBounds(a)&&o.load(s,Va.bind(this.addClusters,this),this)}},_addTile:function(t){var e=this._tileCoordsToKey(t);this._tiles[e]={coords:t,current:!0},this.createTile(this._wrapCoords(t)),this.fire(\"tileloadstart\",{key:e,coords:t})},onClusterClick:function(t){var e=t.layer,n=this._map;e.getBounds?n.getZoom()!==n.getMaxZoom()?n.fitBounds(e.getBounds()):(this._spider&&this._spider.unspiderify(),this._spider=e.spiderify()):this.options.popup&&this.options.popup(t)},addClusters:function(t,e){var n=this,i=[];e.forEach(function(e){var o=n.createCluster(e);n._tiles[t]&&n._clusters.addLayer(o),i.push(o)}),this._tileClusters[t]=i},createCluster:function(t){var e;return 1===t.properties.count?e=uu(t,this.options):(t.properties.size=this._scale(t.properties.count),e=function(t,e){return new hu(t,e)}(t,this.options)),e},getResolution:function(t){return Math.PI*Va.Projection.SphericalMercator.R*2/256/Math.pow(2,t)},getBounds:function(){return this._bounds?Va.latLngBounds(this._bounds):this._clusters.getBounds()},setOpacity:function(t){var e,n=this._tileClusters;for(e in n)if(n.hasOwnProperty(e))for(var i=0,o=n[e];i<o.length;i++)o[i].setOpacity(t);this.options.opacity=t},_removeTile:function(t){var e=this;if(this._tiles[t]){var n=this._tileClusters[t];n&&n.forEach(function(t){return e._clusters.removeLayer(t)}),delete this._tiles[t],this.fire(\"tileunload\",{tileId:t,coords:this._keyToTileCoords(t)})}},_onZoomStart:function(){this._clusters.clearLayers()},_animateZoom:function(){},_isWithinWorldBounds:function(t){return t.getWest()>=-180&&t.getEast()<=180&&t.getSouth()>=-90&&t.getNorth()<=90}}),du=co(\"%Y-%m-%d\"),pu=(du((new Date).setFullYear((new Date).getFullYear()-1)),du(new Date),function(){return{onClick:function(t){var e=t.layer.feature.properties,n=t.layer.feature.name,i=\"\\n    <table>\\n      <tbody>\\n        <tr>\\n          <th>Organisation unit: </th>\\n          <td>\"+e.ouname+\"</td>\\n        </tr>\\n        <tr>\\n          <th>Event time: </th>\\n          <td>\"+co(\"%Y-%m-%d\")(new Date(e.eventdate))+\"</td>\\n        </tr>\\n        <tr>\\n          <th>Program Stage: </th>\\n          <td>\"+n+\"</td>\\n        </tr>\\n        <tr>\\n          <th>Event location: </th>\\n          <td>\"+e.latitude+\", \"+e.longitude+\"</td>\\n        </tr>\\n        </tbody>\\n      </table>\";t.layer.closePopup(),t.layer.bindPopup(i),t.layer.openPopup()},onRightClick:function(t){Va.DomEvent.stopPropagation(t)},mouseover:function(t){t.layer.setStyle(I.__assign({},t.layer.feature.properties.style,{weight:3}))},mouseout:function(t){t.layer.setStyle(I.__assign({},t.layer.feature.properties.style,{weight:1}))}}}),fu=[\"black\",\"blue\",\"red\",\"green\",\"yellow\"],gu=[2,1,.75,.5,.5],mu=function(){return{onClick:function(t){var e=t.layer.feature.properties,n='<div class=\"leaflet-popup-orgunit\"><em>'+e.name+\"</em>\";e.level&&(n+=\"<br/>Level: \"+e.level),e.parentName&&(n+=\"<br/>Parent unit: \"+e.parentName),n+=\"</div>\",t.layer.closePopup(),t.layer.bindPopup(n),t.layer.openPopup()},onRightClick:function(t){Va.DomEvent.stopPropagation(t)},mouseover:function(t){t.layer.setStyle(I.__assign({},t.layer.feature.properties.style,{weight:3})),t.layer.closeTooltip(),t.layer.bindTooltip(t.layer.feature.properties.name,{direction:\"auto\",permanent:!1,sticky:!0,interactive:!0,opacity:1}).openTooltip()},mouseout:function(t){t.layer.setStyle(I.__assign({},t.layer.feature.properties.style,{weight:1}))}}},vu={mouseover:function(t){t.layer.closeTooltip(),t.layer.bindTooltip(t.target.feature.properties.name,{direction:\"auto\",permanent:!1,sticky:!0,interactive:!0,opacity:1}).openTooltip()},click:function(t){var e=t.target.feature.properties,n='<div class=\"leaflet-popup-orgunit\">'+e.name;z.isPlainObject(e.dimensions)&&(n+=\"<br/>Groups: \"+Object.keys(e.dimensions).map(function(t){return e.dimensions[t]}).join(\", \")),e.pn&&(n+=\"<br/>Parent unit: \"+e.pn),n+=\"</div>\",t.layer.closePopup(),t.layer.bindPopup(n),t.layer.openPopup()}},yu=function(t,e){return t.find(function(n,i){return e>=n.startValue&&(e<n.endValue||function(e){return e===t.length-1}(i)&&e===n.endValue)})};function _u(t){var e=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}var bu=Va.Marker.extend({options:{html:\"Label\",className:\"leaflet-div-label\",iconSize:null},initialize:function(t,e){var n=Va.setOptions(this,e);this._latlng=Va.latLng(t),n.icon=Va.divIcon(n)},onAdd:function(t){Va.Marker.prototype.onAdd.call(this,t);var e=this.options,n=this._icon;e.labelStyle&&Va.extend(n.style,e.labelStyle),n.style.marginLeft=\"-\"+n.offsetWidth/2+\"px\",\"below\"!==e.position&&(n.style.marginTop=\"-\"+n.offsetHeight/2+\"px\")}}),xu=Va.GeoJSON.extend({options:{highlightStyle:{weight:2},resetStyle:{weight:1}},initialize:function(t){t.label&&(this._labels=Va.layerGroup({margin:2})),Va.GeoJSON.prototype.initialize.call(this,t.data,t)},addLayer:function(t){var e=this.options,n=t.feature;if(e.label&&this.addLabel(t,Va.Util.template(e.label,n.properties)),e.hoverLabel||e.label){var i=Va.Util.template(e.hoverLabel||e.label,n.properties);t.bindTooltip(i,{sticky:!0})}!e.popup||e.popup instanceof Function||t.bindPopup(Va.Util.template(e.popup,n.properties)),Va.GeoJSON.prototype.addLayer.call(this,t)},addLabel:function(t,e){var n=t.feature.geometry,i=Va.extend(t.feature.properties.labelStyle||{},this.options.labelStyle),o=this._getLabelLatlng(n);i&&i.fontColor&&(i.color=i.fontColor),t._label=function(t,e){return new bu(t,e)}(o,{html:e,position:\"Point\"===n.type?\"below\":\"middle\",labelStyle:i,pane:this.options.labelPane||\"markerPane\"}),this._labels.addLayer(t._label)},setOpacity:function(t){this.setStyle({opacity:t,fillOpacity:t})},findById:function(t){for(var e in this._layers)if(this._layers[e].feature.id===t)return this._layers[e];return null},onAdd:function(t){Va.GeoJSON.prototype.onAdd.call(this,t),this._labels&&t.addLayer(this._labels),this.options.highlightStyle&&(this.on(\"mouseover\",this.onMouseOver,this),this.on(\"mouseout\",this.onMouseOut,this)),this.options.contextmenu&&this.on(\"contextmenu\",this.options.contextmenu),this.fire(\"ready\")},onRemove:function(t){Va.GeoJSON.prototype.onRemove.call(this,t),this._labels&&t.removeLayer(this._labels),this.options.highlightStyle&&(this.off(\"mouseover\",this.onMouseOver,this),this.off(\"mouseout\",this.onMouseOut,this)),this.options.contextmenu&&this.off(\"contextmenu\",this.options.contextmenu)},onMouseOver:function(t){t.layer.setStyle(this.options.highlightStyle)},onMouseOut:function(t){t.layer.feature.isSelected||t.layer.setStyle(this.options.resetStyle)},_getLabelLatlng:function(t){var e,n=t.coordinates;if(\"Point\"===t.type)return[n[1],n[0]];if(\"Polygon\"===t.type)e=n;else if(\"MultiPolygon\"===t.type&&(e=n[0],n.length>1)){var i=0;n.forEach(function(t){var n=Fi.ring(t[0]);n>i&&(e=t,i=n)})}return Bi()(e,2).reverse()}}),wu={\"USGS/SRTMGL1_003\":{title:\"Elevation\",band:\"elevation\",mask:!0,legend:{unit:\"metres\",description:\"Elevation above sea-level.\",source:\"NASA / USGS / JPL-Caltech / Google Earth Engine\",sourceUrl:\"https://explorer.earthengine.google.com/#detail/USGS%2FSRTMGL1_003\"}},\"WorldPop/POP\":{title:\"Population density\",aggregation:\"mosaic\",mask:!0,methods:{multiply:[100]},resolution:100,projection:\"EPSG:4326\",value:function(t){return Math.round(t)},legend:{unit:\"people per km\\xb2\",description:\"Population density estimates with national totals adjusted to match UN population division estimates.\",source:\"WorldPop / Google Earth Engine\",sourceUrl:\"https://explorer.earthengine.google.com/#detail/WorldPop%2FPOP\"}},\"NOAA/DMSP-OLS/NIGHTTIME_LIGHTS\":{title:\"Nighttime lights\",band:\"stable_lights\",mask:!0,popup:\"{name}: {value}\",legend:{unit:\"light intensity\",description:\"Light intensity from cities, towns, and other sites with persistent lighting, including gas flares.\",source:\"NOAA / Google Earth Engine\",sourceUrl:\"https://explorer.earthengine.google.com/#detail/NOAA%2FDMSP-OLS%2FNIGHTTIME_LIGHTS\"}},\"UCSB-CHG/CHIRPS/PENTAD\":{title:\"Precipitation\",band:\"precipitation\",mask:!0,value:function(t){return t.toFixed(1)},legend:{unit:\"millimeter\",description:\"Precipitation collected from satellite and weather stations on the ground.\",source:\"UCSB / CHG / Google Earth Engine\",sourceUrl:\"https://explorer.earthengine.google.com/#detail/UCSB-CHG%2FCHIRPS%2FPENTAD\"}},\"MODIS/MOD11A2\":{title:\"Temperature\",band:\"LST_Day_1km\",mask:!0,methods:{toFloat:[],multiply:[.02],subtract:[273.15]},value:function(t){return Math.round(t)},popup:\"{name}: {value}{unit}\",legend:{unit:\"\\xb0C during daytime\",description:\"Land surface temperatures collected from satellite. Blank spots will appear in areas with a persistent cloud cover.\",source:\"NASA LP DAAC / Google Earth Engine\",sourceUrl:\"https://explorer.earthengine.google.com/#detail/MODIS%2FMOD11A2\"}},\"MODIS/051/MCD12Q1\":{title:\"Landcover\",band:\"Land_Cover_Type_1\",params:{min:0,max:17,palette:\"aec3d6,162103,235123,399b38,38eb38,39723b,6a2424,c3a55f,b76124,d99125,92af1f,10104c,cdb400,cc0202,332808,d7cdcc,f7e174,743411\"},mask:!1,legend:{description:\"Distinct landcover types collected from satellites.\",source:\"NASA LP DAAC / Google Earth Engine\",sourceUrl:\"https://code.earthengine.google.com/dataset/MODIS/051/MCD12Q1\",items:[{color:\"#aec3d6\",name:\"Water\"},{color:\"#162103\",name:\"Evergreen Needleleaf forest\"},{color:\"#235123\",name:\"Evergreen Broadleaf forest\"},{color:\"#399b38\",name:\"Deciduous Needleleaf forest\"},{color:\"#38eb38\",name:\"Deciduous Broadleaf forest\"},{color:\"#39723b\",name:\"Mixed forest\"},{color:\"#6a2424\",name:\"Closed shrublands\"},{color:\"#c3a55f\",name:\"Open shrublands\"},{color:\"#b76124\",name:\"Woody savannas\"},{color:\"#d99125\",name:\"Savannas\"},{color:\"#92af1f\",name:\"Grasslands\"},{color:\"#10104c\",name:\"Permanent wetlands\"},{color:\"#cdb400\",name:\"Croplands\"},{color:\"#cc0202\",name:\"Urban and built-up\"},{color:\"#332808\",name:\"Cropland/Natural vegetation mosaic\"},{color:\"#d7cdcc\",name:\"Snow and ice\"},{color:\"#f7e174\",name:\"Barren or sparsely vegetated\"},{color:\"#743411\",name:\"Unclassified\"}]},popup:\"{name}: {value}\"}},Cu=window.ee,ku=Va.LayerGroup.extend({options:{url:\"https://earthengine.googleapis.com/map/{mapid}/{z}/{x}/{y}?token={token}\",tokenType:\"Bearer\",aggregation:\"none\",popup:\"{name}: {value} {unit}\"},initialize:function(t){void 0===t&&(t={}),Va.setOptions(this,t),this._layers={},this._legend=t.legend},onAdd:function(){this.getAuthToken(this.onValidAuthToken.bind(this))},onRemove:function(t){this._popup&&t.closePopup(this._popup),Va.GeoJSON.prototype.onRemove.call(this,t)},getAuthToken:function(t){var e=this.options.accessToken;e&&(e instanceof Function?e(t):t(e))},onValidAuthToken:function(t){var e=this;Cu.data.setAuthToken(t.client_id,this.options.tokenType,t.access_token,t.expires_in,null,null,!1),Cu.data.setAuthTokenRefresher(this.refreshAccessToken.bind(this)),Cu.initialize(null,null,function(){e.createImage(),e.fire(\"initialized\")})},refreshAccessToken:function(t,e){var n=this;this.getAuthToken(function(i){e({token_type:n.options.tokenType,access_token:i.access_token,state:t.scope,expires_in:i.expires_in})})},createImage:function(){var t,e,n=this.options;n.filter?(t=Cu.ImageCollection(n.id),t=this.applyFilter(t),\"mosaic\"===n.aggregation?(this.eeCollection=t,e=t.mosaic()):e=Cu.Image(t.first())):e=Cu.Image(n.id),n.band&&(e=e.select(n.band)),n.mask&&(e=e.updateMask(e.gt(0))),e=this.runMethods(e),this.eeImage=e,n.legend||(e=this.classifyImage(e)),this.addLayer(this.visualize(e))},addLayer:function(t){var e=this;t.getMap(null,function(t){var n=Va.tileLayer(e.options.url,Va.extend({token:t.token,mapid:t.mapid},e.options));Va.LayerGroup.prototype.addLayer.call(e,n)})},applyFilter:function(t,e){var n=this,i=e||this.options.filter;return i&&i.forEach(function(e){t=t.filter(Cu.Filter[e.type].apply(n,e.arguments))}),t},runMethods:function(t){var e=this.options.methods,n=t;return e&&Object.keys(e).forEach(function(t){n[t]&&(n=n[t].apply(n,e[t]))}),n},classifyImage:function(t){for(var e,n=this._legend,i=0,o=void 0;i<n.length-1;i++)o=n[i],e=e?e.add(t.gt(o.to)):t.gt(o.to);return e},visualize:function(t){var e=this.options;return t.visualize(e.legend?e.params:{min:0,max:this._legend.length-1,palette:e.params.palette})},getLegend:function(){var t=this.options,e='<div class=\"dhis2-legend\">';e+=\"<h2>\"+t.name,t.image&&(e+=\" \"+t.image),e+=\"</h2>\",t.description&&(e+=\"<p>\"+t.description+\"</p>\"),e+=\"<dl>\",t.unit&&(e+=\"<dt></dt><dd><strong>\"+t.unit+\"</strong></dd>\");for(var n=0,i=void 0;n<this._legend.length;n++)e+='<dt style=\"background-color:'+(i=this._legend[n]).color+';box-shadow:1px 1px 2px #aaa;\"></dt>',e+=\"<dd>\"+i.name;return e+=\"</dl>\",t.attribution&&(e+=\"<p>Data: \"+t.attribution+\"</p>\"),e+\"<div>\"},setOpacity:function(t){this.options.opacity=t,this.eachLayer(function(e){return e.setOpacity(t)})},getValue:function(t,e){var n=Cu.Geometry.Point(t.lng,t.lat),i=this.options;(\"mosaic\"===i.aggregation?this.eeImage.reduceRegion(Cu.Reducer.mean(),n,i.resolution,i.projection):this.eeImage.reduceRegion(Cu.Reducer.mean(),n)).getInfo(function(t){var n=t[i.band||Object.keys(t)[0]];i.legend&&i.legend[n]?n=i.legend[n].name:i.value&&(n=i.value(n)),e(n)})},showValue:function(t){var e=this,n=this.options;this.getValue(t,function(i){e._popup=Va.popup().setLatLng(t).setContent(Va.Util.template(n.popup,Va.extend({},n,{value:i}))).openOn(e._map)})}}),Ou={boundary:function(t){var e=t.displaySettings,n=t.opacity,i=t.id,o=t.layerOptions.radiusLow,r=Wa(t.geofeature);if(r.length){var a=z.uniqBy(r,function(t){return t.properties.level}).map(function(t){return t.properties.level}).sort(),s=a.reduce(function(t,e,n){var i;return I.__assign({},t,((i={})[e]={color:fu[n],fillOpacity:0,weight:1===a.length?1:gu[n],stroke:!0,fill:!1},i))},{}),l={legend:{title:\"Boundary Layer\",type:\"boundary\",items:Object.keys(s).map(function(t){return I.__assign({},s[t],{name:\"level \"+t})})},layer:i,hidden:!1,opacity:n};r.forEach(function(t){t.properties.style=s[t.properties.level],t.properties.labelStyle={fontSize:e.labelFontSize,fontStyle:e.labelFontStyle,fontColor:e.labelFontColor,fontWeight:e.labelFontWeight,paddingTop:\"Point\"===t.geometry.type?5+(o||5)+\"px\":\"0\"}});var u=Ya(i,o,n),h=Va.geoJSON(r,u);h.on({click:mu().onClick,mouseover:mu().mouseover,mouseout:mu().mouseout});var c=h.getBounds(),d=I.__assign({},t,{features:r,geoJsonLayer:h,legendSet:l});return c.isValid()?I.__assign({},d,{bounds:c}):d}},tileLayer:Ha,event:function(t){var e,n=t.geofeature,i=t.layerOptions,o=t.opacity,r=t.id,a=t.dataSelections,s=t.analyticsData,l=a.startDate,u=a.endDate,h=i.eventPointColor,c=i.eventPointRadius,d=i.eventClustering,p=i.serverClustering,f=i.serverSideConfig,g=Pe(a.filters),m=function(t){void 0===t&&(t=[]);var e=t.filter(function(t){return t.filter});return e.length?e:null}(a.columns),v=a.program,y=function(t){return co(\"%Y-%m-%d\")(new Date(t))},_={period:g?Te(g):y(l)+\" - \"+y(u),filters:m&&(e=m,void 0===e&&(e=[]),e.map(function(t){var e=t.name,n=t.filter.split(\":\");return e+\" \"+{EQ:\"=\",GT:\">\",GE:\">=\",LT:\"<\",LE:\"<=\",NE:\"!=\",IN:\"one of\",\"!IN\":\"not one of\",LIKE:\"contains\",\"!LIKE\":\"doesn't contains\"}[n[0]]+\" \"+n[1]})),title:null,type:\"event\",items:null},b=Wa(n),x=Va.geoJSON(b);if(s){var w=h&&\"#\"!==h.charAt(0)?\"#\"+h:h,C=[{name:\"Event\",color:h||\"#333333\",radius:c||6}];if(p){var k={pane:r,load:f.load,popup:f.popup,bounds:f.bounds,color:w||\"#333333\",radius:c||6};_=I.__assign({},_,{title:v?\"\"+v.displayName:\"Event Layer\",items:C}),x=new cu(k)}else{var O={true:\"Yes\",false:\"No\"},M=s.rows,L=s.headers,S=s.metaData;L.forEach(function(t){return O[t.name]=t.column});var P=M.map(function(t){return function(e,n,i,o,r){var a,s=t.reduce(function(t,i,o){var r;return I.__assign({},t,((r={})[e[o].name]=n[i]||i,r))},{});if(void(s.style={color:\"#fff\",weight:1,stroke:!0,fill:!0})){var l=s[void 0];a=Array.isArray(l)?l:z.isString(l)&&!z.isEmpty(l)?JSON.parse(l):[]}else a=[s.longitude,s.latitude];return{type:\"Feature\",id:s.psi,name:o.names[s.ps],properties:s,geometry:{type:\"Point\",coordinates:a.map(parseFloat)}}}(L,O,0,S)}).filter(function(t){return Za(t.geometry.coordinates)});if(Array.isArray(P)&&P.length){_=I.__assign({},_,{title:P[0].name,items:C});var T=Ya(r,c,o,h);x=Va.geoJSON(P,T),d&&(x=new su({data:P,color:w||\"#333333\",radius:c||6,pane:r,spiderfyOnMaxZoom:!0,showCoverageOnHover:!1}).addLayers(x))}}x.on({click:pu().onClick,mouseover:pu().mouseover,rightClick:pu().onRightClick,mouseout:pu().mouseout})}var A=x.getBounds(),D=I.__assign({},t,{features:b,geoJsonLayer:x,legendSet:{legend:_,layer:r,hidden:!1,cluster:d,opacity:o}});return A.isValid()?I.__assign({},D,{bounds:A}):D},thematic:function(t){var e,n,i,o,r,a=t.layerOptions,s=t.displaySettings,l=t.opacity,u=t.dataSelections,h=t.legendProperties,c=t.legendSet,d=t.analyticsData,p=u.rows,f=u.columns,g=u.filters,m=a.radiusLow,v=a.radiusHigh,y=s.labelFontStyle,_=s.labelFontSize,b=s.labelFontColor,x=s.labelFontWeight,w=s.labels,C=s.values,k=Wa(t.geofeature),O=function(e,n,i){var o=t.id;return{pane:o,style:function(t){return{color:\"#333\",fillColor:t.properties.color,fillOpacity:n,opacity:n,weight:1,fill:!0,stroke:!0}},onEachFeature:function(t,e){},pointToLayer:function(t,e){return new Va.CircleMarker(e,{pane:o,radius:t.properties.radius||6,fillColor:t.properties.color||\"#fff\",color:t.properties.color||\"#333\",opacity:n||.8,weight:1,fillOpacity:n||.8})}}}(0,l),M=function(t){var e=d.headers,n=d.rows,i=z.findIndex(e,[\"name\",\"ou\"]),o=z.findIndex(e,[\"name\",\"value\"]);return n.reduce(function(t,e){return t[e[i]]=parseFloat(e[o]),t},{})}(),L=(o=(e=d.metaData).dimensions,r=(i=e.dx)&&i[0]||o&&o.dx[0],(n=e.names)&&n[r]||e.items[r].name),S=k.filter(function(t){return t.id}),P=function(t){var e=d.rows,n=z.findIndex(d.headers,[\"name\",\"value\"]);return e.map(function(t){return parseFloat(t[n])}).sort(function(t,e){return t-e})}(),T=P[0],A=P[P.length-1],D=function(t){return void 0===t&&(t=[]),Se(\"dx\",t)}(f)[0],E=t.name||D.name,R=c?function(e,n,i){var o=[\"name\",\"startValue\",\"endValue\",\"color\"];return{title:e.name||t.displayName,type:t.type,items:z.sortBy(e.legends,\"startValue\").map(function(t){return z.pick(t,o)})}}(c):function(t,e,n,i){var o,r=e.classes,a=e.colorScale,s=e.colorLow,l=e.colorHigh,u=t.length?(h=t,c=e.method,d=r,2===c?p=function(t,e,n){for(var i=[],o=(e-t)/n,r=Jl(o,e),a=Wl(\".\"+r+\"f\"),s=0;s<n;s++){var l=t+s*o,u=s<n-1?l+o:e;i.push({startValue:Number(a(l)),endValue:Number(a(u))})}return i}(h[0],h[h.length-1],d):3===c&&(p=function(t,e){var n=t[0],i=t[t.length-1],o=[],r=t.length/e,a=Jl((i-n)/e,i),s=Wl(\".\"+a+\"f\"),l=0===r?0:r;if(t.length>0){o[0]=n;for(var u=1;u<e;u++)o[u]=t[Math.round(l)],l+=r}return o.filter(function(t){return void 0!==t}).map(function(t,e){return{startValue:Number(s(t)),endValue:Number(s(o[e+1]||i))}})}(h,d)),p):[];var h,c,d,p;return Array.isArray(a)?o=a:z.isString(a)&&(o=a.split(\",\")),a&&o.length===r||(o=function(t,e,n){var i,o=[],r=_u(\"#\"+t),a=_u(\"#\"+e);if(1===n)return[\"#\"+t];for(var s=0;s<n;s++)o.push(\"#\"+((1<<24)+((i={r:parseInt((r.r+s*(a.r-r.r)/(n-1)).toString(),10),g:parseInt((r.g+s*(a.g-r.g)/(n-1)).toString(),10),b:parseInt((r.b+s*(a.b-r.b)/(n-1)).toString(),10)}).r<<16)+(i.g<<8)+i.b).toString(16).slice(1));return o}(s,l,r)),{title:n,type:i,items:u.map(function(t,e){return I.__assign({},t,{color:o[e]})})}}(P,h,t.displayName,t.type);R.items.forEach(function(t){return t.count=0});var N=z.curry(yu)(R.items),B=Pe(p.concat(g,f));R.period=Te(B),S.forEach(function(t){var e=t.properties,n=M[t.id]||0,i=N(n);i&&(i.count++,e.percentage=(i.count/P.length*100).toFixed(1)),e.value=n,e.label=E,e.dx=L,e.color=i&&i.color||\"#bd0026\",e.labelStyle={fontSize:_,fontStyle:y,fontColor:b,fontWeight:x},e.radius=(n-T)/(A-T)*(v-m)+m});var F=function(t){return new xu(t)}(I.__assign({},O,{label:w?C?\"{name}({value})\":\"{name}\":void 0,hoverLabel:void 0,labelPane:t.id+\"-labels\",data:S})),j=function(t,e){return{onClick:function(t){var n=t.layer.feature.properties,i='<div class=\"leaflet-popup-orgunit\">\\n                    '+n.name+\"<br>\\n                    \"+n.dx+\"<br>\\n                    \"+(e?e.period:void 0)+\": \"+n.value+\"</div>\";t.layer.closePopup(),t.layer.bindPopup(i),t.layer.openPopup()},onRightClick:function(t){Va.DomEvent.stopPropagation(t)},mouseover:function(t){var e=t.layer.feature.properties,n=e.name,i=e.value;t.layer.setStyle(I.__assign({},e.style,{weight:3})),t.layer.closeTooltip(),t.layer.bindTooltip(n+\"(\"+i+\")\",{direction:\"auto\",permanent:!1,sticky:!0,interactive:!0,opacity:1}).openTooltip()},mouseout:function(t){t.layer.setStyle(I.__assign({},t.layer.feature.properties.style,{weight:1}))}}}(0,R);F.on({click:j.onClick,mouseover:j.mouseover,mouseout:j.mouseout});var U=F.getBounds(),V=I.__assign({},t,{features:k,legendSet:{layer:t.id,opacity:l,hidden:!1,legend:R},geoJsonLayer:F});return U.isValid()?I.__assign({},V,{bounds:U}):V},facility:function(t){var e,n=t.geofeature,i=t.layerOptions,o=t.displaySettings,r=t.opacity,a=t.areaRadius,s=t.dataSelections,l=t.orgUnitGroupSet,u=s.organisationUnitGroupSet,h=(function(t){void 0===t&&(t=[]),Se(\"ou\",t)}(s.rows),i.radiusLow),c=Wa(n),d=Ya(t.id,h,r),p=Va.geoJSON(c,d),f=localStorage.getItem(\"contextPath\"),g=null;if(l){var m=u.id,v=l.organisationUnitGroups,y=(e=m,n.filter(function(t){return 1===t.ty&&z.isPlainObject(t.dimensions)&&t.dimensions[e]&&Za(JSON.parse(t.co))})),_=function(t){return t.reduce(function(t,e,n){var i;return void 0===t&&(t={}),I.__assign({},t,((i={})[e.id]=I.__assign({},e,{symbol:e.symbol||21+n+\".png\"}),i))},{})}(v);c=y.map(function(t){return function(t,e,n){return{type:\"Feature\",id:t.id,properties:{id:t.id,name:t.na,label:t.na+\" (\"+e.name+\")\",icon:{iconUrl:n+\"/images/orgunitgroup/\"+e.symbol,iconSize:[16,16]}},geometry:{type:\"Point\",coordinates:JSON.parse(t.co)}}}(t,_[t.dimensions[m]],f)});var b=function(t,e,n,i){var o=e.labelFontStyle,r=e.labelFontSize,a=e.labelFontColor,s=e.labelFontWeight,l=e.labels,u=t;return{pane:u,onEachFeature:function(t,e){l&&(t.properties.label=t.properties.name,t.properties.labelStyle={fontSize:r,fontStyle:o,fontColor:a,fontWeight:s,paddingTop:\"10px\"})},pointToLayer:function(e,o){var r=Va.extend({},{riseOnHover:!0,strokeColor:\"#fff\"}),a=e.properties.labelStyle,s=Va.Util.template(\"{name}\",e.properties),l=Va.icon(I.__assign({},e.properties.icon)),h=new Va.marker(o,I.__assign({},r,{icon:l,iconProperty:\"icon\",title:s,labelStyle:a,pane:u}));if(n){var c=new Va.CircleMarker(o,{radius:n,weight:.5,opacity:i||.8,fillOpacity:i||.8,pane:t+\"-area\"}),d=new Va.featureGroup([c,h],{pane:u});return d.on(vu),d}return h},setOpacity:function(t){(void 0).eachLayer(function(e){e.setOpacity(t)})}}}(t.id,o,a,r);p=Va.geoJSON(c,b),g={title:\"Facilities\",type:\"facility\",items:Object.keys(_).map(function(t){return{image:f+\"/images/orgunitgroup/\"+_[t].symbol,name:_[t].name}})}}var x=p.getBounds();p.setStyle({opacity:.2,fillOpacity:.2});var w=I.__assign({},t,{features:c,legendSet:{layer:t.id,opacity:r,hidden:!1,legend:g},geoJsonLayer:p});return x.isValid()?I.__assign({},w,{bounds:x}):w},external:function(t){var e=t.id,n=t.opacity,i=JSON.parse(t.dataSelections.config),o=i.name,r=i.url,a=Ha({name:o,url:r,label:o,attribution:i.attribution}),s={\"Dark basemap\":\"DarkMatter\"}[o.trim()]||\"DarkMatter\",l=na[s].image,u={title:o.trim(),type:\"external\",items:[{name:o,url:r,image:l}]};return I.__assign({},t,{geoJsonLayer:a,legendSet:{legend:u,layer:e,hidden:!1,opacity:n}})},earthEngine:function(t){var e,n,i,o,r,a,s,l=t.layerOptions,u=t.opacity,h=JSON.parse(t.dataSelections.config),c=wu[h.id],d=I.__assign({},h,c,{accessToken:l.earthEngineConfig.accessToken});if(d.legend&&!d.legend.items&&d.params){var p=(n=(e=d.params).min,i=e.max,o=e.palette.split(\",\"),r=(e.max-n)/(o.length-(n>0?2:1)),a=n,s=Math.round(n+r),o.map(function(t,e){var o={color:t};return 0===e&&n>0?(o.name=\"< \"+n,s=n):o.name=a<i?a+\" - \"+s:\"> \"+a,a=s,s=Math.round(n+r*(e+(n>0?1:2))),o})),f=I.__assign({},d.legend,{type:\"earthEngine\",items:p});d=I.__assign({},d,{legend:f,methods:2,opacity:u,unit:f.unit})}var g=new ku(d);return I.__assign({},t,{legendSet:{layer:t.id,title:c.title,opacity:u,hidden:!1,legend:d.legend},geoJsonLayer:g})}},Mu=function(t){return Math.abs(parseInt(t,10))>1e5?(parseFloat(t)/1e5).toFixed(6):parseFloat(t).toFixed(6)},Lu=n(\"qbsC\"),Su=function(){function t(t){this.store=t,this.leafletLayers={},this.mapHasGeofeatures=!0,this.mapHasDataAnalytics=!0}return t.prototype.ngOnChanges=function(t){var e=t.visualizationObject;this._visualizationObject=e.currentValue,this.createMap(),e&&!e.isFirstChange()&&this.redrawMapOndataChange(e.currentValue)},t.prototype.ngOnInit=function(){var t,e=this;this.visualizationLegendIsOpen$=this.store.select(Gr(this._visualizationObject.componentId)),this.baseLayerLegend$=this.store.select(Wr(this._visualizationObject.componentId)),this.isDataTableOpen$=this.store.select((t=this._visualizationObject.componentId,Object(Ie.D)(Vr,function(e){return e[t].datatableIsOpen}))),this.store.select(Wr(this._visualizationObject.componentId)).subscribe(function(t){if(t&&e.basemap){var n=t.opacity,i=t.hidden;if(t.changedBaseLayer){var o=e.createBaseLayer(t.name);e.setLayerVisibility(!1,e.basemap),e.basemap=o}e.setLayerVisibility(!i,e.basemap),e.basemap.setOpacity(n)}}),this.store.select(jr(this._visualizationObject.componentId)).subscribe(function(t){t&&Object.keys(t).length&&Object.keys(t).map(function(n){var i=t[n],o=i.opacity,r=i.hidden,a=i.legend,s=e.leafletLayers[i.layer];s&&!(\"external\"===a.type||i.cluster||\"earthEngine\"===a.type)&&s.setStyle({opacity:o,fillOpacity:o}),s&&e.setLayerVisibility(!r,s)})})},t.prototype.createMap=function(){var t=this,e=this._visualizationObject,n=e.geofeatures,i=e.analytics,o=e.layers,r=Object.keys(n).map(function(t){return n[t]}),a=Object.keys(i).filter(function(t){return i[t]&&i[t].rows&&i[t].rows.length>0||i[t]&&i[t].count});this.mapHasGeofeatures=!![].concat.apply([],r).length,a.length||(this.mapHasDataAnalytics=!1),o.map(function(e){\"event\"===e.type?(z.find(i[e.id]&&i[e.id].headers,{name:\"latitude\"})&&(t.mapHasGeofeatures=!0),e.layerOptions.serverClustering&&(t.mapHasGeofeatures=!0)):\"facility\"===e.type?Object.keys(e.dataSelections.organisationUnitGroupSet)&&(t.mapHasDataAnalytics=!0):\"earthEngine\"===e.type?t.mapHasDataAnalytics=!0:\"boundary\"===e.type&&(t.mapHasDataAnalytics=!0)})},t.prototype.ngAfterViewInit=function(){var t=this;this.initializeMapContainer(),Object(Lu.a)(4).take(1).subscribe(function(){return t.initialMapDraw(t._visualizationObject)})},t.prototype.initializeMapContainer=function(){var t=this.displayConfigurations,e=t.itemHeight,n=this._visualizationObject.mapConfiguration.fullScreen||\"100vh\"===e,i=function(t,e,n,i){var o=document.getElementById(\"map-view-port-\"+t),r=document.getElementById(t+\"-child-view-port\");r&&r.parentNode.removeChild(r);var a=document.createElement(\"div\");return a.setAttribute(\"id\",t+\"-child-view-port\"),a.style.width=n,a.style.height=e,a.style.background=\"#FCFAF8\",o&&o.appendChild(a),t+\"-child-view-port\"}(this._visualizationObject.componentId,e,t.mapWidth);this.map=Va.map(i,{zoomControl:!1,fadeAnimation:!1,scrollWheelZoom:!!n,worldCopyJump:!0})},t.prototype.createLayer=function(t,e){if(t){var n=t.geoJsonLayer,i=t.visible;this.createPane(t.displaySettings.labels,t.id,e,t.areaRadius),this.setLayerVisibility(i,n)}},t.prototype.createPane=function(t,e,n,i){var o=600-10*n;if(this.map.createPane(e),this.map.getPane(e).style.zIndex=o.toString(),t){var r=e+\"-labels\";this.map.createPane(r),this.map.getPane(r).style.zIndex=(o+1).toString()}if(i){var a=e+\"-area\";this.map.createPane(a),this.map.getPane(a).style.zIndex=(o-1).toString()}},t.prototype.onLayerAdd=function(t,e){},t.prototype.setLayerVisibility=function(t,e){t&&!1===this.map.hasLayer(e)?this.map.addLayer(e):t||!0!==this.map.hasLayer(e)||this.map.removeLayer(e)},t.prototype.layerFitBound=function(t){this.map.fitBounds(t)},t.prototype.zoomIn=function(t){this.map.zoomIn()},t.prototype.zoomOut=function(t){this.map.zoomOut()},t.prototype.recenterMap=function(t){this.map.fitBounds(this.layersBounds)},t.prototype.toggleLegendContainerView=function(){this.store.dispatch(new jn(this._visualizationObject.componentId))},t.prototype.initializeMapConfiguration=function(t){var e=[Number(Mu(t.latitude)),Number(Mu(t.longitude))];t.latitude||t.longitude||(e=[6.489,21.885]),this.map.setView(e,t.zoom?t.zoom:6,{reset:!0})},t.prototype.createBaseLayer=function(t){var e=na[t]||na.osmLight;return Ou[e.type](e)},t.prototype.initialMapDraw=function(t){var e,n=t.mapConfiguration,i=this.prepareLegendAndLayers(t),o=i.legendSets;this.drawBaseAndOverLayLayers(n,i.overlayLayers,i.layersBounds),Object.keys(o).length&&this.store.dispatch(new wn(((e={})[this._visualizationObject.componentId]=o,e)))},t.prototype.redrawMapOndataChange=function(t){var e,n=this;Object.keys(this.leafletLayers).map(function(t){return n.map.removeLayer(n.leafletLayers[t])});var i=this.prepareLegendAndLayers(t),o=i.layersBounds,r=i.legendSets;i.overlayLayers.map(function(t,e){n.createLayer(t,e)}),Object.keys(r).length&&this.store.dispatch(new wn(((e={})[t.componentId]=r,e))),o.length&&(this.layersBounds=o,this.layerFitBound(o))},t.prototype.drawBaseAndOverLayLayers=function(t,e,n){var i,o=this;this.initializeMapConfiguration(t),this.basemap=this.createBaseLayer(t.basemap);var r=((i={})[this.visualizationObject.componentId]={name:t.basemap||\"osmLight\",opacity:1,changedBaseLayer:!1,hidden:!1},i);this.store.dispatch(new ei(r)),e.map(function(t,e){o.createLayer(t,e)}),n.length&&(this.layersBounds=n,this.layerFitBound(n))},t.prototype.prepareLegendAndLayers=function(t){var e=this,n=function(t){return e=t.geofeatures,n=t.analytics,i=t.orgUnitGroupSet,o=t.legendSets,t.layers.map(function(t){var r;return r=I.__assign({},r,t),e&&(r=I.__assign({},r,t,{pane:t.id,geofeature:e[t.id]})),n&&(r=I.__assign({},r,{analyticsData:n[t.id]})),i&&(r=I.__assign({},r,{orgUnitGroupSet:i[t.id]})),o&&(r=I.__assign({},r,{legendSet:o[t.id]})),Ou[r.type](r)});var e,n,i,o}(t),i=[],o={};return n.map(function(t,n){var r,a;if(t){var s=t.bounds,l=t.legendSet,u=t.geoJsonLayer,h=t.id;if(s&&i.push(s),l&&l.legend){var c=((r={})[h]=l,r);o=I.__assign({},o,c)}var d=((a={})[h]=u,a);e.leafletLayers=I.__assign({},e.leafletLayers,d)}}),{overlayLayers:n,layersBounds:i,legendSets:o}},t}(),Pu=i[\"\\u0275crt\"]({encapsulation:0,styles:[\"[_nghost-%COMP%] {\\n      display: block;\\n      width: 100%;\\n      height: 100%;\\n    }\\n  }\",[\".leaflet-container[_ngcontent-%COMP%]{height:calc(100% - 14px);border:1px solid #d0d0d0}img[title][_ngcontent-%COMP%]{display:none}.map-container[_ngcontent-%COMP%]{position:relative;background:0 0;height:100%}.map-block__left[_ngcontent-%COMP%]{position:absolute;left:5px;top:45px;z-index:800}.map-controls__list[_ngcontent-%COMP%]{list-style-type:none;display:flex;padding:0;margin:0 0 5px}.map-controls__list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding:0;margin:0;height:30px}.map-controls__btn[_ngcontent-%COMP%], .map-layers__btn[_ngcontent-%COMP%]{border-style:none;cursor:pointer;background-color:rgba(255,255,255,.5);height:30px;width:30px;text-align:center;text-decoration:none;display:inline-block;transition:all .2s ease-in-out}.map-controls__btn[_ngcontent-%COMP%]:hover, .map-layers__btn[_ngcontent-%COMP%]:hover{background-color:rgba(241,241,241,.6);-webkit-transform:scale(1.1);transform:scale(1.1)}.map-controls__btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .map-layers__btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;height:15px}.map-layers__block[_ngcontent-%COMP%]{position:relative}.visualization-legend__container[_ngcontent-%COMP%]{position:absolute;top:0;z-index:490!important;left:0}.warning-map[_ngcontent-%COMP%]{position:absolute;top:0;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;z-index:650}.warning-map[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.3)}.map-title[_ngcontent-%COMP%]{background:0 0;top:3%;position:absolute;z-index:800;align-items:center;width:100%;font-weight:500}.map-title[_ngcontent-%COMP%]   .title-span[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.5)}.map-data-table[_ngcontent-%COMP%]{position:absolute;bottom:0;height:50%;background:#fff;z-index:701}.hide-legend[_ngcontent-%COMP%], .visualization-legend__hidden[_ngcontent-%COMP%]{display:none}@media print{.hide-legend[_ngcontent-%COMP%]{display:block}.hide_on_print[_ngcontent-%COMP%]{display:none!important}div.map-block__left[_ngcontent-%COMP%]{position:absolute;top:unset;left:2px!important;bottom:160px!important;z-index:800!important}}\"]],data:{}});function Tu(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,9,\"div\",[[\"class\",\"visualization-legend__container\"]],null,[[null,\"mouseleave\"]],function(t,e,n){var i=!0;return\"mouseleave\"===e&&(i=!1!==t.component.toggleLegendContainerView()&&i),i},null,null)),i[\"\\u0275did\"](1,278528,null,0,a.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,\"ngStyle\"]},null),i[\"\\u0275pod\"](2,{\"max-height\":0}),(t()(),i[\"\\u0275eld\"](3,0,null,null,6,\"div\",[],null,null,null,null,null)),i[\"\\u0275did\"](4,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,\"ngClass\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),i[\"\\u0275pod\"](6,{\"hide-legend\":0}),(t()(),i[\"\\u0275eld\"](7,0,null,null,2,\"app-visualization-legend\",[],null,null,null,Na,oa)),i[\"\\u0275did\"](8,245760,null,0,ia,[Ie.n],{mapVisualizationObject:[0,\"mapVisualizationObject\"],baseLayerLegend:[1,\"baseLayerLegend\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef])],function(t,e){var n=e.component,o=t(e,2,0,\"calc(\"+n.mapHeight+\" - 150px)\");t(e,1,0,o);var r=t(e,6,0,!i[\"\\u0275unv\"](e,4,0,i[\"\\u0275nov\"](e,5).transform(n.visualizationLegendIsOpen$)));t(e,4,0,r),t(e,8,0,n.visualizationObject,i[\"\\u0275unv\"](e,8,1,i[\"\\u0275nov\"](e,9).transform(n.baseLayerLegend$)))},null)}function Iu(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,5,\"div\",[[\"class\",\"warning-map\"]],null,null,null,null,null)),i[\"\\u0275did\"](1,278528,null,0,a.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,\"ngStyle\"]},null),i[\"\\u0275pod\"](2,{height:0}),(t()(),i[\"\\u0275eld\"](3,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/map.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](4,0,null,null,1,\"h4\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Sorry, this map has no associated geofeatures\"]))],function(t,e){var n=t(e,2,0,e.component.displayConfigurations.itemHeight);t(e,1,0,n)},null)}function Au(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"app-data-table\",[[\"class\",\"map-data-table\"]],null,null,null,ja,Fa)),i[\"\\u0275did\"](1,638976,null,0,Ba,[Ie.n],{mapVisualizationObject:[0,\"mapVisualizationObject\"]},null)],function(t,e){t(e,1,0,e.component.visualizationObject)},null)}function zu(t){return i[\"\\u0275vid\"](2,[(t()(),i[\"\\u0275eld\"](0,0,null,null,25,\"div\",[[\"class\",\"map-container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,4,\"h6\",[[\"class\",\"text-center map-title\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,1,\"div\",[[\"class\",\"title-span\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](3,null,[\"\",\"\"])),(t()(),i[\"\\u0275eld\"](4,0,null,null,1,\"div\",[[\"class\",\"title-span\"],[\"style\",\"font-size: 12px; font-weight: lighter;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](5,null,[\" \",\" \"])),(t()(),i[\"\\u0275eld\"](6,0,null,null,16,\"div\",[[\"class\",\"map-block__left place_bottom_on_print\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](7,0,null,null,9,\"ul\",[[\"class\",\"map-controls__list hide_on_print\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](8,0,null,null,2,\"li\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](9,0,null,null,1,\"button\",[[\"class\",\"map-controls__btn\"],[\"title\",\"Zoom Out\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.zoomOut(n)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](10,0,null,null,0,\"img\",[[\"src\",\"assets/icons/minus.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](11,0,null,null,2,\"li\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](12,0,null,null,1,\"button\",[[\"class\",\"map-controls__btn\"],[\"title\",\"Home\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.recenterMap(n)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](13,0,null,null,0,\"img\",[[\"src\",\"assets/icons/home.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](14,0,null,null,2,\"li\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](15,0,null,null,1,\"button\",[[\"class\",\"map-controls__btn\"],[\"title\",\"Zoom In\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.zoomIn(n)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](16,0,null,null,0,\"img\",[[\"src\",\"assets/icons/plus.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](17,0,null,null,5,\"div\",[[\"class\",\"map-layers__block\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](18,0,null,null,1,\"button\",[[\"class\",\"map-layers__btn\"]],null,[[null,\"mouseenter\"]],function(t,e,n){var i=!0;return\"mouseenter\"===e&&(i=!1!==t.component.toggleLegendContainerView()&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](19,0,null,null,0,\"img\",[[\"src\",\"assets/icons/layers.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,2,null,Tu)),i[\"\\u0275did\"](21,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),(t()(),i[\"\\u0275eld\"](23,0,null,null,0,\"div\",[[\"style\",\"width:100%; height: 100%;\"]],[[8,\"id\",0]],null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Iu)),i[\"\\u0275did\"](25,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,2,null,Au)),i[\"\\u0275did\"](27,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef])],function(t,e){var n=e.component;t(e,21,0,i[\"\\u0275unv\"](e,21,0,i[\"\\u0275nov\"](e,22).transform(n.baseLayerLegend$))),t(e,25,0,!n.mapHasGeofeatures&&n.mapHasDataAnalytics),t(e,27,0,i[\"\\u0275unv\"](e,27,0,i[\"\\u0275nov\"](e,28).transform(n.isDataTableOpen$)))},function(t,e){var n=e.component;t(e,3,0,n.visualizationObject.mapConfiguration.name),t(e,5,0,n.visualizationObject.mapConfiguration.subtitle),t(e,23,0,i[\"\\u0275inlineInterpolate\"](1,\"map-view-port-\",n.visualizationObject.componentId,\"\"))})}var Du=n(\"3xIc\"),Eu=n(\"BWaK\"),Ru=function(){function t(t){this.store=t,this.Layers=[],this.loading=!0,this.hasError=!1,this.legendIsOpen=!1,this.mapWidth=\"100%\",this.map={},this.legendMarginRight=\"25px\",this.legendMarginLeft=\"200px\",this.cardHeight=\"490px\",this.itemHeight=\"91.5vh\",this.subtitle=\"\",this.pinned=!1,this.operatingLayers=[],this.isFullScreen=!1,this.hideTable=!0,this.showCenterButton=!1,this.componentId=\"RBoGyrUJDOu\",this.displayConfigurations={},this._data$=new Du.a({}),this._vizObject$=new Du.a({}),this.isLoaded$=this.store.select(Nr),this.isLoading$=this.store.select(Rr)}return t.prototype.ngOnInit=function(){var t;this.store.dispatch(new vi),this.vizObject&&(this.componentId=this.vizObject.id,this.itemHeight=this.vizObject.details.cardHeight,this.displayConfigurations={itemHeight:this.vizObject.details.cardHeight,mapWidth:\"100%\"},this.store.dispatch(new Zn(this.vizObject.id)),this.visualizationLegendIsOpen$=this.store.select(Gr(this.vizObject.id)),this.transformVisualizationObject(this.vizObject),this.visualizationObject$=this.store.select((t=this.vizObject.id,Object(Ie.D)(Dr,function(e){return e[t]}))))},t.prototype.transhformFavourites=function(t){var e=function(t){var e={},n=z.pick(t,[\"id\",\"name\",\"subtitle\",\"latitude\",\"longitude\",\"basemap\",\"zoom\"]),i=[],o=[];return t.mapViews.forEach(function(t){var e={id:t.id,name:t.name,overlay:!0,visible:!0,areaRadius:t.areaRadius,displayName:t.displayName,opacity:t.opacity,hidden:t.hidden,type:t.layer.replace(/\\d$/,\"\")};i.push(t.id);var n=z.pick(t,[\"eventClustering\",\"eventPointRadius\",\"eventPointColor\",\"radiusHigh\",\"radiusLow\"]),r=z.pick(t,[\"colorLow\",\"colorHigh\",\"colorScale\",\"classes\",\"method\"]),a=z.pick(t,[\"labelFontColor\",\"labelFontSize\",\"labelFontStyle\",\"labelFontWeight\",\"labels\",\"hideTitle\",\"hideSubtitle\"]),s=z.pick(t,[\"config\",\"parentLevel\",\"completedOnly\",\"translations\",\"interpretations\",\"program\",\"programStage\",\"legendSet\",\"columns\",\"rows\",\"filters\",\"aggregationType\",\"organisationUnitGroupSet\",\"startDate\",\"endDate\"]),l=I.__assign({},e,{layerOptions:n,legendProperties:r,displaySettings:a,dataSelections:s});o=o.concat([l])}),{visObject:e=I.__assign({},e,{mapConfiguration:n,layers:i}),Layers:o}}(t),n=e.Layers;this.visObject=I.__assign({},this.visObject,{componentId:this.componentId,mapConfiguration:e.visObject.mapConfiguration,layers:n}),n.length&&this.store.dispatch(new Ke(this.visObject))},t.prototype.transformVisualizationObject=function(t){var e=function(t){var e={},n={},i={},o={},r={},a=t.details,s={id:a.id,name:a.name||t.name,subtitle:a.subtitle,latitude:a.latitude,longitude:a.longitude,basemap:a.basemap,zoom:a.zoom,fullScreen:a.fullScreen},l=[];return t.layers.forEach(function(t){var e,a,s,u=t.settings,h={id:u.id,name:u.name,overlay:!0,visible:!0,areaRadius:u.areaRadius,displayName:u.displayName,opacity:u.opacity||1,hidden:u.hidden,type:u.layer?u.layer.replace(/\\d$/,\"\"):\"thematic\"},c=z.pick(u,[\"eventClustering\",\"eventPointRadius\",\"eventPointColor\",\"radiusHigh\",\"radiusLow\"]),d=t.analytics&&t.analytics.hasOwnProperty(\"count\");if(d){var p=function(t){if(!t)return null;var e=t.match(/([-\\d\\.]+)/g);return[[e[1],e[0]],[e[3],e[2]]]}(t.analytics.extent);r=I.__assign({},r,{bounds:p})}var f,g=I.__assign({},c,{serverClustering:d,serverSideConfig:r}),m={colorLow:u.colorLow,colorHigh:u.colorHigh,colorScale:u.colorScale||Ua,classes:u.classes||5,method:u.method||2},v=u.labelFontColor,y=u.labelFontSize,_=u.labelFontStyle,b=u.labels,x=u.hideTitle,w=u.hideSubtitle,C={labelFontColor:(f=v,/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(f)?v:\"#000000\"),labelFontSize:y,labelFontStyle:_,labels:b,hideSubtitle:w,hideTitle:x},k=z.pick(u,[\"config\",\"parentLevel\",\"completedOnly\",\"translations\",\"interpretations\",\"program\",\"programStage\",\"columns\",\"rows\",\"filters\",\"aggregationType\",\"organisationUnitGroupSet\",\"startDate\",\"endDate\"]),O=I.__assign({},h,{layerOptions:g,legendProperties:m,displaySettings:C,legendSet:u.legendSet,dataSelections:k}),M=((e={})[u.id]=u.geoFeature,e),L=((a={})[u.id]=t.analytics,a),S=((s={})[u.id]=u.organisationUnitGroupSet,s);n=I.__assign({},n,M),i=I.__assign({},i,L),o=I.__assign({},o,S),l=l.concat([O])}),{visObject:e=I.__assign({},e,{mapConfiguration:s,orgUnitGroupSet:o,layers:l,geofeatures:n,analytics:i})}}(Object(Eu.a)(t)).visObject;this.visObject=I.__assign({},this.visObject,{componentId:this.componentId},e),this.store.dispatch(new un(this.visObject))},t.prototype.toggleLegendContainerView=function(){this.store.dispatch(new jn(this.componentId))},t}(),Nu=i[\"\\u0275crt\"]({encapsulation:0,styles:[\"[_nghost-%COMP%] {\\n      display: block;\\n      width: 100%;\\n      height: 100%;\\n    }\\n  }\",[\".leaflet-container[_ngcontent-%COMP%]{height:calc(100% - 14px);border:1px solid #d0d0d0}img[title][_ngcontent-%COMP%]{display:none}.map-container[_ngcontent-%COMP%]{position:relative;height:100%}.map-block__left[_ngcontent-%COMP%]{position:absolute;left:5px;top:50px;z-index:1200}.map-controls__list[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.map-controls__list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding:0;margin:0;height:30px;border-bottom:thin solid #eee}.map-controls__btn[_ngcontent-%COMP%], .map-layers__btn[_ngcontent-%COMP%]{border-style:none;cursor:pointer;background-color:rgba(255,255,255,1);height:30px;width:30px;text-align:center;text-decoration:none;display:inline-block;transition:all .2s ease-in-out}.map-controls__btn[_ngcontent-%COMP%]:hover, .map-layers__btn[_ngcontent-%COMP%]:hover{background-color:rgba(241,241,241,.6);-webkit-transform:scale(1.1);transform:scale(1.1)}.map-controls__btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .map-layers__btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;height:15px}.map-layers__block[_ngcontent-%COMP%]{margin-top:5px;position:relative}.visualization-legend__container[_ngcontent-%COMP%]{position:absolute;top:0;z-index:490!important;left:0}\"]],data:{}});function Bu(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"app-map-loader\",[],null,null,null,Me,Oe)),i[\"\\u0275did\"](1,114688,null,0,ke,[],null,null)],function(t,e){t(e,1,0)},null)}function Fu(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"app-map-container\",[],null,null,null,zu,Pu)),i[\"\\u0275did\"](1,4833280,null,0,Su,[Ie.n],{visualizationObject:[0,\"visualizationObject\"],displayConfigurations:[1,\"displayConfigurations\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef])],function(t,e){var n=e.component;t(e,1,0,i[\"\\u0275unv\"](e,1,0,i[\"\\u0275nov\"](e,2).transform(n.visualizationObject$)),n.displayConfigurations)},null)}function ju(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,6,\"div\",[[\"class\",\"map-container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,2,null,Bu)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),(t()(),i[\"\\u0275and\"](16777216,null,null,2,null,Fu)),i[\"\\u0275did\"](5,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef])],function(t,e){var n=e.component;t(e,2,0,!i[\"\\u0275unv\"](e,2,0,i[\"\\u0275nov\"](e,3).transform(n.visualizationObject$))),t(e,5,0,i[\"\\u0275unv\"](e,5,0,i[\"\\u0275nov\"](e,6).transform(n.visualizationObject$)))},null)}var Uu={bordered:!1},Vu=function(){function t(){this.tableConfig=Uu}return t.prototype.ngOnInit=function(){},t.prototype.handleClick=function(t,e){t.stopPropagation(),e.href&&(window.location.href=e.href)},t}(),Gu=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\".custom-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:6px}.clickable-cell[_ngcontent-%COMP%]{cursor:pointer}\"]],data:{}});function Hu(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"td\",[],[[1,\"colspan\",0]],[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.handleClick(n,t.context.$implicit)&&i),i},null,null)),i[\"\\u0275did\"](1,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,\"ngClass\"]},null),i[\"\\u0275pod\"](2,{\"clickable-cell\":0}),i[\"\\u0275did\"](3,278528,null,0,a.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,\"ngStyle\"]},null),(t()(),i[\"\\u0275ted\"](4,null,[\" \",\" \"]))],function(t,e){var n=t(e,2,0,e.context.$implicit.href);t(e,1,0,n),t(e,3,0,e.context.$implicit.style)},function(t,e){t(e,0,0,e.context.$implicit.colSpan),t(e,4,0,e.context.$implicit.value)})}function Zu(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"tr\",[],[[8,\"id\",0]],null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Hu)),i[\"\\u0275did\"](2,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],function(t,e){t(e,2,0,e.context.$implicit.items)},function(t,e){t(e,0,0,e.context.$implicit.id)})}function Wu(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,6,\"div\",[[\"class\",\"list-table-container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,5,\"table\",[],null,null,null,null,null)),i[\"\\u0275did\"](2,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,\"ngClass\"]},null),i[\"\\u0275pod\"](3,{table:0,\"table-bordered\":1,\"table-hover\":2,\"custom-table\":3}),(t()(),i[\"\\u0275eld\"](4,0,null,null,2,\"tbody\",[],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Zu)),i[\"\\u0275did\"](6,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],function(t,e){var n=e.component,i=t(e,3,0,!0,n.tableConfig.bordered,!0,!0);t(e,2,0,i),t(e,6,0,n.tableList)},null)}var Yu=function(){function t(){this.tableList=[]}return t.prototype.ngOnInit=function(){this.resourceList&&(this.tableList=[{id:\"resources_title\",items:[{value:\"Resources\",style:{\"font-weight\":\"bold\",\"text-align\":\"center\",\"background-color\":\"rgba(238, 238, 238, 0.29)\"},colSpan:2}]},{id:\"resoources_headers\",items:[{value:\"#\",style:{\"font-weight\":\"bold\",width:\"5%\",\"background-color\":\"rgba(238, 238, 238, 0.29)\"}},{value:\"Name\",style:{\"font-weight\":\"bold\"}}]}].concat(z.map(this.resourceList,function(t,e){var n=z.filter(z.keys(t),function(t){return\"id\"!==t});return{id:t.id,items:[{value:e+1,style:{width:\"5%\",\"background-color\":\"rgba(238, 238, 238, 0.29)\"}}].concat(z.map(n,function(e){return z.isPlainObject(t[e])?I.__assign({},t[e]):{value:t[e]}}))}})))},t}(),Xu=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\"\"]],data:{}});function $u(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"resources-container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"app-list-table\",[],null,null,null,Wu,Gu)),i[\"\\u0275did\"](2,114688,null,0,Vu,[],{tableList:[0,\"tableList\"]},null)],function(t,e){t(e,2,0,e.component.tableList)},null)}var Ku=function(){function t(){}return t.prototype.ngOnInit=function(){this.visualizationLayers&&(this.resourceList=z.flatten(z.map(this.visualizationLayers,function(t){return t.settings?z.map(t.settings.resources,function(t){return{id:t.id,displayObject:{value:t.displayName,href:\"../../../api/documents/\"+t.id+\"/data\"}}}):[]})))},t}(),qu=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\"\"]],data:{}});function Ju(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"resources-container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"app-resources\",[],null,null,null,$u,Xu)),i[\"\\u0275did\"](2,114688,null,0,Yu,[],{resourceList:[0,\"resourceList\"]},null)],function(t,e){t(e,2,0,e.component.resourceList)},null)}var Qu=function(){function t(){this.onCurrentVisualizationChange=new i.EventEmitter,this.visualizationTypeConfig={showInfo:!1}}return t.prototype.ngOnInit=function(){},t.prototype.onVisualizationSelect=function(t,e){t.stopPropagation(),this.onCurrentVisualizationChange.emit(e)},t}(),th=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\".visualization-types-section[_ngcontent-%COMP%]{display:flex}.visualization-type-btn[_ngcontent-%COMP%]{margin-right:5px}.visualization-type-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;height:15px}.active-visualization[_ngcontent-%COMP%]{background-color:#ddd}\"]],data:{}});function eh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,3,\"button\",[[\"class\",\"dashboard-btn visualization-type-btn\"],[\"title\",\"View Information\"]],[[8,\"disabled\",0]],[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.onVisualizationSelect(n,\"INFO\")&&i),i},null,null)),i[\"\\u0275did\"](1,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,\"klass\"],ngClass:[1,\"ngClass\"]},null),i[\"\\u0275pod\"](2,{\"active-visualization\":0}),(t()(),i[\"\\u0275eld\"](3,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/info.png\"]],null,null,null,null,null))],function(t,e){var n=t(e,2,0,\"INFO\"===e.component.currentVisualization);t(e,1,0,\"dashboard-btn visualization-type-btn\",n)},function(t,e){t(e,0,0,\"INFO\"===e.component.currentVisualization)})}function nh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,14,\"div\",[[\"class\",\"visualization-types-section\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,3,\"button\",[[\"class\",\"dashboard-btn visualization-type-btn\"],[\"title\",\"View Table\"]],[[8,\"disabled\",0]],[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.onVisualizationSelect(n,\"TABLE\")&&i),i},null,null)),i[\"\\u0275did\"](2,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,\"klass\"],ngClass:[1,\"ngClass\"]},null),i[\"\\u0275pod\"](3,{\"active-visualization\":0}),(t()(),i[\"\\u0275eld\"](4,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/table.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](5,0,null,null,3,\"button\",[[\"class\",\"dashboard-btn visualization-type-btn\"],[\"title\",\"View Chart\"]],[[8,\"disabled\",0]],[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.onVisualizationSelect(n,\"CHART\")&&i),i},null,null)),i[\"\\u0275did\"](6,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,\"klass\"],ngClass:[1,\"ngClass\"]},null),i[\"\\u0275pod\"](7,{\"active-visualization\":0}),(t()(),i[\"\\u0275eld\"](8,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/column.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](9,0,null,null,3,\"button\",[[\"class\",\"dashboard-btn visualization-type-btn\"],[\"title\",\"View Map\"]],[[8,\"disabled\",0]],[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.onVisualizationSelect(n,\"MAP\")&&i),i},null,null)),i[\"\\u0275did\"](10,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,\"klass\"],ngClass:[1,\"ngClass\"]},null),i[\"\\u0275pod\"](11,{\"active-visualization\":0}),(t()(),i[\"\\u0275eld\"](12,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/map.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,eh)),i[\"\\u0275did\"](14,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component,i=t(e,3,0,\"TABLE\"===n.currentVisualization);t(e,2,0,\"dashboard-btn visualization-type-btn\",i);var o=t(e,7,0,\"CHART\"===n.currentVisualization);t(e,6,0,\"dashboard-btn visualization-type-btn\",o);var r=t(e,11,0,\"MAP\"===n.currentVisualization);t(e,10,0,\"dashboard-btn visualization-type-btn\",r),t(e,14,0,n.visualizationTypeConfig.showInfo)},function(t,e){var n=e.component;t(e,1,0,\"TABLE\"===n.currentVisualization),t(e,5,0,\"CHART\"===n.currentVisualization),t(e,9,0,\"MAP\"===n.currentVisualization)})}var ih=function(){function t(){this.downloadVisualization=new i.EventEmitter,this.showDownloadOptions=!1}return t.prototype.ngOnInit=function(){},t.prototype.toggleDownloadOptions=function(t){t.stopPropagation(),this.showDownloadOptions=!this.showDownloadOptions},t.prototype.download=function(t,e){t.stopPropagation(),this.downloadVisualization.emit(e)},t}(),oh=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\".visualization-download-section-container[_ngcontent-%COMP%]{display:flex}.visualization-download-btn-list-item[_ngcontent-%COMP%]{margin-left:2px}.visualization-download-btn-list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;height:16px}.visualization-download-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;height:15px}\"]],data:{}});function rh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"button\",[[\"class\",\"dashboard-btn visualization-download-btn-list-item\"],[\"title\",\"Download as image in png\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.download(n,\"PNG\")&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/png.png\"]],null,null,null,null,null))],null,null)}function ah(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"button\",[[\"class\",\"dashboard-btn visualization-download-btn-list-item\"],[\"title\",\"Download as image in jpeg\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.download(n,\"JPEG\")&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/jpg.png\"]],null,null,null,null,null))],null,null)}function sh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"button\",[[\"class\",\"dashboard-btn visualization-download-btn-list-item\"],[\"title\",\"Download as image in svg\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.download(n,\"SVG\")&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/image.png\"]],null,null,null,null,null))],null,null)}function lh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"button\",[[\"class\",\"dashboard-btn visualization-download-btn-list-item\"],[\"title\",\"Download csv document\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.download(n,\"CSV\")&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/csv.png\"]],null,null,null,null,null))],null,null)}function uh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"button\",[[\"class\",\"dashboard-btn visualization-download-btn-list-item\"],[\"title\",\"Download excel document\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.download(n,\"XLS\")&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/xls.png\"]],null,null,null,null,null))],null,null)}function hh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"button\",[[\"class\",\"dashboard-btn visualization-download-btn-list-item\"],[\"title\",\"Download pdf\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.download(n,\"PDF\")&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/pdf.png\"]],null,null,null,null,null))],null,null)}function ch(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"button\",[[\"class\",\"dashboard-btn visualization-download-btn-list-item\"],[\"title\",\"Download kml\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.download(n,\"KML\")&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/kml.png\"]],null,null,null,null,null))],null,null)}function dh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,14,\"div\",[[\"class\",\"visualization-download-list\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,rh)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ah)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,sh)),i[\"\\u0275did\"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,lh)),i[\"\\u0275did\"](8,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,uh)),i[\"\\u0275did\"](10,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,hh)),i[\"\\u0275did\"](12,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ch)),i[\"\\u0275did\"](14,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,2,0,\"CHART\"===n.visualizationType||\"MAP\"===n.visualizationType),t(e,4,0,\"CHART\"===n.visualizationType),t(e,6,0,\"CHART\"===n.visualizationType),t(e,8,0,\"CHART\"===n.visualizationType||\"MAP\"===n.visualizationType||\"TABLE\"===n.visualizationType),t(e,10,0,\"MAP\"===n.visualizationType||\"TABLE\"===n.visualizationType),t(e,12,0,\"CHART\"===n.visualizationType||\"MAP\"===n.visualizationType),t(e,14,0,\"MAP\"===n.visualizationType)},null)}function ph(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"div\",[[\"class\",\"visualization-download-section-container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"button\",[[\"class\",\"dashboard-btn visualization-download-btn\"],[\"title\",\"View download options\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleDownloadOptions(n)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/download.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,dh)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){t(e,4,0,e.component.showDownloadOptions)},null)}var fh=function(){function t(){this.onCloseDeleteDialog=new i.EventEmitter,this.onDelete=new i.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.cancelDelete=function(t){t.stopPropagation(),this.onCloseDeleteDialog.emit(!0)},t.prototype.delete=function(t){t.stopPropagation(),this.onDelete.emit(!0)},t}(),gh=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\".delete-dialog[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.delete-dialog[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:5px;text-decoration:none;cursor:pointer}\"]],data:{}});function mh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,6,\"div\",[[\"class\",\"delete-dialog\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"span\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Are you sure?\"])),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"a\",[[\"class\",\"text-primary\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.cancelDelete(n)&&i),i},null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"NO\"])),(t()(),i[\"\\u0275eld\"](5,0,null,null,1,\"a\",[[\"class\",\"text-danger\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.delete(n)&&i),i},null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"YES\"]))],null,null)}function vh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"div\",[[\"class\",\"delete-dialog\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\" Deleting... \"]))],null,null)}function yh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,3,\"div\",[[\"class\",\"delete-dialog text-danger\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\" Delete fail \"])),(t()(),i[\"\\u0275eld\"](2,0,null,null,1,\"button\",[[\"class\",\"btn btn-xs btn-outline-secondary\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.cancelDelete(n)&&i),i},null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Close\"]))],null,null)}function _h(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,6,\"div\",[[\"class\",\"visualization-delete-dialog-container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,mh)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,vh)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,yh)),i[\"\\u0275did\"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,2,0,!n.deleting&&!n.deleteFail),t(e,4,0,n.deleting),t(e,6,0,n.deleteFail)},null)}var bh=n(\"N93N\"),xh=[{shape:\"NORMAL\",shapeClasses:[\"col-md-4\",\"col-sm-6\",\"col-xs-12\",\"dashboard-card\"]},{shape:\"DOUBLE_WIDTH\",shapeClasses:[\"col-md-8\",\"col-sm-6\",\"col-xs-12\",\"dashboard-card\"]},{shape:\"FULL_WIDTH\",shapeClasses:[\"col-md-12\",\"col-sm-12\",\"col-xs-12\",\"dashboard-card\"]}],wh=function(){function t(t){this.store=t}return t.prototype.ngOnInit=function(){},t.prototype.toggleFullScreen=function(t){t.stopPropagation(),this.store.dispatch(new bh.m(this.visualizationId))},t.prototype.resizeCard=function(t){var e,n;t&&t.stopPropagation(),this.store.dispatch(new bh.j({visualizationId:this.visualizationId,shape:(e=this.visualizationShape,n=\"NORMAL\",void 0!==xh&&xh.length>1&&xh.forEach(function(t,i){t.hasOwnProperty(\"shape\")&&t.shape===e&&i+1<xh.length&&(n=xh[i+1].shape)}),n)}))},t}(),Ch=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\".visualization-resize-section[_ngcontent-%COMP%]{display:flex}.visualization-resize-btn[_ngcontent-%COMP%]{margin-left:5px}.visualization-resize-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;height:16px}\"]],data:{}});function kh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"button\",[[\"class\",\"dashboard-btn visualization-resize-btn animated fadeInRight\"],[\"title\",\"Resize item\"]],[[8,\"disabled\",0]],[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.resizeCard(n)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/resize.png\"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,!e.component.loaded)})}function Oh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"button\",[[\"class\",\"dashboard-btn visualization-resize-btn\"],[\"title\",\"View full screen\"]],[[8,\"disabled\",0]],[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.toggleFullScreen(n)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/full-screen.png\"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,!e.component.loaded)})}function Mh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"div\",[[\"class\",\"visualization-resize-section\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,kh)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Oh)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,2,0,n.showResizeButton&&n.loaded),t(e,4,0,n.showFullScreenButton)},null)}var Lh=function(){function t(t){this.store=t,this.showDeleteDialog=!1}return t.prototype.ngOnInit=function(){this.selectedDimensions=this.getSelectedDimensions(),this.currentVisualization=this.visualizationObject.details.currentVisualization,this.loaded=this.visualizationObject.details.loaded},t.prototype.currentVisualizationChange=function(t){this.store.dispatch(new bh.o({type:t,id:this.visualizationObject.id}))},t.prototype.getSelectedItems=function(t,e){if(t&&t[0]){var n=z.find(t[0].filters,[\"name\",e]);if(n)return z.map(n.items,function(t){return{id:t.dimensionItem,name:t.displayName,type:t.dimensionItemType}})}return[]},t.prototype._getSelectedOrgUnitModel=function(t){var e=[];z.each(t,function(t){var n=t.id.split(\";\");e=e.concat(z.map(n,function(t){return{id:t,type:-1===t.indexOf(\"LEVEL\")?-1===t.indexOf(\"OU_GROUP\")?\"ORGANISATION_UNIT\":\"ORGUNIT_GROUP\":\"ORGUNIT_LEVEL\"}}))});var n=e.filter(function(t){return-1!==t.id.indexOf(\"LEVEL\")}),i=e.filter(function(t){return-1!==t.id.indexOf(\"USER\")}),o=e.filter(function(t){return-1!==t.id.indexOf(\"OU_GROUP\")});return{selectionMode:n.length>0?\"Level\":o.length>0?\"Group\":\"orgUnit\",selectedLevels:n.map(function(t){return{level:t.id.split(\"-\")[1]}}),showUpdateButton:!0,selectedGroups:o,orgUnitLevels:[],orgUnitGroups:[],selectedOrgUnits:e.filter(function(t){return\"ORGANISATION_UNIT\"===t.type}),userOrgUnits:[],type:\"report\",selectedUserOrgUnits:i.map(function(t){return{id:t.id,shown:!0}}),orgUnits:[]}},t.prototype.onFilterUpdate=function(t){this.store.dispatch(new bh.i({visualizationObject:this.visualizationObject,filterValue:t}))},t.prototype.onLayoutUpdate=function(t){var e=I.__assign({},this.visualizationObject.details),n=z.map(e.layouts,function(e){return I.__assign({},e,{layout:t})}),i=z.map(this.visualizationObject.layers,function(e){return I.__assign({},e,{layout:t})});this.store.dispatch(new bh.a({visualizationObject:I.__assign({},this.visualizationObject,{details:I.__assign({},e,{layouts:n.slice()}),layers:i}),placementPreference:\"normal\"}))},t.prototype.toggleCardFocusAction=function(t,e){t.stopPropagation(),this.isCardFocused=e,this.chartList&&this.chartList.onParentEvent({focused:this.isCardFocused})},t.prototype.getSelectedDimensions=function(){return this.visualizationObject.details&&this.visualizationObject.details.filters.length>0&&this.visualizationObject.details.layouts.length>0?{selectedDataItems:this.getSelectedItems(this.visualizationObject.details.filters,\"dx\"),selectedPeriods:this.getSelectedItems(this.visualizationObject.details.filters,\"pe\"),orgUnitModel:this._getSelectedOrgUnitModel(this.getSelectedItems(this.visualizationObject.details.filters,\"ou\")),layoutModel:this.visualizationObject.details.layouts[0].layout}:null},t.prototype.onShowDeleteDialog=function(t){t.stopPropagation(),this.showDeleteDialog=!0},t.prototype.onDelete=function(){this.store.dispatch(new bh.b({dashboardId:this.visualizationObject.dashboardId,visualizationId:this.visualizationObject.id}))},t.prototype.onDownload=function(t){\"CHART\"===this.currentVisualization&&this.chartList?this.chartList.onDownloadEvent(this.visualizationObject.name,t):\"TABLE\"===this.currentVisualization&&this.tableList&&this.tableList.onDownloadEvent(this.visualizationObject.name,t)},t}(),Sh=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\".visualization-card[_ngcontent-%COMP%]{width:100%;position:relative;height:100%;overflow:auto}@media print{.visualization-card[_ngcontent-%COMP%]{page-break-inside:avoid;border-style:none}.visualization-card-body[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.14);padding:2px;width:100%;display:block;border-radius:5px}}.visualization-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;position:absolute;top:0;left:0;right:0;width:100%;padding:5px;z-index:1000}.visualization-card-header-left[_ngcontent-%COMP%], .visualization-card-header-right[_ngcontent-%COMP%]{display:flex}.visualization-card-footer[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;padding:5px;z-index:1000;display:flex;justify-content:space-between;width:100%}.visualization-card-footer-left[_ngcontent-%COMP%]{display:flex}.visualization-card-footer-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.visualization-filter-section-container[_ngcontent-%COMP%]{margin-right:5px}.visualization-card-body[_ngcontent-%COMP%]{height:100%;width:100%;display:flex}.visualization-block[_ngcontent-%COMP%]{overflow:hidden}.chart-container[_ngcontent-%COMP%]{height:100%;padding-left:10px;padding-right:10px;overflow:hidden}.resources-container-block[_ngcontent-%COMP%], .table-container-block[_ngcontent-%COMP%], .users-container-block[_ngcontent-%COMP%]{padding:20px 10px 10px;overflow:auto}.message-container-block[_ngcontent-%COMP%]{height:100%;overflow:auto}.map-container[_ngcontent-%COMP%]{overflow:hidden;height:100%}.dictionary-container[_ngcontent-%COMP%]{overflow:auto;padding:50px 10px 10px}.visualization-delete-dialog[_ngcontent-%COMP%]{padding:5px;display:flex;justify-content:center;align-items:center;border-radius:3px}.visualization-delete-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px;display:block;margin:auto}.visualization-interpretation[_ngcontent-%COMP%]{flex:1;overflow:hidden}@media (max-width:900px){.visualization-card-body[_ngcontent-%COMP%]{display:block}}.visualization-card-error-block[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;padding:10px}\"]],data:{}});function Ph(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"app-visualization-filter-section\",[],null,[[null,\"onFilterUpdate\"],[null,\"onLayoutUpdate\"]],function(t,e,n){var i=!0,o=t.component;return\"onFilterUpdate\"===e&&(i=!1!==o.onFilterUpdate(n)&&i),\"onLayoutUpdate\"===e&&(i=!1!==o.onLayoutUpdate(n)&&i),i},vt,at)),i[\"\\u0275did\"](1,114688,null,0,rt,[],{selectedDimensions:[0,\"selectedDimensions\"],visualizationType:[1,\"visualizationType\"],loaded:[2,\"loaded\"]},{onFilterUpdate:\"onFilterUpdate\",onLayoutUpdate:\"onLayoutUpdate\"})],function(t,e){var n=e.component;t(e,1,0,n.selectedDimensions,n.currentVisualization,n.loaded)},null)}function Th(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"visualization-filter-section-container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Ph)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){t(e,2,0,e.component.visualizationObject.details.showFilters)},null)}function Ih(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"div\",[[\"class\",\"visualization-interpretation-button-container\"]],null,null,null,null,null))],null,null)}function Ah(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"visualization-card-loading-block\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"app-visualization-card-loader\",[],null,null,null,Lt,wt)),i[\"\\u0275did\"](2,114688,null,0,xt,[],{visualizationType:[0,\"visualizationType\"]},null)],function(t,e){t(e,2,0,e.component.currentVisualization)},null)}function zh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"visualization-card-error-block\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"app-visualization-error-notifier\",[],null,null,null,At,It)),i[\"\\u0275did\"](2,114688,null,0,Tt,[],{errorMessage:[0,\"errorMessage\"]},null)],function(t,e){t(e,2,0,e.component.visualizationObject.details.errorMessage)},null)}function Dh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"chart-container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"app-chart-list\",[],null,null,null,Qt,qt)),i[\"\\u0275did\"](2,114688,[[1,4]],0,Kt,[$t],{visualizationLayers:[0,\"visualizationLayers\"],visualizationId:[1,\"visualizationId\"],chartHeight:[2,\"chartHeight\"],showChartOptions:[3,\"showChartOptions\"]},null)],function(t,e){var n=e.component;t(e,2,0,n.visualizationObject.layers,n.visualizationObject.id,n.visualizationObject.details.itemHeight,n.visualizationObject.details.showChartOptions)},null)}function Eh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"table-container-block\"]],[[4,\"height\",null]],null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"app-table-list\",[],null,null,null,Ce,xe)),i[\"\\u0275did\"](2,114688,[[2,4]],0,be,[_e],{visualizationLayers:[0,\"visualizationLayers\"],visualizationType:[1,\"visualizationType\"]},null)],function(t,e){var n=e.component;t(e,2,0,n.visualizationObject.layers,n.visualizationObject.type)},function(t,e){t(e,0,0,e.component.visualizationObject.details.cardHeight)})}function Rh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"map-container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"app-map\",[],null,null,null,ju,Nu)),i[\"\\u0275did\"](2,114688,null,0,Ru,[Ie.n],{vizObject:[0,\"vizObject\"]},null)],function(t,e){t(e,2,0,e.component.visualizationObject)},null)}function Nh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"div\",[[\"class\",\"users-container-block\"]],null,null,null,null,null))],null,null)}function Bh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"resources-container-block\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"app-resources-container\",[],null,null,null,Ju,qu)),i[\"\\u0275did\"](2,114688,null,0,Ku,[],{visualizationLayers:[0,\"visualizationLayers\"]},null)],function(t,e){t(e,2,0,e.component.visualizationObject.layers)},null)}function Fh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"div\",[[\"class\",\"resources-container-block\"]],null,null,null,null,null))],null,null)}function jh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"div\",[[\"class\",\"message-container-block\"]],null,null,null,null,null))],null,null)}function Uh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"div\",[[\"class\",\"app-container-block\"]],null,null,null,null,null))],null,null)}function Vh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"div\",[[\"class\",\"dictionary-container\"]],[[4,\"height\",null]],null,null,null,null))],null,function(t,e){t(e,0,0,e.component.visualizationObject.details.cardHeight)})}function Gh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,0,\"div\",[[\"class\",\"visualization-interpretation\"]],null,null,null,null,null))],null,null)}function Hh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,21,\"div\",[[\"class\",\"visualization-card-body\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,18,\"div\",[[\"class\",\"visualization-block\"]],[[4,\"flex\",null]],null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Dh)),i[\"\\u0275did\"](3,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Eh)),i[\"\\u0275did\"](5,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Rh)),i[\"\\u0275did\"](7,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Nh)),i[\"\\u0275did\"](9,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Bh)),i[\"\\u0275did\"](11,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Fh)),i[\"\\u0275did\"](13,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,jh)),i[\"\\u0275did\"](15,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Uh)),i[\"\\u0275did\"](17,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Vh)),i[\"\\u0275did\"](19,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Gh)),i[\"\\u0275did\"](21,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,3,0,\"CHART\"===n.currentVisualization),t(e,5,0,\"TABLE\"===n.currentVisualization),t(e,7,0,\"MAP\"===n.currentVisualization),t(e,9,0,\"USERS\"===n.currentVisualization),t(e,11,0,\"RESOURCES\"===n.currentVisualization),t(e,13,0,\"REPORTS\"===n.currentVisualization),t(e,15,0,\"MESSAGES\"===n.currentVisualization),t(e,17,0,\"APP\"===n.currentVisualization),t(e,19,0,\"INFO\"===n.currentVisualization),t(e,21,0,n.visualizationObject.details.showInterpretationBlock)},function(t,e){t(e,1,0,\"2\")})}function Zh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"div\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"\\xa0\"]))],null,null)}function Wh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"app-visualization-types-section\",[],null,[[null,\"onCurrentVisualizationChange\"]],function(t,e,n){var i=!0;return\"onCurrentVisualizationChange\"===e&&(i=!1!==t.component.currentVisualizationChange(n)&&i),i},nh,th)),i[\"\\u0275did\"](1,114688,null,0,Qu,[],{currentVisualization:[0,\"currentVisualization\"]},{onCurrentVisualizationChange:\"onCurrentVisualizationChange\"})],function(t,e){t(e,1,0,e.component.currentVisualization)},null)}function Yh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"app-visualization-download-section\",[],null,[[null,\"downloadVisualization\"]],function(t,e,n){var i=!0;return\"downloadVisualization\"===e&&(i=!1!==t.component.onDownload(n)&&i),i},ph,oh)),i[\"\\u0275did\"](1,114688,null,0,ih,[],{visualizationType:[0,\"visualizationType\"]},{downloadVisualization:\"downloadVisualization\"})],function(t,e){t(e,1,0,e.component.currentVisualization)},null)}function Xh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"div\",[[\"class\",\"visualization-card-footer-left animated fadeInLeft\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Wh)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Yh)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,2,0,n.visualizationObject.details.showVisualizationTypeOptions),t(e,4,0,n.visualizationObject.details.showDownloadOptions&&\"MAP\"!==n.currentVisualization)},null)}function $h(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"visualization-delete-block\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.onShowDeleteDialog(n)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"button\",[[\"class\",\"dashboard-btn\"],[\"title\",\"remove this item\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"src\",\"assets/icons/trash.png\"]],null,null,null,null,null))],null,null)}function Kh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"class\",\"visualization-delete-dialog dashboard-border\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"app-visualization-delete-dialog\",[],null,[[null,\"onDelete\"],[null,\"onCloseDeleteDialog\"]],function(t,e,n){var i=!0,o=t.component;return\"onDelete\"===e&&(i=!1!==o.onDelete()&&i),\"onCloseDeleteDialog\"===e&&(i=0!=(o.showDeleteDialog=!1)&&i),i},_h,gh)),i[\"\\u0275did\"](2,114688,null,0,fh,[],{visualizationId:[0,\"visualizationId\"],dashboardId:[1,\"dashboardId\"],deleting:[2,\"deleting\"],deleteFail:[3,\"deleteFail\"]},{onCloseDeleteDialog:\"onCloseDeleteDialog\",onDelete:\"onDelete\"})],function(t,e){var n=e.component;t(e,2,0,n.visualizationObject.id,n.visualizationObject.dashboardId,n.visualizationObject.details.deleting,n.visualizationObject.details.deleteFail)},null)}function qh(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,9,\"div\",[[\"class\",\"visualization-card-footer\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Zh)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Xh)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275eld\"](5,0,null,null,4,\"div\",[[\"class\",\"visualization-card-footer-right\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,$h)),i[\"\\u0275did\"](7,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Kh)),i[\"\\u0275did\"](9,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,2,0,n.visualizationObject.details.nonVisualizable),t(e,4,0,!n.visualizationObject.details.nonVisualizable),t(e,7,0,n.loaded&&n.isCardFocused&&n.showDeleteDialog),t(e,9,0,n.showDeleteDialog)},null)}function Jh(t){return i[\"\\u0275vid\"](0,[i[\"\\u0275qud\"](671088640,1,{chartList:0}),i[\"\\u0275qud\"](671088640,2,{tableList:0}),(t()(),i[\"\\u0275eld\"](2,0,null,null,17,\"div\",[[\"class\",\"visualization-card\"]],[[4,\"height\",null]],[[null,\"mouseenter\"],[null,\"mouseleave\"]],function(t,e,n){var i=!0,o=t.component;return\"mouseenter\"===e&&(i=!1!==o.toggleCardFocusAction(n,!0)&&i),\"mouseleave\"===e&&(i=!1!==o.toggleCardFocusAction(n,!1)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](3,0,null,null,8,\"div\",[[\"class\",\"visualization-card-header\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](4,0,null,null,4,\"div\",[[\"class\",\"visualization-card-header-left\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Th)),i[\"\\u0275did\"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Ih)),i[\"\\u0275did\"](8,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275eld\"](9,0,null,null,2,\"div\",[[\"class\",\"visualization-card-header-right\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](10,0,null,null,1,\"app-visualization-resize-section\",[],null,null,null,Mh,Ch)),i[\"\\u0275did\"](11,114688,null,0,wh,[Ie.n],{dashboardId:[0,\"dashboardId\"],visualizationId:[1,\"visualizationId\"],loaded:[2,\"loaded\"],showResizeButton:[3,\"showResizeButton\"],showFullScreenButton:[4,\"showFullScreenButton\"],visualizationShape:[5,\"visualizationShape\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Ah)),i[\"\\u0275did\"](13,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,zh)),i[\"\\u0275did\"](15,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,Hh)),i[\"\\u0275did\"](17,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,qh)),i[\"\\u0275did\"](19,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,6,0,!n.visualizationObject.details.nonVisualizable),t(e,8,0,!n.visualizationObject.details.nonVisualizable),t(e,11,0,n.visualizationObject.dashboardId,n.visualizationObject.id,n.loaded,n.visualizationObject.details.showResizeButton,n.visualizationObject.details.showFullScreenButton,n.visualizationObject.shape),t(e,13,0,!n.visualizationObject.details.loaded),t(e,15,0,n.visualizationObject.details.hasError),t(e,17,0,n.visualizationObject.details.loaded&&!n.visualizationObject.details.hasError),t(e,19,0,n.loaded)},function(t,e){t(e,2,0,e.component.visualizationObject.details.cardHeight)})}var Qh=function(){function t(){}return t.prototype.transform=function(t,e){return t?t.length<e.length?t:z.filter(t,function(t,n){return-1!==e.indexOf(n)}):null},t}(),tc=n(\"1eAL\"),ec=function(){function t(t){this.httpClient=t,this.loading=!0,this.have_authorities=!0,this.show_warning_message=!1,this.show_other_warning_message=!1,this.show_sending_message=!1,this.show_other_sending_message=!1,this.user_email=\"\",this.user_id=\"\",this.showGenerationDate=!1}return t.prototype.ngOnInit=function(){var t=this;this.currentUser&&(this.user_id=this.currentUser.id,this.currentUser.hasOwnProperty(\"email\")&&\"\"!==this.currentUser.email.replace(/ /g,\"\")&&(this.user_email=this.currentUser.email),this.currentUser.userCredentials.userRoles.forEach(function(e){e.authorities.forEach(function(e){\"ALL\"===e&&(t.have_authorities=!0)})}))},t.prototype.enableSendEmail=function(){var t=this;this.httpClient.get(\"dataStore/emails/enable\").subscribe(function(e){t.httpClient.put(\"dataStore/emails/enable\",{enabled:!0}).subscribe(function(e){t.show_warning_message=!1,t.show_sending_message=!0,setTimeout(function(){t.show_sending_message=!1},6e3)})},function(e){t.httpClient.put(\"dataStore/emails/enable\",{enabled:!0}).subscribe(function(e){t.show_warning_message=!1,t.show_sending_message=!0,setTimeout(function(){t.show_sending_message=!1},6e3)})})},t.prototype.enableSendUserEmail=function(){var t=this,e={ou:this.globalFilter&&this.globalFilter.ou?I.__assign({},this.globalFilter.ou,{id:z.filter(this.globalFilter.ou.id.split(\";\")||[],function(t){return-1===t.indexOf(\"LEVEL-\")&&-1===t.indexOf(\"GROUP\")})[0]}):null,pe:this.globalFilter&&this.globalFilter.pe?this.globalFilter.pe:null};console.log(\"Period:\",this.globalFilter.pe.id),this.httpClient.get(\"dataStore/users/\"+this.user_id+\"_\"+this.globalFilter.pe.id).subscribe(function(n){t.httpClient.put(\"dataStore/users/\"+t.user_id+\"_\"+t.globalFilter.pe.id,e).subscribe(function(e){t.show_other_warning_message=!1,t.show_other_sending_message=!0,setTimeout(function(){t.show_other_sending_message=!1},6e3)})},function(){t.httpClient.post(\"dataStore/users/\"+t.user_id+\"_\"+t.globalFilter.pe.id,e).subscribe(function(){t.show_other_warning_message=!1,t.show_other_sending_message=!0,setTimeout(function(){t.show_other_sending_message=!1},6e3)})})},t}(),nc=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\"fieldset[_ngcontent-%COMP%]{margin-left:2px;margin-right:2px;display:block;-webkit-margin-start:2px;-webkit-margin-end:2px;-webkit-padding-before:.35em;-webkit-padding-start:.75em;-webkit-padding-end:.75em;-webkit-padding-after:.625em;-o-border-image:initial;border-image:initial;padding:.35em .75em .625em;border:2px solid threedface}legend[_ngcontent-%COMP%]{display:block;width:auto;-webkit-padding-start:2px;-webkit-padding-end:2px;border-width:initial;border-style:none;border-color:initial;-o-border-image:initial;border-image:initial}.half-item[_ngcontent-%COMP%]{border:1px solid #6498d9;padding:2px;height:100%}\"]],data:{}});function ic(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"button\",[[\"class\",\"btn btn-info float-right btn-sm\"],[\"title\",\"Manual send emails now\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=0!=(t.component.show_warning_message=!0)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"span\",[[\"class\",\"glyphicon glyphicon-envelope\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\" Email All\"]))],null,null)}function oc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,10,\"div\",[[\"class\",\"float-right\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\" This will send emails of Last month to all subscribed users, Send Now? \"])),(t()(),i[\"\\u0275eld\"](2,0,null,null,0,\"br\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"small\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"You will get an email after 15 minutes\"])),(t()(),i[\"\\u0275eld\"](5,0,null,null,2,\"button\",[[\"class\",\"float-right\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.enableSendEmail()&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](6,0,null,null,0,\"span\",[[\"class\",\"glyphicon glyphicon-check\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\" Yes \"])),(t()(),i[\"\\u0275eld\"](8,0,null,null,2,\"button\",[[\"class\",\"float-right\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=0!=(t.component.show_warning_message=!1)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](9,0,null,null,0,\"span\",[[\"class\",\"glyphicon glyphicon-remove\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\" No \"]))],null,null)}function rc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"div\",[[\"class\",\"float-right\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\" The email is being prepared and will be send to all subscribed users \"]))],null,null)}function ac(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"div\",[[\"class\",\"float-right\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\" You can not receive emails since you have not set your email address, please update your \"])),(t()(),i[\"\\u0275eld\"](2,0,null,null,1,\"a\",[[\"href\",\"/dhis-web-user-profile/#/profile\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Profile\"])),(t()(),i[\"\\u0275ted\"](-1,null,[\"! \"]))],null,null)}function sc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"button\",[[\"class\",\"btn btn-info float-right btn-sm\"],[\"title\",\"Manual send emails now\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=0!=(t.component.show_other_warning_message=!0)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"span\",[[\"class\",\"glyphicon glyphicon-envelope\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\" Email Me \"]))],null,null)}function lc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,10,\"div\",[[\"class\",\"float-right\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](1,null,[\" This will send email of last month report to \",\", Send Now? \"])),(t()(),i[\"\\u0275eld\"](2,0,null,null,0,\"br\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"small\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"You will get an email after 15 minutes\"])),(t()(),i[\"\\u0275eld\"](5,0,null,null,2,\"button\",[[\"class\",\"float-right\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=!1!==t.component.enableSendUserEmail()&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](6,0,null,null,0,\"span\",[[\"class\",\"glyphicon glyphicon-check\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\" Yes \"])),(t()(),i[\"\\u0275eld\"](8,0,null,null,2,\"button\",[[\"class\",\"float-right\"]],null,[[null,\"click\"]],function(t,e,n){var i=!0;return\"click\"===e&&(i=0!=(t.component.show_other_warning_message=!1)&&i),i},null,null)),(t()(),i[\"\\u0275eld\"](9,0,null,null,0,\"span\",[[\"class\",\"glyphicon glyphicon-remove\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\" No \"]))],null,function(t,e){t(e,1,0,e.component.user_email)})}function uc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"div\",[[\"class\",\"float-right\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](1,null,[\" The email is being prepared and will be send to \",\" \"]))],null,function(t,e){t(e,1,0,e.component.user_email)})}function hc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,16,\"div\",[[\"class\",\"container\"],[\"style\",\"width: 1080px; margin-top: 20px;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,15,\"div\",[[\"class\",\"row no-print\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,14,\"div\",[[\"class\",\"col-12\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ic)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,oc)),i[\"\\u0275did\"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,rc)),i[\"\\u0275did\"](8,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,ac)),i[\"\\u0275did\"](10,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,sc)),i[\"\\u0275did\"](12,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,lc)),i[\"\\u0275did\"](14,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,uc)),i[\"\\u0275did\"](16,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,4,0,!(n.show_warning_message||n.show_sending_message||n.show_other_sending_message||n.show_other_warning_message||\"\"==n.user_email)),t(e,6,0,n.show_warning_message),t(e,8,0,n.show_sending_message),t(e,10,0,\"\"==n.user_email),t(e,12,0,!(n.show_warning_message||n.show_sending_message||n.show_other_warning_message||\"\"==n.user_email||n.show_other_sending_message)),t(e,14,0,n.show_other_warning_message),t(e,16,0,n.show_other_sending_message)},null)}function cc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"td\",[[\"style\",\"width: 50%\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,3,\"div\",[[\"class\",\"half-item\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,2,\"div\",[[\"style\",\"min-width: 100%;  margin: 0 auto;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"app-visualization-card\",[],null,null,null,Jh,Sh)),i[\"\\u0275did\"](4,114688,null,0,Lh,[Ie.n],{visualizationObject:[0,\"visualizationObject\"]},null)],function(t,e){t(e,4,0,e.context.$implicit)},null)}function dc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,9,\"fieldset\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"legend\",[[\"style\",\"font-size: 1.27em;;font-weight: bold\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Functionality Status:\"])),(t()(),i[\"\\u0275eld\"](3,0,null,null,6,\"table\",[[\"style\",\"width: 100%;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](4,0,null,null,5,\"tbody\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](5,0,null,null,4,\"tr\",[[\"style\",\"display: flex;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,3,null,cc)),i[\"\\u0275did\"](7,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),i[\"\\u0275pad\"](8,2),i[\"\\u0275ppd\"](9,2)],function(t,e){var n=e.component,o=i[\"\\u0275unv\"](e,7,0,t(e,9,0,i[\"\\u0275nov\"](e.parent.parent,0),n.visualizationObjects,t(e,8,0,0,1)));t(e,7,0,o)},null)}function pc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"td\",[[\"style\",\"width: 50%\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,3,\"div\",[[\"class\",\"half-item\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,2,\"div\",[[\"style\",\"min-width: 100%;  margin: 0 auto;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"app-visualization-card\",[],null,null,null,Jh,Sh)),i[\"\\u0275did\"](4,114688,null,0,Lh,[Ie.n],{visualizationObject:[0,\"visualizationObject\"]},null)],function(t,e){t(e,4,0,e.context.$implicit)},null)}function fc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,9,\"fieldset\",[[\"style\",\"page-break-after: always\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"legend\",[[\"style\",\"font-size: 1.27em;;font-weight: bold\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Reasons for Non Functional\"])),(t()(),i[\"\\u0275eld\"](3,0,null,null,6,\"table\",[[\"style\",\"width: 100%;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](4,0,null,null,5,\"tbody\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](5,0,null,null,4,\"tr\",[[\"style\",\"display: flex;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,3,null,pc)),i[\"\\u0275did\"](7,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),i[\"\\u0275pad\"](8,2),i[\"\\u0275ppd\"](9,2)],function(t,e){var n=e.component,o=i[\"\\u0275unv\"](e,7,0,t(e,9,0,i[\"\\u0275nov\"](e.parent.parent,0),n.visualizationObjects,t(e,8,0,2,3)));t(e,7,0,o)},null)}function gc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"td\",[[\"style\",\"width: 100%;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,3,\"div\",[[\"class\",\"half-item\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,2,\"div\",[[\"style\",\"min-width: 100%;  margin: 0 auto;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"app-visualization-card\",[],null,null,null,Jh,Sh)),i[\"\\u0275did\"](4,114688,null,0,Lh,[Ie.n],{visualizationObject:[0,\"visualizationObject\"]},null)],function(t,e){t(e,4,0,e.context.$implicit)},null)}function mc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,9,\"fieldset\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"legend\",[[\"style\",\"font-size: 1.37em;;font-weight: bold\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Technology Functional Status:\"])),(t()(),i[\"\\u0275eld\"](3,0,null,null,6,\"table\",[[\"style\",\"width: 100%;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](4,0,null,null,5,\"tbody\",[],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](5,0,null,null,4,\"tr\",[[\"style\",\"display: flex;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,3,null,gc)),i[\"\\u0275did\"](7,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null),i[\"\\u0275pad\"](8,1),i[\"\\u0275ppd\"](9,2)],function(t,e){var n=e.component,o=i[\"\\u0275unv\"](e,7,0,t(e,9,0,i[\"\\u0275nov\"](e.parent.parent,0),n.visualizationObjects,t(e,8,0,4)));t(e,7,0,o)},null)}function vc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,5,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,4,\"div\",[[\"class\",\"col-md-12\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,3,\"h5\",[[\"class\",\"float-right\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"b\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](-1,null,[\"Generated on:\"])),(t()(),i[\"\\u0275ted\"](5,null,[\" \",\"\"]))],null,function(t,e){t(e,5,0,e.component.dateGenerated)})}function yc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,8,\"div\",[[\"class\",\"container\"],[\"style\",\"width: 1080px\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,dc)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,fc)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,mc)),i[\"\\u0275did\"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,vc)),i[\"\\u0275did\"](8,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,2,0,n.visualizationObjects.length>2),t(e,4,0,n.visualizationObjects.length>3),t(e,6,0,n.visualizationObjects.length>4),t(e,8,0,n.showGenerationDate)},null)}function _c(t){return i[\"\\u0275vid\"](2,[i[\"\\u0275pid\"](0,Qh,[]),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,hc)),i[\"\\u0275did\"](2,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,yc)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null)],function(t,e){var n=e.component;t(e,2,0,!n.loading),t(e,4,0,!n.loading)},null)}var bc=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),xc=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\"#dashboard-visualization-list[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:10px;display:grid;width:100%;grid-template-columns:repeat(3,1fr);grid-gap:.5em;grid-auto-rows:minmax(400px,auto)}.visualization-card-container[_ngcontent-%COMP%]{background-color:#fff;position:relative;overflow:hidden}@media print{#dashboard-visualization-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media screen and (max-width:1400px){#dashboard-visualization-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media screen and (max-width:1200px){#dashboard-visualization-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.visualization-card-container[_ngcontent-%COMP%]{grid-column:auto!important}}@media screen and (max-width:900px){#dashboard-visualization-list[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-auto-rows:minmax(370px,auto)}.visualization-card-container[_ngcontent-%COMP%]{grid-column:auto!important;grid-row:auto!important}}@media screen and (max-width:400px){#dashboard-visualization-list[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-auto-rows:minmax(360px,auto)}.visualization-card-container[_ngcontent-%COMP%]{grid-column:auto!important;grid-row:auto!important}}.full-screen-dashboard-item-view[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;width:100%;z-index:1500;height:100vh;background-color:#fff;box-shadow:0 0 0 9999px rgba(0,0,0,.5);-webkit-box-shadow:0 0 0 9999px rgba(0,0,0,.5);-moz-box-shadow:0 0 0 9999px rgba(0,0,0,.5)}\"]],data:{}});function wc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,4,\"div\",[],[[4,\"grid-column\",null],[4,\"grid-row\",null]],null,null,null,null)),i[\"\\u0275did\"](1,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,\"ngClass\"]},null),i[\"\\u0275pod\"](2,{\"visualization-card-container\":0,\"dashboard-border\":1,\"full-screen-dashboard-item-view\":2}),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"app-visualization-card\",[],null,null,null,Jh,Sh)),i[\"\\u0275did\"](4,114688,null,0,Lh,[Ie.n],{visualizationObject:[0,\"visualizationObject\"],currentUser:[1,\"currentUser\"]},null)],function(t,e){var n=e.component,i=t(e,2,0,!0,!0,e.context.$implicit.details.showFullScreen);t(e,1,0,i),t(e,4,0,e.context.$implicit,n.currentUser)},function(t,e){t(e,0,0,e.context.$implicit.details.width,\"span 1\")})}function Cc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,2,\"div\",[[\"id\",\"dashboard-visualization-list\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,1,null,wc)),i[\"\\u0275did\"](2,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,\"ngForOf\"]},null)],function(t,e){t(e,2,0,e.component.visualizationObjects)},null)}var kc=n(\"4hgJ\"),Oc=function(){function t(t){this.store=t,this.visualizationLoadingProgress$=this.store.select(kc.c)}return t.prototype.ngOnInit=function(){},t}(),Mc=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\".dashboard-progress-text-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}\"]],data:{animation:[{type:7,name:\"open\",definitions:[{type:0,name:\"in\",styles:{type:6,styles:{transform:\"translateX(0)\"},offset:null},options:void 0},{type:1,expr:\"void => *\",animation:[{type:6,styles:{transform:\"translateX(0) scale(0)\"},offset:null},{type:4,styles:null,timings:800}],options:null},{type:1,expr:\"* => void\",animation:[{type:4,styles:null,timings:800},{type:6,styles:{transform:\"translateX(0) scale(0)\"},offset:null}],options:null}],options:{}}]}});function Lc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,18,\"div\",[[\"class\",\"dashboard-progress-container\"]],[[24,\"@open\",0]],null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,8,\"div\",[[\"class\",\"dashboard-progress-text-block\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,2,\"div\",[[\"class\",\"dashboard-progress-text\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](3,null,[\" \",\" \"])),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),(t()(),i[\"\\u0275eld\"](5,0,null,null,4,\"div\",[[\"class\",\"dashboard-progress-count\"]],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](6,null,[\" \",\"/\",\" (\",\"%) \"])),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),(t()(),i[\"\\u0275eld\"](10,0,null,null,8,\"div\",[[\"class\",\"dashboard-progress-bar\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](11,0,null,null,7,\"div\",[[\"class\",\"progress\"],[\"style\",\"height: 10px;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](12,0,null,null,6,\"div\",[[\"aria-valuemax\",\"100\"],[\"aria-valuemin\",\"0\"],[\"role\",\"progressbar\"]],[[8,\"className\",0],[1,\"aria-valuenow\",0]],null,null,null,null)),i[\"\\u0275did\"](13,278528,null,0,a.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,\"ngStyle\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),i[\"\\u0275pod\"](15,{width:0}),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef])],function(t,e){var n=e.component,o=t(e,15,0,i[\"\\u0275unv\"](e,13,0,i[\"\\u0275nov\"](e,14).transform(n.visualizationLoadingProgress$)).progress+\"%\");t(e,13,0,o)},function(t,e){var n=e.component;t(e,0,0,void 0),t(e,3,0,i[\"\\u0275unv\"](e,3,0,i[\"\\u0275nov\"](e,4).transform(n.visualizationLoadingProgress$)).progressMessage),t(e,6,0,i[\"\\u0275unv\"](e,6,0,i[\"\\u0275nov\"](e,7).transform(n.visualizationLoadingProgress$)).loadedItems,i[\"\\u0275unv\"](e,6,1,i[\"\\u0275nov\"](e,8).transform(n.visualizationLoadingProgress$)).totalItems,i[\"\\u0275unv\"](e,6,2,i[\"\\u0275nov\"](e,9).transform(n.visualizationLoadingProgress$)).progress),t(e,12,0,i[\"\\u0275inlineInterpolate\"](1,\"progress-bar progress-bar-primary progress-bar-striped \",i[\"\\u0275unv\"](e,12,0,i[\"\\u0275nov\"](e,16).transform(n.visualizationLoadingProgress$)).loadedItems<i[\"\\u0275unv\"](e,12,0,i[\"\\u0275nov\"](e,17).transform(n.visualizationLoadingProgress$)).totalItems?\"active\":\"\",\"\"),i[\"\\u0275unv\"](e,12,1,i[\"\\u0275nov\"](e,18).transform(n.visualizationLoadingProgress$)).progress)})}function Sc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275and\"](16777216,null,null,3,null,Lc)),i[\"\\u0275did\"](1,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef])],function(t,e){var n=e.component;t(e,1,0,i[\"\\u0275unv\"](e,1,0,i[\"\\u0275nov\"](e,2).transform(n.visualizationLoadingProgress$)).totalItems!==i[\"\\u0275unv\"](e,1,0,i[\"\\u0275nov\"](e,3).transform(n.visualizationLoadingProgress$)).loadedItems)},null)}var Pc=n(\"HTZK\"),Tc=n(\"mfjQ\"),Ic=n(\"N65n\"),Ac=function(){function t(t){this.store=t,this.visualizationObjects$=this.store.select(kc.a),this.currentUser$=this.store.select(Pc.a),this.visualizationLoading$=this.store.select(kc.b),this.currentDashboard$=this.store.select(Tc.a),this.globalFilters$=this.store.select(Ic.a),this.welcomingTitle=\"Welcome to Distribution point dashboards\",this.welcomingDescription=\"\"}return t.prototype.ngOnInit=function(){},t}(),zc=i[\"\\u0275crt\"]({encapsulation:0,styles:[[\".welcoming-block[_ngcontent-%COMP%]{margin-top:50px}.dashboard-header[_ngcontent-%COMP%]{margin-top:30px}@media print{.dashboard-header[_ngcontent-%COMP%]{margin-top:0}}\"]],data:{}});function Dc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,7,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,6,\"div\",[[\"class\",\"col-12\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,5,\"app-report\",[],null,null,null,_c,nc)),i[\"\\u0275did\"](3,114688,null,0,ec,[tc.a],{visualizationObjects:[0,\"visualizationObjects\"],currentUser:[1,\"currentUser\"],loading:[2,\"loading\"],globalFilter:[3,\"globalFilter\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef])],function(t,e){var n=e.component;t(e,3,0,i[\"\\u0275unv\"](e,3,0,i[\"\\u0275nov\"](e,4).transform(n.visualizationObjects$)),i[\"\\u0275unv\"](e,3,1,i[\"\\u0275nov\"](e,5).transform(n.currentUser$)),i[\"\\u0275unv\"](e,3,2,i[\"\\u0275nov\"](e,6).transform(n.visualizationLoading$)),i[\"\\u0275unv\"](e,3,3,i[\"\\u0275nov\"](e,7).transform(n.globalFilters$)))},null)}function Ec(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,5,\"div\",[[\"class\",\"row\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,4,\"div\",[[\"class\",\"col-12\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,3,\"app-visualization-list\",[],null,null,null,Cc,xc)),i[\"\\u0275did\"](3,114688,null,0,bc,[],{visualizationObjects:[0,\"visualizationObjects\"],currentUser:[1,\"currentUser\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef])],function(t,e){var n=e.component;t(e,3,0,i[\"\\u0275unv\"](e,3,0,i[\"\\u0275nov\"](e,4).transform(n.visualizationObjects$)),i[\"\\u0275unv\"](e,3,1,i[\"\\u0275nov\"](e,5).transform(n.currentUser$)))},null)}function Rc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,3,\"div\",[[\"class\",\"col-md-6 offset-md-3\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,2,\"div\",[[\"style\",\"height: 7px; margin-top: 20px; margin-bottom: 20px;\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,1,\"app-progress-loader\",[],null,null,null,bt,_t)),i[\"\\u0275did\"](3,114688,null,0,yt,[],null,null)],function(t,e){t(e,3,0)},null)}function Nc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,10,\"div\",[[\"class\",\"row welcoming-block\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,1,\"div\",[[\"class\",\"col-md-4 offset-md-4 col-sm-8 offset-sm-2 text-center\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,0,\"img\",[[\"alt\",\"\"],[\"class\",\"img-fluid\"],[\"src\",\"assets/icons/logo.png\"]],null,null,null,null,null)),(t()(),i[\"\\u0275and\"](16777216,null,null,2,null,Rc)),i[\"\\u0275did\"](4,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),(t()(),i[\"\\u0275eld\"](6,0,null,null,4,\"div\",[[\"class\",\"col-md-8 offset-md-2\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](7,0,null,null,2,\"h2\",[[\"class\",\"text-center\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](8,0,null,null,1,\"b\",[],null,null,null,null,null)),(t()(),i[\"\\u0275ted\"](9,null,[\"\",\"\"])),(t()(),i[\"\\u0275eld\"](10,0,null,null,0,\"h3\",[[\"class\",\"text-center\"]],[[8,\"innerHTML\",1]],null,null,null,null))],function(t,e){var n=e.component;t(e,4,0,i[\"\\u0275unv\"](e,4,0,i[\"\\u0275nov\"](e,5).transform(n.visualizationLoading$)))},function(t,e){var n=e.component;t(e,9,0,n.welcomingTitle),t(e,10,0,n.welcomingDescription)})}function Bc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,14,\"div\",[[\"class\",\"container-fluid dashboard-container\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](1,0,null,null,3,\"div\",[[\"class\",\"row no-print\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](2,0,null,null,2,\"div\",[[\"class\",\"col-12\"]],null,null,null,null,null)),(t()(),i[\"\\u0275eld\"](3,0,null,null,1,\"app-dashboard-progress\",[],null,null,null,Sc,Mc)),i[\"\\u0275did\"](4,114688,null,0,Oc,[Ie.n],null,null),(t()(),i[\"\\u0275and\"](16777216,null,null,2,null,Dc)),i[\"\\u0275did\"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),(t()(),i[\"\\u0275and\"](16777216,null,null,2,null,Ec)),i[\"\\u0275did\"](9,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),(t()(),i[\"\\u0275and\"](16777216,null,null,3,null,Nc)),i[\"\\u0275did\"](12,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,\"ngIf\"]},null),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef]),i[\"\\u0275pid\"](131072,a.AsyncPipe,[i.ChangeDetectorRef])],function(t,e){var n,o,r=e.component;t(e,4,0),t(e,6,0,\"reports\"===(null==(n=i[\"\\u0275unv\"](e,6,0,i[\"\\u0275nov\"](e,7).transform(r.currentDashboard$)))?null:n.id)),t(e,9,0,\"reports\"!==(null==(o=i[\"\\u0275unv\"](e,9,0,i[\"\\u0275nov\"](e,10).transform(r.currentDashboard$)))?null:o.id)),t(e,12,0,!i[\"\\u0275unv\"](e,12,0,i[\"\\u0275nov\"](e,13).transform(r.visualizationObjects$))||0===i[\"\\u0275unv\"](e,12,0,i[\"\\u0275nov\"](e,14).transform(r.visualizationObjects$)).length)},null)}function Fc(t){return i[\"\\u0275vid\"](0,[(t()(),i[\"\\u0275eld\"](0,0,null,null,1,\"app-dashboard\",[],null,null,null,Bc,zc)),i[\"\\u0275did\"](1,114688,null,0,Ac,[Ie.n],null,null)],function(t,e){t(e,1,0)},null)}var jc,Uc=i[\"\\u0275ccf\"](\"app-dashboard\",Ac,Fc,{},{},[]),Vc=function(){function t(t){this.httpClient=t,this._searchList=[],this._searchListLoaded=!1}return t.prototype.getSearchList=function(){var t=this;return new D.a(function(e){t._searchListLoaded?(e.next(t._searchList),e.complete()):Object(kr.a)(t.getUserList(),t.getUserGroupList()).subscribe(function(n){t._searchList=z.sortBy(z.flatten(n),\"name\"),t._searchListLoaded=!0,e.next(t._searchList),e.complete()},function(){e.next(null),e.complete()})})},t.prototype.getUserList=function(){return this.httpClient.get(\"users.json?fields=id,name,displayName&paging=false\").pipe(Object(Ti.a)(function(t){return t.users||[]}),Object(Ti.a)(function(t){return z.map(t,function(t){return I.__assign({},t,{type:\"user\"})})}))},t.prototype.getUserGroupList=function(){return this.httpClient.get(\"userGroups.json?fields=id,name,displayName&paging=false\").pipe(Object(Ti.a)(function(t){return t.userGroups||[]}),Object(Ti.a)(function(t){return z.map(t,function(t){return I.__assign({},t,{type:\"userGroup\"})})}))},t.prototype.saveSharingResults=function(t,e,n){return this.httpClient.post(\"sharing?type=\"+e+\"&id=\"+n,{object:t})},t}(),Gc=n(\"gk6K\"),Hc=n(\"sE5F\"),Zc=function(){function t(){}return t.prototype.getISOFormatFromRelativePeriod=function(t){var e=void 0,n={dimension:\"pe\",items:[]},i=null,o=null;return this._periodDimensionExist(t.rows)&&(i=z.findIndex(t.rows,[\"dimension\",\"pe\"]),e=t.rows[i],o=\"rows\"),this._periodDimensionExist(t.filters)&&(i=z.findIndex(t.filters,[\"dimension\",\"pe\"]),e=t.filters[i],o=\"filters\"),this._periodDimensionExist(t.columns)&&(i=z.findIndex(t.columns,[\"dimension\",\"pe\"]),e=t.columns[i],o=\"columns\"),e&&t[o]&&(n.items=this._generateCorrespondingFixedPeriodArray(e.items),t[o].splice(i,1),t[o].push(n)),t.hideTitle=!1,t},t.prototype._periodDimensionExist=function(t){var e=!1;return z.findIndex(t,[\"dimension\",\"pe\"])>=0&&(e=!0),e},t.prototype._generateCorrespondingFixedPeriodArray=function(t){var e=this,n=[];return t&&t.forEach(function(t){var i=e._getFixedPeriodArrayFromSingleRelativePeriod(t);n=n.concat(i)}),n.length<=0&&(n=t),n},t.prototype._getFixedPeriodArrayFromSingleRelativePeriod=function(t){var e=[\"THIS\",\"LAST\"],n=[],i=this._getExecutingPeriodFunctions();if(t){var o=null;[\"_MONTH\",\"_BIMONTH\",\"_QUARTER\",\"_SIXMONTHS\",\"_SIX_MONTH\",\"_YEAR\",\"_WEEK\",\"_FINANCIAL_YEAR\"].forEach(function(e){t.id.indexOf(e)>-1&&(o=e)}),o&&(n=i[o]({id:\"\",dimensionItem:\"\",displayName:\"\",dimensionItemType:\"PERIOD\"},this._getPeriodCounts(e,t),this._getPeriodTense(e,t)))}return n},t.prototype._getExecutingPeriodFunctions=function(){var t=this,e=new Date;return{_MONTH:function(n,i,o){var r=e.getMonth(),a=t._getLastPeriods(r,i,12,o),s=e.getFullYear(),l=[],u=!1;return a.forEach(function(t){u=12===t,t<10?l.push({id:s+\"0\"+t,dimensionItem:s+\"0\"+t,displayName:s+\"0\"+t,dimensionItemType:\"PERIOD\"}):(u&&(s-=1,u=!1),l.push({id:s+\"\"+t,dimensionItem:s+\"\"+t,displayName:s+\"\"+t,dimensionItemType:\"PERIOD\"}))}),z.reverse(l)},_QUARTER:function(n,i,o){var r=t._getThisQuarter(),a=t._getPeriods(r,o,i,4),s=e.getFullYear(),l=[];return a.forEach(function(t){4===t&&\"LAST\"===o&&(s-=1),l.push({id:s+\"Q\"+t,dimensionItem:s+\"Q\"+t,displayName:s+\"Q\"+t,dimensionItemType:\"PERIOD\"})}),z.reverse(l)},_YEAR:function(n,i,o){var r=e.getFullYear(),a=t._getPeriods(r,o,i,12);return z.reverse(a.map(function(t){return{id:t+\"\",dimensionItem:t+\"\",displayName:t+\"\",dimensionItemType:\"PERIOD\"}}))},_BIMONTH:function(n,i,o){var r=t._getThisBimonth(),a=t._getPeriods(r,o,i,6),s=e.getFullYear(),l=[];return a.forEach(function(t){6===t&&(s-=1),l.push({id:s+\"0\"+t+\"B\",dimensionItem:s+\"0\"+t+\"B\",displayName:s+\"0\"+t+\"B\",dimensionItemType:\"PERIOD\"})}),z.reverse(l)},_SIXMONTHS:function(n,i,o){var r=t._getThisSixmonth(),a=t._getLastPeriods(r,i,2,o),s=e.getFullYear(),l=[];return a.forEach(function(t){2===t&&(s-=1),l.push({id:s+\"S\"+t,dimensionItem:s+\"S\"+t,displayName:s+\"S\"+t,dimensionItemType:\"PERIOD\"})}),l},_SIX_MONTH:function(n,i,o){var r=t._getThisSixmonth(),a=t._getLastPeriods(r,i,2,o),s=e.getFullYear(),l=[];return a.forEach(function(t){2===t&&(s-=1),l.push({id:s+\"S\"+t,dimensionItem:s+\"S\"+t,displayName:s+\"S\"+t,dimensionItemType:\"PERIOD\"})}),l},_WEEK:function(n,i,o){var r=t._getThisWeek(),a=t._getPeriods(r,o,i,52),s=e.getFullYear(),l=[];return a.forEach(function(t){52===t&&(s-=1),l.push({id:s+\"W\"+t,dimensionItem:s+\"W\"+t,displayName:s+\"W\"+t,dimensionItemType:\"PERIOD\"})}),z.reverse(l)},_FINANCIAL_YEAR:function(n,i,o){t._getThisFinancialYear();var r=e.getFullYear(),a=[];if(\"LAST\"==o)for(var s=0;s<i;s++)a.push({id:(r-=1)+\"Oct\",dimensionItem:r+\"Oct\",displayName:r+\"Oct\",dimensionItemType:\"PERIOD\"});return a.length<1&&a.push({id:r+\"Oct\",dimensionItem:r+\"Oct\",displayName:r+\"Oct\",dimensionItemType:\"PERIOD\"}),z.reverse(a)}}},t.prototype._getPeriodTense=function(t,e){var n=null;return t.forEach(function(t){e.id.indexOf(t)>-1&&(n=t)}),n},t.prototype._getPeriodCounts=function(t,e){var n=0;return t.forEach(function(t){if(e.id.indexOf(t)>-1){var i=e.id.split(\"_\");n=i.length>2?isNaN(i[1])?1:i[1]:1}}),n},t.prototype._getPeriods=function(t,e,n,i){var o=[];if(\"LAST\"===e){var r=t-1;o.push(r);for(var a=1;a<=n-1;a++)o.push(1===r?r=i:--r)}else o.push(t);return o},t.prototype._getLastQuarters=function(t,e,n){var i=[];if(\"LAST\"===e){var o=t-1;i.push(o);for(var r=1;r<=n-1;r++)i.push(1===o?o=4:--o)}else i.push(t);return i},t.prototype._getLastWeeks=function(t,e,n){var i=[];if(\"LAST\"===e){var o=t-1;i.push(o);for(var r=1;r<=n-1;r++)i.push(1===o?o=52:--o)}else i.push(t);return i},t.prototype._getLastYears=function(t,e,n){var i=[];if(\"LAST\"===e){var o=t-1;i.push(o);for(var r=1;r<=n-1;r++)i.push(1===o?o=12:--o)}else i.push(t);return i},t.prototype._getLastPeriods=function(t,e,n,i){var o=[t],r=t;if(\"LAST\"===i)for(var a=1;a<=e-1;a++)o.push(1===r?r=12:--r);return o},t.prototype._getThisQuarter=function(t){return t=t||new Date,[1,2,3,4][Math.floor(t.getMonth()/3)]},t.prototype._getThisBimonth=function(t){return t=t||new Date,[1,2,3,4,5,6][Math.floor(t.getMonth()/2)]},t.prototype._getThisSixmonth=function(t){return t=t||new Date,[1,2][Math.floor(t.getMonth()/6)]},t.prototype._getThisWeek=function(t){(t=t||new Date).setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},t.prototype._getThisFinancialYear=function(t){return(t=t||new Date).getMonth()},t}(),Wc=function(){return function(){}}(),Yc=function(){function t(t){this.httpClient=t,this._manifestObject=null}return t.prototype.getRootUrl=function(){var t=this;return new D.a(function(e){t._getAppManifest().subscribe(function(t){t?(e.next(t.activities&&t.activities.dhis&&t.activities.dhis.href||\"../../../\"),e.complete()):(e.next(\"../../../\"),e.complete())})})},t.prototype._getAppManifest=function(){var t=this;return new D.a(function(e){t._manifestObject?(e.next(t._manifestObject),e.complete()):t.httpClient.get(\"manifest.webapp\").subscribe(function(n){t._manifestObject=I.__assign({},n),e.next(n),e.complete()},function(t){console.log(t),e.next(null),e.complete()})})},t}(),Xc=n(\"t/Na\"),$c=function(){function t(t,e){this.httpClient=t,this.manifestService=e}return t.prototype.get=function(t,e){var n=this;return void 0===e&&(e=!1),new D.a(function(i){(e?n._getRootUrl():n._getApiRootUrl()).subscribe(function(e){n.httpClient.get(e+t).subscribe(function(t){i.next(t),i.complete()},function(t){console.log(n._handleError(t)),i.error(n._handleError(t))})})})},t.prototype.post=function(t,e,n){var i=this;return void 0===n&&(n=!1),new D.a(function(o){(n?i._getRootUrl():i._getApiRootUrl()).subscribe(function(n){i.httpClient.post(n+t,e).subscribe(function(t){o.next(t),o.complete()},function(t){console.log(i._handleError(t)),o.error(i._handleError(t))})})})},t.prototype.put=function(t,e,n){var i=this;return void 0===n&&(n=!1),new D.a(function(o){(n?i._getRootUrl():i._getApiRootUrl()).subscribe(function(n){i.httpClient.put(n+t,e).subscribe(function(t){o.next(t),o.complete()},function(t){console.log(i._handleError(t)),o.error(i._handleError(t))})})})},t.prototype.delete=function(t,e){var n=this;return void 0===e&&(e=!1),new D.a(function(i){(e?n._getRootUrl():n._getApiRootUrl()).subscribe(function(e){n.httpClient.delete(e+t).subscribe(function(t){i.next(t),i.complete()},function(t){console.log(n._handleError(t)),i.error(n._handleError(t))})})})},t.prototype._handleError=function(t){return t.error instanceof Error?{message:t.error,status:t.status,statusText:t.statusText}:{message:t.error instanceof Object?t.error.message:t.error,status:t.status,statusText:t.statusText}},t.prototype._getRootUrl=function(){var t=this;return new D.a(function(e){t._apiRootUrl?(e.next(t._apiRootUrl),e.complete()):t.manifestService.getRootUrl().subscribe(function(n){t._rootUrl=n,e.next(n),e.complete()})})},t.prototype._getApiRootUrl=function(){var t=this;return new D.a(function(e){t._apiRootUrl?(e.next(t._apiRootUrl),e.complete()):t._getRootUrl().subscribe(function(n){t._getApiUrlSection().subscribe(function(i){t._apiRootUrl=n+i,e.next(t._apiRootUrl),e.complete()})})})},t.prototype._getSystemInfo=function(){var t=this;return D.a.create(function(e){t.get(\"api/system/info\",!0).subscribe(function(t){e.next(t),e.complete()},function(t){console.warn(t),e.next(null),e.complete()})})},t.prototype._getApiUrlSection=function(){var t=this;return new D.a(function(e){t._getSystemInfo().subscribe(function(n){var i=\"api/\",o=n?n.version:2.25;o>2.24&&(i+=o>2.25?t._getVersionDecimalPart(2.25)+\"/\":t._getVersionDecimalPart(o)+\"/\"),e.next(i),e.complete()})})},t.prototype._getVersionDecimalPart=function(t){return t.toString().split(\".\")[1]},t}(),Kc=function(){function t(t){this.httpClient=t}return t.prototype.create=function(t,e){var n=this;return new D.a(function(i){n.httpClient.post(e+\"/interpretations/\"+t.type+\"/\"+t.id,t.message).subscribe(function(){n.httpClient.get(e+t.type+\"s/\"+t.id+\"?fields=interpretations[id,type,text,lastUpdated,href,created,likes,likedBy[id,name,displayName],user[id,name,displayName],comments[id,created,lastUpdated,text,user[id,name,displayName]],\"+t.type+\"[id,name]]\").subscribe(function(t){i.next(t.interpretations),i.complete()},function(t){return i.error(t)})},function(t){return i.error(t)})})},t.prototype.edit=function(t,e){var n=this;return new D.a(function(i){n.httpClient.put(e+\"/interpretations/\"+t.id,t.text).subscribe(function(){n.getInterpretation(t,e).subscribe(function(t){i.next(t),i.complete()},function(t){return i.error(t)})},function(t){return i.error(t)})})},t.prototype.delete=function(t,e){return this.httpClient.delete(e+\"/interpretations/\"+t.id)},t.prototype.updateLikeStatus=function(t,e,n){var i=this;return void 0===n&&(n=!0),new D.a(function(o){(n?i.httpClient.post(e+\"interpretations/\"+t.id+\"/like\",{}):i.httpClient.delete(e+\"interpretations/\"+t.id+\"/like\")).subscribe(function(){i.getInterpretation(t,e).subscribe(function(t){o.next(t),o.complete()},function(t){return o.error(t)})},function(t){return o.error(t)})})},t.prototype.postComment=function(t,e){var n=this;return new D.a(function(i){n.httpClient.post(e+\"interpretations/\"+t.id+\"/comments\",t.comment).subscribe(function(){n.getInterpretation(t,e).subscribe(function(t){i.next(t),i.complete()},function(t){return i.error(t)})},function(t){return i.error(t)})})},t.prototype.deleteComment=function(t,e,n){return this.httpClient.delete(t+\"interpretations/\"+e+\"/comments/\"+n)},t.prototype.editComment=function(t,e,n){var i=this;return new D.a(function(o){i.httpClient.put(t+\"interpretations/\"+e.id+\"/comments/\"+n.id,n.text).subscribe(function(){i.getInterpretation(e,t).subscribe(function(t){o.next(t),o.complete()},function(t){return o.error(t)})},function(t){return o.error(t)})})},t.prototype.getInterpretation=function(t,e){var n=e+\"interpretations/\"+t.id+\".json?fields=id,type,text,lastUpdated,href,created,likes,likedBy[id,name,displayName],user[id,name,displayName],comments[id,created,lastUpdated,text,user[id,name,displayName]],\"+t.type.toLowerCase()+\"[id,name]\";return this.httpClient.get(n)},t}(),qc=n(\"ZYCi\"),Jc=function(){return function(){}}(),Qc=function(){return function(){}}(),td=n(\"PCNd\"),ed=n(\"F+oH\"),nd=n(\"yYhs\"),id=n(\"Eo4b\"),od=n(\"96Ft\"),rd=n(\"GGnj\"),ad=n(\"Ttb/\"),sd=n(\"+f/6\"),ld=n(\"TI5E\"),ud=function(){return function(){}}(),hd=function(){return function(){}}(),cd=n(\"TCCL\");!function(t){t.INITIALIZE_MESSAGE_CONVERSATION=\"[MessageConversation] Initialize message conversation\",t.LOAD_MESSAGE_CONVERSATION=\"[MessageConversation] Load message conversation\",t.LOAD_MESSAGE_CONVERSATION_SUCCESS=\"[MessageConversation] Load message conversation success\",t.LOAD_MESSAGE_CONVERSATION_FAIL=\"[MessageConversation] Load message conversation fail\"}(jc||(jc={}));var dd=function(){return function(){this.type=jc.LOAD_MESSAGE_CONVERSATION}}(),pd=function(){return function(t){this.messageConversations=t,this.type=jc.LOAD_MESSAGE_CONVERSATION_SUCCESS}}(),fd=function(){return function(t){this.error=t,this.type=jc.LOAD_MESSAGE_CONVERSATION_FAIL}}(),gd=n(\"frRP\"),md=Object(gd.a)(),vd=md.getInitialState({loaded:!1,loading:!1});function yd(t,e){switch(void 0===t&&(t=vd),e.type){case jc.LOAD_MESSAGE_CONVERSATION:return I.__assign({},t,{loading:!0});case jc.LOAD_MESSAGE_CONVERSATION_SUCCESS:return md.addAll(e.messageConversations,I.__assign({},t,{loading:!1,loaded:!0}));case jc.LOAD_MESSAGE_CONVERSATION_FAIL:return I.__assign({},t,{loading:!1,loaded:!0})}return t}var _d=n(\"psW0\"),bd=n(\"xMyE\"),xd=n(\"XlPw\");zi.a.throw=xd.a,zi.a.throwError=xd.a;var wd=n(\"DtyJ\"),Cd=n(\"NxFo\"),kd=function(){function t(t,e){this.httpClient=t,this.indexDbService=e}return t.prototype.getGeoFeaturesArray=function(t){var e=this,n=t.map(function(t){return e.httpClient.get(\"geoFeatures.json?\"+t)});return Object(wd.b)(n)},t.prototype.getGeoFeatures=function(t){var e=this,n={name:\"geoFeatures\",keyPath:\"id\"},i=\"geoFeatures.json?\"+t;return this._getFromIndexDb(t).pipe(Object(_d.a)(function(o){return o?Object(Pi.a)(o):e.httpClient.get(i).pipe(Object(bd.a)(function(i){e.indexDbService.post(n,{id:t,geoFeature:i}).subscribe(function(){})}))}))},t.prototype._getFromIndexDb=function(t){var e=this,n={name:\"geoFeatures\",keyPath:\"id\"};return new D.a(function(i){e.indexDbService.get(n,t).subscribe(function(t){i.next(t?t.geoFeature:null),i.complete()},function(){i.next(null),i.complete()})})},t}(),Od=function(){function t(t){this.httpClient=t}return t.prototype.getMapAnalytics=function(t,e){var n=[].concat.apply([],[t,e]).join(\"&\");return this.httpClient.get(\"../../../api/25/analytics.json?\"+n+\"&displayProperty=NAME\").pipe(Object(Ii.a)(function(t){return D.a.throw(t.json())}))},t.prototype.getAnalytics=function(t){return this.httpClient.get(\"../../../api/25/analytics.json?\"+t+\"&displayProperty=NAME\").pipe(Object(Ii.a)(function(t){return D.a.throw(t.json())}))},t.prototype.getEventsAnalytics=function(t){return this.httpClient.get(\"../../../api/analytics\"+t+\"&coordinatesOnly=true\").pipe(Object(Ii.a)(function(t){return D.a.throw(t.json())}))},t.prototype.getEventInformation=function(t){return this.httpClient.get(\"../../../api/events/\"+t+\".json'\").pipe(Object(Ii.a)(function(t){return D.a.throw(t.json())}))},t}(),Md=function(){function t(t){this.httpClient=t}return t.prototype.getSystemInfo=function(){return this.httpClient.get(\"../../../api/system/info.json\")},t.prototype.getGoogleEarthToken=function(){return this.httpClient.get(\"../../../api/tokens/google\")},t.prototype.getMapID=function(){return this.httpClient.get(\"../../../api/tokens/google\")},t}(),Ld=function(){function t(t){this.httpClient=t}return t.prototype.getOrganisationUnitGroupSets=function(t){return this.httpClient.get(\"../../../api/organisationUnitGroupSets/\"+t+\".json?fields=organisationUnitGroups%5Bid,displayShortName~rename(name),symbol%5D&_dc=1516105315642\").pipe(Object(Ii.a)(function(t){return D.a.throw(t.json())}))},t}(),Sd=function(){function t(t){this.httpClient=t}return t.prototype.getMapLegendSet=function(t){var e=\"../../../api/legendSets/\"+t+\".json?fields=\"+[\"id\",\"displayName~rename(name)\",\"legends[*,!created\",\"!lastUpdated\",\"!displayName\",\"!externalAccess\",\"!access\",\"!userGroupAccesses\"].join(\",\");return this.httpClient.get(e).pipe(Object(Ii.a)(function(t){return D.a.throw(t.json())}))},t}(),Pd=function(){function t(){}return t.prototype.point=function(){return this.justType(\"Point\",\"POINT\")},t.prototype.line=function(){return this.justType(\"LineString\",\"POLYLINE\")},t.prototype.polygon=function(){return this.justType(\"Polygon\",\"POLYGON\")},t.prototype.multipolygon=function(){return this.justType(\"MultiPolygon\",\"MULTIPOLYGON\")},t.prototype.justType=function(t,e){var n=this;return function(i){var o=i.features.filter(n.isType(t));return{geometries:\"MULTIPOLYGON\"===e||\"POLYGON\"===e||\"POLYLINE\"===e?[o.map(n.justCoordinates)]:o.map(n.justCoordinates),properties:o.map(n.justProps),type:e}}},t.prototype.justCoordinates=function(t){return console.log(\"JUST COORDIBNATE\"),console.log(t),void 0!==t.geometry.coordinates[0]&&void 0!==t.geometry.coordinates[0][0]&&void 0!==t.geometry.coordinates[0][0][0]?t.geometry.coordinates[0]:t.geometry.coordinates},t.prototype.isType=function(t){return function(e){return console.log(e.geometry.type,t),e.geometry.type===t}},t.prototype.justProps=function(t){return t.properties},t}(),Td=function(){function t(){}return t.prototype.enlarge=function(t,e){return e[0]<t.xmin&&(t.xmin=e[0]),e[0]>t.xmax&&(t.xmax=e[0]),e[1]<t.ymin&&(t.ymin=e[1]),e[1]>t.ymax&&(t.ymax=e[1]),t},t.prototype.enlargExtent=function(t,e){return e.xmax>t.xmax&&(t.xmax=e.xmax),e.xmin<t.xmin&&(t.xmin=e.xmin),e.ymax>t.ymax&&(t.ymax=e.ymax),e.ymin<t.ymin&&(t.ymin=e.ymin),t},t.prototype.blank=function(){return{xmin:Number.MAX_VALUE,ymin:Number.MAX_VALUE,xmax:-Number.MAX_VALUE,ymax:-Number.MAX_VALUE}},t}(),Id='GEOGCS[\"GCS_WGS_1984\",DATUM[\"D_WGS_1984\",SPHEROID[\"WGS_1984\",6378137,298.257223563]],PRIMEM[\"Greenwich\",0],UNIT[\"Degree\",0.017453292519943295]]',Ad={geometries:{NULL:0,POINT:1,POLYLINE:3,POLYGON:5,MULTIPOLYGON:25,MULTIPOINT:8,POINTZ:11,POLYLINEZ:13,POLYGONZ:15,MULTIPOINTZ:18,POINTM:21,POLYLINEM:23,POLYGONM:25,MULTIPOINTM:28,MULTIPATCH:31},prj:Id},zd=function(){function t(t){this.ext=t}return t.prototype.write=function(t,e,n,i,o){var r=this,a=0,s=0,l=100;t.forEach(function(t,e){var u=r._justCoords(t),h=r.parts([t],o),c=16*u.length+48+4*(h-1),d=u.reduce(function(t,e){return r.ext.enlarge(t,e)},r.ext.blank());i.setInt32(s,l/2),i.setInt32(s+4,c/2),s+=8,l+=c+8,n.setInt32(a,e+1),n.setInt32(a+4,c/2),n.setInt32(a+8,o,!0),n.setFloat64(a+12,d.xmin,!0),n.setFloat64(a+20,d.ymin,!0),n.setFloat64(a+28,d.xmax,!0),n.setFloat64(a+36,d.ymax,!0),n.setInt32(a+44,h,!0),n.setInt32(a+48,u.length,!0),n.setInt32(a+52,0,!0);for(var p=t.reduce(function(t,e){return Array.isArray(e[0][0])?t=t.concat(e):t.push(e),t},[]),f=function(t){n.setInt32(a+52+4*t,p.reduce(function(e,n,i){return i<t?e+n.length:e},0),!0)},g=1;g<h;g++)f(g);u.forEach(function(t,e){n.setFloat64(a+56+16*e+4*(h-1),t[0],!0),n.setFloat64(a+56+16*e+4*(h-1)+8,t[1],!0)}),a+=c+8})},t.prototype.shpLength=function(t){return 112*t.length+32*this._justCoords(t).length},t.prototype.shxLength=function(t){return 32*t.length},t.prototype.extent=function(t){var e=this;return this._justCoords<t.reduce(function(t,n){return console.log(e.ext),e.ext.enlarge(t,n)},this.ext.blank())},t.prototype.parts=function(t,e){var n=1;return e===Ad.geometries.MULTIPOLYGON&&(n=t.reduce(function(t,e){return t+=e.length,Array.isArray(e[0][0][0])&&(t+=e.reduce(function(t,e){return t+e.length-1},0)),t},0)),n},t.prototype._totalPoints=function(t){var e=0;return t.forEach(function(t){e+=t.length}),e},t.prototype._justCoords=function(t,e){var n=this;return void 0===e&&(e=[]),\"object\"==typeof t[0][0]?t.reduce(function(t,e){return t.concat(n._justCoords(e))},e):t},t}(),Dd=function(){function t(){}return t.prototype.write=function(t,e,n,i,o){var r=this,a=0,s=0,l=100;t.forEach(function(t,u){var h=r._justCoords(t),c=r.parts([t],o),d=16*h.length+48+4*(c-1),p=h.reduce(function(t,n){return e.enlarge(t,n)},e.blank());i.setInt32(s,l/2),i.setInt32(s+4,d/2),s+=8,l+=d+8,n.setInt32(a,u+1),n.setInt32(a+4,d/2),n.setInt32(a+8,o,!0),n.setFloat64(a+12,p.xmin,!0),n.setFloat64(a+20,p.ymin,!0),n.setFloat64(a+28,p.xmax,!0),n.setFloat64(a+36,p.ymax,!0),n.setInt32(a+44,c,!0),n.setInt32(a+48,h.length,!0),n.setInt32(a+52,0,!0);for(var f=t.reduce(function(t,e){return Array.isArray(e[0][0])?t=t.concat(e):t.push(e),t},[]),g=function(t){n.setInt32(a+52+4*t,f.reduce(function(e,n,i){return i<t?e+n.length:e},0),!0)},m=1;m<c;m++)g(m);h.forEach(function(t,e){n.setFloat64(a+56+16*e+4*(c-1),t[0],!0),n.setFloat64(a+56+16*e+4*(c-1)+8,t[1],!0)}),a+=d+8})},t.prototype.shpLength=function(t){return 56*t.length+16*this._justCoords(t).length},t.prototype.parts=function(t,e){var n=1;return e!==Ad.geometries.POLYGON&&e!==Ad.geometries.POLYLINE||(n=t.reduce(function(t,e){return t+=e.length,Array.isArray(e[0][0][0])&&(t+=e.reduce(function(t,e){return t+e.length-1},0)),t},0)),n},t.prototype._totalPoints=function(t){var e=0;return t.forEach(function(t){e+=t.length}),e},t.prototype._justCoords=function(t,e){return void 0===e&&(e=[]),\"object\"==typeof t[0][0]?t.reduce(function(t,e){return t.concat(this._justCoords(e))},e):t},t}(),Ed=function(){function t(t){this.ext=t}return t.prototype.writePoints=function(t,e,n,i){var o=100,r=0,a=0;t.forEach(function(t,e){n.setInt32(r,e),n.setInt32(r+4,10),n.setInt32(r+8,1,!0),n.setFloat64(r+12,t[0],!0),n.setFloat64(r+20,t[1],!0),i.setInt32(a,o/2),i.setInt32(a+4,10),a+=8,r+=28,o+=28})},t}(),Rd=n(\"j9Sc\"),Nd=function(){function t(t,e,n){this.multiPoly=t,this.poly=e,this.points=n,this.writers={POINT:null,POLYGON:null,MULTIPOLYGON:null},this.writers.POINT=this.points,this.writers.POLYGON=this.poly,this.writers.MULTIPOLYGON=this.multiPoly}return t.prototype.write=function(t,e,n,i){var o=this.writers[e],r=Ad.geometries[e],a=100+4*(o.parts(n)-n.length)+o.shpLength(n),s=100+o.shxLength(n),l=new ArrayBuffer(a),u=new DataView(l),h=new ArrayBuffer(s),c=new DataView(h),d=o.extent(n);this.writeHeader(u,r),this.writeHeader(c,r),this.writeExtent(d,u),this.writeExtent(d,c),o.write(n,d,new DataView(l,100),new DataView(h,100),r),u.setInt32(24,a/2),c.setInt32(24,50+4*n.length),i(null,{shp:u,shx:c,dbf:Rd.structure(t),prj:Id})},t.prototype.writeHeader=function(t,e){t.setInt32(0,9994),t.setInt32(28,1e3,!0),t.setInt32(32,e,!0)},t.prototype.writeExtent=function(t,e){e.setFloat64(36,t.xmin,!0),e.setFloat64(44,t.ymin,!0),e.setFloat64(52,t.xmax,!0),e.setFloat64(60,t.ymax,!0)},t}(),Bd=n(\"fDnD\"),Fd=function(){function t(t,e){this.geoJson=t,this.writer=e}return t.prototype.zip=function(t,e){var n=this;return this.zipIt=new Bd,new D.a(function(i){return[n.geoJson.point()(t),n.geoJson.line()(t),n.geoJson.polygon()(t),n.geoJson.multipolygon()(t)].forEach(function(t){t.geometries.length&&t.geometries[0].length&&n.writer.write(t.properties,t.type,t.geometries,function(i,o){var r=e&&e.types[t.type.toLowerCase()]?e.types[t.type.toLowerCase()]:t.type;n.zipIt.file(r+\".shp\",o.shp.buffer,{binary:!0}),n.zipIt.file(r+\".shx\",o.shx.buffer,{binary:!0}),n.zipIt.file(r+\".dbf\",o.dbf.buffer,{binary:!0}),n.zipIt.file(r+\".prj\",Id)})}),n.zipIt.generateAsync({type:\"blob\"}).then(function(t){i.next(t),i.complete()})})},t}(),jd=n(\"JEAp\"),Ud=function(){function t(t){this.zip=t}return t.prototype.download=function(t,e){this.zip.zip(t,{folder:\"myshapes\",types:{point:\"mypoints\",multipolygon:\"mymultipolygons\",polygon:\"mypolygons\",line:\"mylines\"}}).subscribe(function(t){Object(jd.saveAs)(t,e+\".zip\")})},t}(),Vd=function(){function t(t){this.shapefile=t,this.geometry=this._getGeometry()}return t.prototype.downloadMapVisualizationAsCSV=function(t){var e=this,n=t.payload&&\"\"!==t.payload?t.payload:{},i=n.mapLegends,o=n.visualization,r=o.analytics,a=o.geofeatures;return o.layers.forEach(function(t){var n=z.find(i,[\"layer\",t.id]);if(n){var o=e._prepareCSVDataForDownload(r[t.id],t,n.legend,a[t.id]),s=e._convertToBinaryData(o,\"csv\");s&&setTimeout(function(){Object(jd.saveAs)(s,t.name+\".csv\")},10)}}),null},t.prototype.downloadMapVisualizationAsKML=function(t){var e=this,n=t.payload&&\"\"!==t.payload?t.payload:{},i=n.mapLegends,o=n.visualization,r=o.analytics,a=o.geofeatures;return o.layers.forEach(function(t,n){var o=z.find(i,[\"layer\",t.id]).legend,s=e._prepareGeoJsonDataForDownload(a[t.id],r[t.id],o),l=e._prepareKMLDataForDownload(s,t),u=e._convertToBinaryData(l,\"kml\");u&&setTimeout(function(){Object(jd.saveAs)(u,t.name+\".kml\")},10)}),null},t.prototype.downloadMapVisualizationAsGML=function(t){return null},t.prototype.downloadMapVisualizationAsSHAPEFILE=function(t){var e=this,n=t.payload&&\"\"!==t.payload?t.payload:{},i=n.mapLegends,o=n.visualization,r=o.analytics,a=o.geofeatures;return o.layers.forEach(function(t,n){var o=z.find(i,[\"layer\",t.id]).legend,s=e._prepareGeoJsonDataForDownload(a[t.id],r[t.id],o);e.shapefile.download(s,t.name)}),null},t.prototype.downloadMapVisualizationAsGeoJSON=function(t){var e=this,n=t.payload&&\"\"!==t.payload?t.payload:{},i=n.mapLegends,o=n.visualization;return o.layers.forEach(function(t,n){var r=z.find(i,[\"layer\",t.id]).legend,a=e._prepareGeoJsonDataForDownload(o.geofeatures[t.id],o.analytics[t.id],r),s=e._convertToBinaryData(JSON.stringify(a),\"json\");s&&setTimeout(function(){Object(jd.saveAs)(s,t.name+\".json\")},10)}),null},t.prototype._convertToBinaryData=function(t,e){return new Blob([t],{type:\"text/\"+e+\";charset=utf-8\"})},t.prototype._prepareKMLDataForDownload=function(t,e){return this.dataObjectToKML(t,{documentName:e.name,documentDescription:e.name,name:\"name\",description:\"description\",simplestyle:!0,timestamp:\"timestamp\"})},t.prototype._prepareCSVDataForDownload=function(t,e,n,i){var o,r,a=this;if(null===t)return null;var s=[];if(!t.hasOwnProperty(\"headers\"))return\"\";var l=z.findIndex(t.headers,[\"name\",\"ou\"]),u=z.findIndex(t.headers,[\"name\",\"value\"]);return r=[\"CODE\",\"ID\",\"LEVEL\",\"NAME\",\"PARENT\",\"PARENT ID\"],\"event\"===e.tyope||(t.metaData.dx.forEach(function(e,n){r.push(t.metaData.names[e]),s.push(e),n===t.metaData.dx.length-1&&(r.push(\"RANGE\"),r.push(\"FREQUENCY\"),r.push(\"COLOR\"),r.push(\"COORDINATE\"))}),o=\"\",o+=r.join(\",\"),o+=\"\\n\",t.rows.forEach(function(e){var r=a._getOrgUnitCoordinateObject(t.headers,e,i);if(r){o+=r.code?r.code:\"\",o+=\",\",o+=r.id,o+=\",\",o+=r.le,o+=\",\",o+=t.metaData.names[e[l]],o+=\",\",o+=r.pn,o+=\",\",o+=r.pi,o+=\",\",s.forEach(function(t,n){o+=e[u]}),o+=\",\";var h=a._getClass(t.headers,e,n);o+=h?h.startValue+\" - \"+h.endValue:\"\",o+=\",\",o+=h?h.count:\"\",o+=\",\",o+=h?h.color:\"\",o+=\",\",o+=a._refineCoordinate(r,r.co),o+=\"\\n\"}})),o},t.prototype._prepareGeoJsonDataForDownload=function(t,e,n){return this._prepareGeoJsonDataFromGeoFeatures(t,e,n)},t.prototype._prepareGeoJsonDataFromGeoFeatures=function(t,e,n){return{type:\"FeatureCollection\",features:this._getGeoJSONObject(t,e,n)}},t.prototype._getGeoJSONObject=function(t,e,n){var i=this,o=[];if(t)return t.forEach(function(t){var r={type:\"Feature\",le:t.le,geometry:{type:\"\",coordinates:new Function(\"return \"+t.co)()},properties:{id:t.id,name:t.na,percentage:\"\",\"dataElement.id\":\"\",\"dataElement.name\":\"\",\"dataElement.value\":0,classInterval:\"\",fill:\"#00ff00\",\"fill-opacity\":1,stroke:\"#000000\",\"stroke-opacity\":1,\"stroke-width\":1}};if(e){var a=i._getDataForGeoFeature(t.id,e);a&&(r.properties[\"dataElement.id\"]=a.id,r.properties[\"dataElement.name\"]=a.name,r.properties[\"dataElement.value\"]=a.value)}if(n){var s=i._getClass(e.headers,r.properties[\"dataElement.value\"],n);r.properties.fill=s.color,r.properties.classInterval=s.startValue+\" - \"+s.endValue+\" (\"+s.count+\")\",r.properties.frequency=s.count}t.le>=4?r.geometry.type=\"Point\":t.le>=1&&(r.geometry.type=\"MultiPolygon\"),o.push(r)}),o},t.prototype._getDataForGeoFeature=function(t,e){var n={},i=0,o=0,r=0;return e.headers.forEach(function(t,e){\"dx\"===t.name&&(r=e),\"ou\"===t.name&&(i=e),\"value\"===t.name&&(o=e)}),e.rows.forEach(function(a){t===a[i]&&(n.id=a[r],n.name=e.metaData.names[a[r]],n.value=a[o])}),n.hasOwnProperty(\"id\")?n:this._getDefaultData(e)},t.prototype._getDefaultData=function(t){var e={};return e.id=t.metaData.dx[0],e.name=t.metaData.names[e.id],e.value=\"\",e},t.prototype._refineCoordinate=function(t,e){var n=new Function(\"return (\"+e+\")\")();switch(t.ty){case 1:return'\"POINT('+JSON.stringify(n).replace(/\\]\\,\\[/g,\":\").replace(/\\,/g,\" \").replace(/\\]/g,\"\").replace(/\\[/g,\"\").replace(/\\:/g,\",\")+')\"';case 2:return this.isMultiPolygon(t,n)?'\"MULTIPOLYGON(('+this.getMultiPolygonWKT(n)+'))\"':'\"POLYGON(('+JSON.stringify(n[0][0]).replace(/\\]\\,\\[/g,\":\").replace(/\\,/g,\" \").replace(/\\]/g,\"\").replace(/\\[/g,\"\").replace(/\\:/g,\",\")+'))\"'}},t.prototype.getMultiPolygonWKT=function(t){return\"\"+t.map(function(t){return\"(\"+t[0].map(function(t){return t[0]+\" \"+t[1]}).join(\", \")+\")\"}).join(\", \")},t.prototype.isMultiPolygon=function(t,e){return e.length>1&&(console.log(t.na),console.log(e,e.length),!0)},t.prototype._getClass=function(t,e,n){var i=0;t.forEach(function(t,e){\"value\"===t.name&&(i=e)});var o=isNaN(e)?e[i]:e,r={};return n.items.forEach(function(t,e){t.startValue<=o&&t.endValue>=o&&(r=t)}),r},t.prototype._getOrgUnitCoordinateObject=function(t,e,n){var i=0;return t.forEach(function(t,e){\"ou\"===t.name&&(i=e)}),z.find(n,[\"id\",e[i]])},t.prototype.dataObjectToKML=function(t,e){return\"<?xml version='1.0' encoding='utf-8' ?>\"+this._tag(\"kml\",this._tag(\"Document\",this._documentName(e=e||{documentName:void 0,documentDescription:void 0,name:\"name\",description:\"description\",simplestyle:!0,timestamp:\"timestamp\"})+this._documentDescription(e)+this._root(t,e)),[[\"xmlns\",\"http://www.opengis.net/kml/2.2\"]])},t.prototype._root=function(t,e){if(!t.type)return\"\";var n=[];switch(t.type){case\"FeatureCollection\":return t.features?t.features.map(this._feature(e,n)).join(\"\"):\"\";case\"Feature\":return this._feature(e,n)(t);default:return this._feature(e,n)({type:\"Feature\",geometry:t,properties:{}})}},t.prototype._feature=function(t,e){var n=this;return function(i){if(!i.properties||!n.geometry.valid(i.geometry))return\"\";var o=n.geometry.any(i.geometry);if(!o)return\"\";var r=\"\",a=\"\";if(t.simplestyle){var s=n._hashStyle(i.properties);s&&(n.geometry.isPoint(i.geometry)&&n._hasMarkerStyle(i.properties)?(-1===e.indexOf(s)&&(r=n._markerStyle(i.properties,s),e.push(s)),a=n._tag(\"styleUrl\",\"#\"+s)):(n.geometry.isPolygon(i.geometry)||n.geometry.isLine(i.geometry))&&n._hasPolygonAndLineStyle(i.properties)&&(-1===e.indexOf(s)&&(r=n._polygonAndLineStyle(i.properties,s),e.push(s)),a=n._tag(\"styleUrl\",\"#\"+s)))}return r+n._tag(\"Placemark\",n._name(i.properties,t)+n._description(i.properties,t)+n._timestamp(i.properties,t)+o+a)}},t.prototype._documentName=function(t){return void 0!==t.documentName?this._tag(\"name\",t.documentName):\"\"},t.prototype._documentDescription=function(t){return void 0!==t.documentDescription?this._tag(\"description\",t.documentDescription):\"\"},t.prototype._name=function(t,e){return t[e.name]?this._tag(\"name\",this._encode(t[e.name])):\"\"},t.prototype._description=function(t,e){return t[e.description]?this._tag(\"description\",this._encode(t[e.description])):\"\"},t.prototype._timestamp=function(t,e){return t[e.timestamp]?this._tag(\"TimeStamp\",this._tag(\"when\",this._encode(t[e.timestamp]))):\"\"},t.prototype._getGeometry=function(){var t=this,e={Point:function(e){return t._tag(\"Point\",t._tag(\"coordinates\",e.coordinates.join(\",\")))},LineString:function(e){return t._tag(\"LineString\",t._tag(\"coordinates\",t._linearring(e.coordinates)))},Polygon:function(e){if(!e.coordinates.length)return\"\";var n=e.coordinates[0],i=e.coordinates.slice(1),o=t._tag(\"outerBoundaryIs\",t._tag(\"LinearRing\",t._tag(\"coordinates\",t._linearring(n)))),r=i.map(function(e){return t._tag(\"innerBoundaryIs\",t._tag(\"LinearRing\",t._tag(\"coordinates\",t._linearring(e))))}).join(\"\");return t._tag(\"Polygon\",o+r)},MultiPoint:function(n){return n.coordinates.length?t._tag(\"MultiGeometry\",n.coordinates.map(function(t){return e.Point({coordinates:t})}).join(\"\")):\"\"},MultiPolygon:function(n){return n.coordinates.length?t._tag(\"MultiGeometry\",n.coordinates.map(function(t){return e.Polygon({coordinates:t})}).join(\"\")):\"\"},MultiLineString:function(n){return n.coordinates.length?t._tag(\"MultiGeometry\",n.coordinates.map(function(t){return e.LineString({coordinates:t})}).join(\"\")):\"\"},GeometryCollection:function(n){return t._tag(\"MultiGeometry\",n.geometries.map(e.any).join(\"\"))},valid:function(t){return t&&t.type&&(t.coordinates||\"GeometryCollection\"===t.type&&t.geometries&&t.geometries.every(e.valid))},any:function(t){return e[t.type]?e[t.type](t):\"\"},isPoint:function(t){return\"Point\"===t.type||\"MultiPoint\"===t.type},isPolygon:function(t){return\"Polygon\"===t.type||\"MultiPolygon\"===t.type},isLine:function(t){return\"LineString\"===t.type||\"MultiLineString\"===t.type}};return e},t.prototype._linearring=function(t){return t.map(function(t){return t.join(\",\")}).join(\" \")},t.prototype._extendeddata=function(t){return this._tag(\"ExtendedData\",this._pairs(t).map(this._data).join(\"\"))},t.prototype._data=function(t){return this._tag(\"Data\",this._tag(\"value\",this._encode(t[1])),[[\"name\",this._encode(t[0])]])},t.prototype._pairs=function(t){var e=[];for(var n in t)e.push([n,t[n]]);return e},t.prototype._hasMarkerStyle=function(t){return!!(t[\"marker-size\"]||t[\"marker-symbol\"]||t[\"marker-color\"])},t.prototype._markerStyle=function(t,e){return this._tag(\"Style\",this._tag(\"IconStyle\",this._tag(\"Icon\",this._tag(\"href\",this._iconUrl(t))))+this._iconSize(t),[[\"id\",e]])},t.prototype._iconUrl=function(t){var e=t[\"marker-size\"]||\"medium\",n=t[\"marker-symbol\"]?\"-\"+t[\"marker-symbol\"]:\"\",i=(t[\"marker-color\"]||\"7e7e7e\").replace(\"#\",\"\");return\"https://api.tiles.mapbox.com/v3/marker/pin-\"+e.charAt(0)+n+\"+\"+i+\".png\"},t.prototype._iconSize=function(t){return this._tag(\"hotSpot\",\"\",[[\"xunits\",\"fraction\"],[\"yunits\",\"fraction\"],[\"x\",.5],[\"y\",.5]])},t.prototype._hasPolygonAndLineStyle=function(t){for(var e in t)if({stroke:!0,\"stroke-opacity\":!0,\"stroke-width\":!0,fill:!0,\"fill-opacity\":!0}[e])return!0},t.prototype._polygonAndLineStyle=function(t,e){var n=this._tag(\"LineStyle\",[this._tag(\"color\",this._hexToKmlColor(t.stroke,t[\"stroke-opacity\"])||\"ff555555\")+this._tag(\"width\",void 0===t[\"stroke-width\"]?2:t[\"stroke-width\"])]),i=\"\";return(t.fill||t[\"fill-opacity\"])&&(i=this._tag(\"PolyStyle\",[this._tag(\"color\",this._hexToKmlColor(t.fill,t[\"fill-opacity\"])||\"88555555\")])),this._tag(\"Style\",n+i,[[\"id\",e]])},t.prototype._hexToKmlColor=function(t,e){if(\"string\"!=typeof t)return\"\";if(3===(t=t.replace(\"#\",\"\").toLowerCase()).length)t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2];else if(6!==t.length)return\"\";var n=t[0]+t[1],i=t[2]+t[3],o=t[4]+t[5],r=\"ff\";return\"number\"==typeof e&&e>=0&&e<=1&&((r=(255*e).toString(16)).indexOf(\".\")>-1&&(r=r.substr(0,r.indexOf(\".\"))),r.length<2&&(r=\"0\"+r)),r+o+i+n},t.prototype._hashStyle=function(t){var e=\"\";return t[\"marker-symbol\"]&&(e=e+\"ms\"+t[\"marker-symbol\"]),t[\"marker-color\"]&&(e=e+\"mc\"+t[\"marker-color\"].replace(\"#\",\"\")),t[\"marker-size\"]&&(e=e+\"ms\"+t[\"marker-size\"]),t.stroke&&(e=e+\"s\"+t.stroke.replace(\"#\",\"\")),t[\"stroke-width\"]&&(e=e+\"sw\"+t[\"stroke-width\"].toString().replace(\".\",\"\")),t[\"stroke-opacity\"]&&(e=e+\"mo\"+t[\"stroke-opacity\"].toString().replace(\".\",\"\")),t.fill&&(e=e+\"#\"+t.fill.replace(\"#\",\"\")),t[\"fill-opacity\"]&&(e=e+\"fo\"+t[\"fill-opacity\"].toString().replace(\".\",\"\")),e},t.prototype._attr=function(t){return t&&t.length?\" \"+t.map(function(t){return t[0]+\"='\"+t[1]+\"'\"}).join(\" \"):\"\"},t.prototype._tagClose=function(t,e){return\"<\"+t+this._attr(e)+\"/>\"},t.prototype._tag=function(t,e,n){return\"<\"+t+this._attr(n)+\">\"+e+\"</\"+t+\">\"},t.prototype._encode=function(t){return(null===t?\"\":t.toString()).replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/'/g,\"&quot;\")},t}(),Gd=function(){function t(t){this.httpClient=t}return t.prototype.loadAll=function(){return this.httpClient.get(\"messageConversations.json?fields=id,name,displayName,href,read,created,lastUpdated,followUp,subject,messageType,lastMessage,priority,status,lastSender[id,name],user[id,name],messages[id,created,lastUpdated,name,displayName,text,sender[id,name]]&paging=false\").pipe(Object(Ti.a)(function(t){return t.messageConversations}))},t}(),Hd=n(\"/PH2\"),Zd=function(){function t(t,e,n){var i=this;this.actions$=t,this.store=e,this.messageConversationService=n,this.initializeMessageConvsersation$=this.actions$.pipe(Object(Si.d)(jc.INITIALIZE_MESSAGE_CONVERSATION),Object(Hd.a)(this.store),Object(bd.a)(function(t){var e=t[1];e.messageConversation&&e.messageConversation.loading&&e.messageConversation.loaded||i.store.dispatch(new dd)})),this.loadMessageConversations$=this.actions$.pipe(Object(Si.d)(jc.LOAD_MESSAGE_CONVERSATION),Object(Ai.a)(function(){return i.messageConversationService.loadAll().pipe(Object(Ti.a)(function(t){return new pd(t)}),Object(Ii.a)(function(t){return Object(Pi.a)(new fd(t))}))}))}return I.__decorate([Object(Si.b)({dispatch:!1}),I.__metadata(\"design:type\",Object)],t.prototype,\"initializeMessageConvsersation$\",void 0),I.__decorate([Object(Si.b)(),I.__metadata(\"design:type\",Object)],t.prototype,\"loadMessageConversations$\",void 0),t}(),Wd=function(){return function(){}}(),Yd=function(){return function(){}}(),Xd=function(){return function(){}}(),$d=function(){return function(){}}(),Kd=function(){return function(){}}(),qd=function(){return function(){}}(),Jd=function(){return function(){}}();n.d(e,\"DashboardModuleNgFactory\",function(){return Qd});var Qd=i[\"\\u0275cmf\"](o,[],function(t){return i[\"\\u0275mod\"]([i[\"\\u0275mpd\"](512,i.ComponentFactoryResolver,i[\"\\u0275CodegenComponentFactoryResolver\"],[[8,[r.a,Uc]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i[\"\\u0275mpd\"](4608,a.NgLocalization,a.NgLocaleLocalization,[i.LOCALE_ID,[2,a[\"\\u0275angular_packages_common_common_a\"]]]),i[\"\\u0275mpd\"](4608,p[\"\\u0275angular_packages_forms_forms_j\"],p[\"\\u0275angular_packages_forms_forms_j\"],[]),i[\"\\u0275mpd\"](4608,Vc,Vc,[tc.a]),i[\"\\u0275mpd\"](4608,Gc.a,Gc.a,[]),i[\"\\u0275mpd\"](4608,u.a,u.a,[tc.a]),i[\"\\u0275mpd\"](4608,d.a,d.a,[]),i[\"\\u0275mpd\"](4608,Hc.c,Hc.c,[]),i[\"\\u0275mpd\"](4608,Hc.h,Hc.b,[]),i[\"\\u0275mpd\"](5120,Hc.j,Hc.k,[]),i[\"\\u0275mpd\"](4608,Hc.i,Hc.i,[Hc.c,Hc.h,Hc.j]),i[\"\\u0275mpd\"](4608,Hc.f,Hc.a,[]),i[\"\\u0275mpd\"](5120,Hc.d,Hc.l,[Hc.i,Hc.f]),i[\"\\u0275mpd\"](4608,$.DragulaService,$.DragulaService,[]),i[\"\\u0275mpd\"](4608,f.e,f.e,[]),i[\"\\u0275mpd\"](4608,L.b,L.b,[]),i[\"\\u0275mpd\"](5120,L.c,L.g,[]),i[\"\\u0275mpd\"](5120,L.d,L.h,[L.b]),i[\"\\u0275mpd\"](4608,A.a,A.a,[tc.a]),i[\"\\u0275mpd\"](4608,$t,$t,[]),i[\"\\u0275mpd\"](4608,Vt,Vt,[]),i[\"\\u0275mpd\"](4608,_e,_e,[]),i[\"\\u0275mpd\"](4608,te,te,[]),i[\"\\u0275mpd\"](4608,Zc,Zc,[]),i[\"\\u0275mpd\"](4608,Wc,Wc,[]),i[\"\\u0275mpd\"](4608,Yc,Yc,[Xc.c]),i[\"\\u0275mpd\"](4608,$c,$c,[Xc.c,Yc]),i[\"\\u0275mpd\"](4608,Kc,Kc,[tc.a]),i[\"\\u0275mpd\"](1073742336,a.CommonModule,a.CommonModule,[]),i[\"\\u0275mpd\"](1073742336,p[\"\\u0275angular_packages_forms_forms_bc\"],p[\"\\u0275angular_packages_forms_forms_bc\"],[]),i[\"\\u0275mpd\"](1073742336,p.FormsModule,p.FormsModule,[]),i[\"\\u0275mpd\"](1073742336,qc.r,qc.r,[[2,qc.y],[2,qc.o]]),i[\"\\u0275mpd\"](1073742336,Jc,Jc,[]),i[\"\\u0275mpd\"](1073742336,Qc,Qc,[]),i[\"\\u0275mpd\"](1073742336,td.a,td.a,[]),i[\"\\u0275mpd\"](1073742336,ed.a,ed.a,[]),i[\"\\u0275mpd\"](1073742336,nd.b,nd.b,[]),i[\"\\u0275mpd\"](1073742336,id.a,id.a,[]),i[\"\\u0275mpd\"](1073742336,od.a,od.a,[]),i[\"\\u0275mpd\"](1073742336,rd.a,rd.a,[]),i[\"\\u0275mpd\"](1073742336,Hc.e,Hc.e,[]),i[\"\\u0275mpd\"](1073742336,ad.DragulaModule,ad.DragulaModule,[]),i[\"\\u0275mpd\"](1073742336,f.a,f.a,[]),i[\"\\u0275mpd\"](1073742336,L.a,L.a,[]),i[\"\\u0275mpd\"](1073742336,sd.a,sd.a,[]),i[\"\\u0275mpd\"](1073742336,ld.a,ld.a,[]),i[\"\\u0275mpd\"](1073742336,ud,ud,[]),i[\"\\u0275mpd\"](1073742336,hd,hd,[]),i[\"\\u0275mpd\"](1073742336,cd.VirtualScrollModule,cd.VirtualScrollModule,[]),i[\"\\u0275mpd\"](1024,Ie.j,function(){return[{key:\"map\",reducerFactory:Ie.z,metaReducers:[],initialState:void 0},{key:\"feedbackMessage\",reducerFactory:Ie.z,metaReducers:[],initialState:void 0}]},[]),i[\"\\u0275mpd\"](1024,Ie.q,function(){return[{baselayerLegend:li,visualizationObjects:pn,legendSets:In,visualizationLegend:Xn},{messageConversation:yd}]},[]),i[\"\\u0275mpd\"](1024,Ie.r,function(t,e){return[t,e]},[Ie.q,Ie.q]),i[\"\\u0275mpd\"](1024,Ie.b,function(t,e,n,i,o,r){return[Ie.w(t,e,n),Ie.w(i,o,r)]},[i.Injector,Ie.q,Ie.r,i.Injector,Ie.q,Ie.r]),i[\"\\u0275mpd\"](1073873408,Ie.o,Ie.o,[Ie.j,Ie.b,Ie.g,Ie.p]),i[\"\\u0275mpd\"](512,kd,kd,[tc.a,Cd.a]),i[\"\\u0275mpd\"](512,Od,Od,[Xc.c]),i[\"\\u0275mpd\"](512,Md,Md,[Xc.c]),i[\"\\u0275mpd\"](512,Or,Or,[Si.a,Ie.n,kd,Od,Md]),i[\"\\u0275mpd\"](512,Mr,Mr,[Si.a,Ie.n,Od]),i[\"\\u0275mpd\"](512,Ld,Ld,[Xc.c]),i[\"\\u0275mpd\"](512,Lr,Lr,[Si.a,Ld]),i[\"\\u0275mpd\"](512,Sr,Sr,[Si.a,Md]),i[\"\\u0275mpd\"](512,Sd,Sd,[Xc.c]),i[\"\\u0275mpd\"](512,Pr,Pr,[Si.a,Ie.n,Sd]),i[\"\\u0275mpd\"](512,Tr,Tr,[Si.a]),i[\"\\u0275mpd\"](512,Ar,Ar,[Si.a,kd]),i[\"\\u0275mpd\"](512,Pd,Pd,[]),i[\"\\u0275mpd\"](512,Td,Td,[]),i[\"\\u0275mpd\"](512,zd,zd,[Td]),i[\"\\u0275mpd\"](512,Dd,Dd,[]),i[\"\\u0275mpd\"](512,Ed,Ed,[Td]),i[\"\\u0275mpd\"](512,Nd,Nd,[zd,Dd,Ed]),i[\"\\u0275mpd\"](512,Fd,Fd,[Pd,Nd]),i[\"\\u0275mpd\"](512,Ud,Ud,[Fd]),i[\"\\u0275mpd\"](512,Vd,Vd,[Ud]),i[\"\\u0275mpd\"](512,Ir,Ir,[Si.a,Vd,Ie.n]),i[\"\\u0275mpd\"](512,Gd,Gd,[tc.a]),i[\"\\u0275mpd\"](512,Zd,Zd,[Si.a,Ie.n,Gd]),i[\"\\u0275mpd\"](1024,Si.i,function(t,e,n,i,o,r,a,s,l,u){return[Si.e(t,e,n,i,o,r,a,s,l),Si.e(u)]},[Or,Mr,Lr,Sr,Pr,Tr,Ar,Tr,Ir,Zd]),i[\"\\u0275mpd\"](1073742336,Si.g,Si.g,[Si.f,Si.i,[2,Ie.p],[2,Ie.o]]),i[\"\\u0275mpd\"](1073742336,Wd,Wd,[]),i[\"\\u0275mpd\"](1073742336,Yd,Yd,[]),i[\"\\u0275mpd\"](1073742336,Xd,Xd,[]),i[\"\\u0275mpd\"](1073742336,$d,$d,[]),i[\"\\u0275mpd\"](1073742336,Kd,Kd,[]),i[\"\\u0275mpd\"](1073742336,qd,qd,[]),i[\"\\u0275mpd\"](1073742336,Jd,Jd,[]),i[\"\\u0275mpd\"](1073742336,o,o,[]),i[\"\\u0275mpd\"](1024,qc.m,function(){return[[{path:\"\",component:Ac}]]},[])])})},nm4c:function(t,e,n){\"use strict\";var i=n(\"vn/o\"),o=n(\"yDR0\"),r=n(\"7tol\"),a=n(\"frGm\"),s=n(\"aFNf\"),l=1,u=2,h=0,c=-2,d=1,p=852,f=592;function g(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(t){var e;return t&&t.state?(t.total_in=t.total_out=(e=t.state).total=0,t.msg=\"\",e.wrap&&(t.adler=1&e.wrap),e.mode=d,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(p),e.distcode=e.distdyn=new i.Buf32(f),e.sane=1,e.back=-1,h):c}function y(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,v(t)):c}function _(t,e){var n,i;return t&&t.state?(e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?c:(null!==(i=t.state).window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,y(t))):c}function b(t,e){var n,i;return t?(i=new m,t.state=i,i.window=null,(n=_(t,e))!==h&&(t.state=null),n):c}var x,w,C=!0;function k(t){if(C){var e;for(x=new i.Buf32(512),w=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(l,t.lens,0,288,x,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(u,t.lens,0,32,w,0,t.work,{bits:5}),C=!1}t.lencode=x,t.lenbits=9,t.distcode=w,t.distbits=5}function O(t,e,n,o){var r,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),o>=a.wsize?(i.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((r=a.wsize-a.wnext)>o&&(r=o),i.arraySet(a.window,e,n-o,r,a.wnext),(o-=r)?(i.arraySet(a.window,e,n-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0}e.inflateReset=y,e.inflateReset2=_,e.inflateResetKeep=v,e.inflateInit=function(t){return b(t,15)},e.inflateInit2=b,e.inflate=function(t,e){var n,p,f,m,v,y,_,b,x,w,C,M,L,S,P,T,I,A,z,D,E,R,N,B,F=0,j=new i.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return c;12===(n=t.state).mode&&(n.mode=13),v=t.next_out,f=t.output,m=t.next_in,p=t.input,b=n.hold,x=n.bits,w=y=t.avail_in,C=_=t.avail_out,R=h;t:for(;;)switch(n.mode){case d:if(0===n.wrap){n.mode=13;break}for(;x<16;){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}if(2&n.wrap&&35615===b){n.check=0,j[0]=255&b,j[1]=b>>>8&255,n.check=r(n.check,j,2,0),b=0,x=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&b)<<8)+(b>>8))%31){t.msg=\"incorrect header check\",n.mode=30;break}if(8!=(15&b)){t.msg=\"unknown compression method\",n.mode=30;break}if(x-=4,E=8+(15&(b>>>=4)),0===n.wbits)n.wbits=E;else if(E>n.wbits){t.msg=\"invalid window size\",n.mode=30;break}n.dmax=1<<E,t.adler=n.check=1,n.mode=512&b?10:12,b=0,x=0;break;case 2:for(;x<16;){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}if(n.flags=b,8!=(255&n.flags)){t.msg=\"unknown compression method\",n.mode=30;break}if(57344&n.flags){t.msg=\"unknown header flags set\",n.mode=30;break}n.head&&(n.head.text=b>>8&1),512&n.flags&&(j[0]=255&b,j[1]=b>>>8&255,n.check=r(n.check,j,2,0)),b=0,x=0,n.mode=3;case 3:for(;x<32;){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}n.head&&(n.head.time=b),512&n.flags&&(j[0]=255&b,j[1]=b>>>8&255,j[2]=b>>>16&255,j[3]=b>>>24&255,n.check=r(n.check,j,4,0)),b=0,x=0,n.mode=4;case 4:for(;x<16;){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}n.head&&(n.head.xflags=255&b,n.head.os=b>>8),512&n.flags&&(j[0]=255&b,j[1]=b>>>8&255,n.check=r(n.check,j,2,0)),b=0,x=0,n.mode=5;case 5:if(1024&n.flags){for(;x<16;){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}n.length=b,n.head&&(n.head.extra_len=b),512&n.flags&&(j[0]=255&b,j[1]=b>>>8&255,n.check=r(n.check,j,2,0)),b=0,x=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((M=n.length)>y&&(M=y),M&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,p,m,M,E)),512&n.flags&&(n.check=r(n.check,p,M,m)),y-=M,m+=M,n.length-=M),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break t;M=0;do{E=p[m+M++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E))}while(E&&M<y);if(512&n.flags&&(n.check=r(n.check,p,M,m)),y-=M,m+=M,E)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break t;M=0;do{E=p[m+M++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E))}while(E&&M<y);if(512&n.flags&&(n.check=r(n.check,p,M,m)),y-=M,m+=M,E)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;x<16;){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}if(b!==(65535&n.check)){t.msg=\"header crc mismatch\",n.mode=30;break}b=0,x=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;x<32;){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}t.adler=n.check=g(b),b=0,x=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=v,t.avail_out=_,t.next_in=m,t.avail_in=y,n.hold=b,n.bits=x,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){b>>>=7&x,x-=7&x,n.mode=27;break}for(;x<3;){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}switch(n.last=1&b,x-=1,3&(b>>>=1)){case 0:n.mode=14;break;case 1:if(k(n),n.mode=20,6===e){b>>>=2,x-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg=\"invalid block type\",n.mode=30}b>>>=2,x-=2;break;case 14:for(b>>>=7&x,x-=7&x;x<32;){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}if((65535&b)!=(b>>>16^65535)){t.msg=\"invalid stored block lengths\",n.mode=30;break}if(n.length=65535&b,b=0,x=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(M=n.length){if(M>y&&(M=y),M>_&&(M=_),0===M)break t;i.arraySet(f,p,m,M,v),y-=M,m+=M,_-=M,v+=M,n.length-=M;break}n.mode=12;break;case 17:for(;x<14;){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}if(n.nlen=257+(31&b),x-=5,n.ndist=1+(31&(b>>>=5)),x-=5,n.ncode=4+(15&(b>>>=5)),b>>>=4,x-=4,n.nlen>286||n.ndist>30){t.msg=\"too many length or distance symbols\",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;x<3;){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}n.lens[U[n.have++]]=7&b,b>>>=3,x-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R=s(0,n.lens,0,19,n.lencode,0,n.work,N={bits:n.lenbits}),n.lenbits=N.bits,R){t.msg=\"invalid code lengths set\",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;T=(F=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,I=65535&F,!((P=F>>>24)<=x);){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}if(I<16)b>>>=P,x-=P,n.lens[n.have++]=I;else{if(16===I){for(B=P+2;x<B;){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}if(b>>>=P,x-=P,0===n.have){t.msg=\"invalid bit length repeat\",n.mode=30;break}E=n.lens[n.have-1],M=3+(3&b),b>>>=2,x-=2}else if(17===I){for(B=P+3;x<B;){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}x-=P,E=0,M=3+(7&(b>>>=P)),b>>>=3,x-=3}else{for(B=P+7;x<B;){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}x-=P,E=0,M=11+(127&(b>>>=P)),b>>>=7,x-=7}if(n.have+M>n.nlen+n.ndist){t.msg=\"invalid bit length repeat\",n.mode=30;break}for(;M--;)n.lens[n.have++]=E}}if(30===n.mode)break;if(0===n.lens[256]){t.msg=\"invalid code -- missing end-of-block\",n.mode=30;break}if(n.lenbits=9,R=s(l,n.lens,0,n.nlen,n.lencode,0,n.work,N={bits:n.lenbits}),n.lenbits=N.bits,R){t.msg=\"invalid literal/lengths set\",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,R=s(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N={bits:n.distbits}),n.distbits=N.bits,R){t.msg=\"invalid distances set\",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(y>=6&&_>=258){t.next_out=v,t.avail_out=_,t.next_in=m,t.avail_in=y,n.hold=b,n.bits=x,a(t,C),v=t.next_out,f=t.output,_=t.avail_out,m=t.next_in,p=t.input,y=t.avail_in,b=n.hold,x=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;T=(F=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,I=65535&F,!((P=F>>>24)<=x);){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}if(T&&0==(240&T)){for(A=P,z=T,D=I;T=(F=n.lencode[D+((b&(1<<A+z)-1)>>A)])>>>16&255,I=65535&F,!(A+(P=F>>>24)<=x);){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}b>>>=A,x-=A,n.back+=A}if(b>>>=P,x-=P,n.back+=P,n.length=I,0===T){n.mode=26;break}if(32&T){n.back=-1,n.mode=12;break}if(64&T){t.msg=\"invalid literal/length code\",n.mode=30;break}n.extra=15&T,n.mode=22;case 22:if(n.extra){for(B=n.extra;x<B;){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}n.length+=b&(1<<n.extra)-1,b>>>=n.extra,x-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;T=(F=n.distcode[b&(1<<n.distbits)-1])>>>16&255,I=65535&F,!((P=F>>>24)<=x);){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}if(0==(240&T)){for(A=P,z=T,D=I;T=(F=n.distcode[D+((b&(1<<A+z)-1)>>A)])>>>16&255,I=65535&F,!(A+(P=F>>>24)<=x);){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}b>>>=A,x-=A,n.back+=A}if(b>>>=P,x-=P,n.back+=P,64&T){t.msg=\"invalid distance code\",n.mode=30;break}n.offset=I,n.extra=15&T,n.mode=24;case 24:if(n.extra){for(B=n.extra;x<B;){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}n.offset+=b&(1<<n.extra)-1,b>>>=n.extra,x-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg=\"invalid distance too far back\",n.mode=30;break}n.mode=25;case 25:if(0===_)break t;if(n.offset>(M=C-_)){if((M=n.offset-M)>n.whave&&n.sane){t.msg=\"invalid distance too far back\",n.mode=30;break}L=M>n.wnext?n.wsize-(M-=n.wnext):n.wnext-M,M>n.length&&(M=n.length),S=n.window}else S=f,L=v-n.offset,M=n.length;M>_&&(M=_),_-=M,n.length-=M;do{f[v++]=S[L++]}while(--M);0===n.length&&(n.mode=21);break;case 26:if(0===_)break t;f[v++]=n.length,_--,n.mode=21;break;case 27:if(n.wrap){for(;x<32;){if(0===y)break t;y--,b|=p[m++]<<x,x+=8}if(t.total_out+=C-=_,n.total+=C,C&&(t.adler=n.check=n.flags?r(n.check,f,C,v-C):o(n.check,f,C,v-C)),C=_,(n.flags?b:g(b))!==n.check){t.msg=\"incorrect data check\",n.mode=30;break}b=0,x=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;x<32;){if(0===y)break t;y--,b+=p[m++]<<x,x+=8}if(b!==(4294967295&n.total)){t.msg=\"incorrect length check\",n.mode=30;break}b=0,x=0}n.mode=29;case 29:R=1;break t;case 30:R=-3;break t;case 31:return-4;case 32:default:return c}return t.next_out=v,t.avail_out=_,t.next_in=m,t.avail_in=y,n.hold=b,n.bits=x,(n.wsize||C!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&O(t,t.output,t.next_out,C-t.avail_out)?(n.mode=31,-4):(C-=t.avail_out,t.total_in+=w-=t.avail_in,t.total_out+=C,n.total+=C,n.wrap&&C&&(t.adler=n.check=n.flags?r(n.check,f,C,t.next_out-C):o(n.check,f,C,t.next_out-C)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===w&&0===C||4===e)&&R===h&&(R=-5),R)},e.inflateEnd=function(t){if(!t||!t.state)return c;var e=t.state;return e.window&&(e.window=null),t.state=null,h},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?c:(n.head=e,e.done=!1,h):c},e.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?c:11===n.mode&&o(1,e,i,0)!==n.check?-3:O(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,h):c},e.inflateInfo=\"pako inflate (from Nodeca project)\"},oXfm:function(t,e,n){\"use strict\";var i,o=n(\"vn/o\"),r=n(\"B/RK\"),a=n(\"yDR0\"),s=n(\"7tol\"),l=n(\"Tcbo\"),u=0,h=4,c=0,d=-2,p=-1,f=1,g=4,m=2,v=8,y=9,_=286,b=30,x=19,w=2*_+1,C=15,k=3,O=258,M=O+k+1,L=42,S=113,P=1,T=2,I=3,A=4;function z(t,e){return t.msg=l[e],e}function D(t){return(t<<1)-(t>4?9:0)}function E(t){for(var e=t.length;--e>=0;)t[e]=0}function R(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(o.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function N(t,e){r._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,R(t.strm)}function B(t,e){t.pending_buf[t.pending++]=e}function F(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function j(t,e){var n,i,o=t.max_chain_length,r=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-M?t.strstart-(t.w_size-M):0,u=t.window,h=t.w_mask,c=t.prev,d=t.strstart+O,p=u[r+a-1],f=u[r+a];t.prev_length>=t.good_match&&(o>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(n=e)+a]===f&&u[n+a-1]===p&&u[n]===u[r]&&u[++n]===u[r+1]){r+=2,n++;do{}while(u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&r<d);if(i=O-(d-r),r=d-O,i>a){if(t.match_start=e,a=i,i>=s)break;p=u[r+a-1],f=u[r+a]}}}while((e=c[e&h])>l&&0!=--o);return a<=t.lookahead?a:t.lookahead}function U(t){var e,n,i,r,l,u,h,c,d,p,f=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-M)){o.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=f?i-f:0}while(--n);e=n=f;do{i=t.prev[--e],t.prev[e]=i>=f?i-f:0}while(--n);r+=f}if(0===t.strm.avail_in)break;if(h=t.window,c=t.strstart+t.lookahead,p=void 0,(p=(u=t.strm).avail_in)>(d=r)&&(p=d),n=0===p?0:(u.avail_in-=p,o.arraySet(h,u.input,u.next_in,p,c),1===u.state.wrap?u.adler=a(u.adler,h,p,c):2===u.state.wrap&&(u.adler=s(u.adler,h,p,c)),u.next_in+=p,u.total_in+=p,p),t.lookahead+=n,t.lookahead+t.insert>=k)for(t.ins_h=t.window[l=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+k-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<k)););}while(t.lookahead<M&&0!==t.strm.avail_in)}function V(t,e){for(var n,i;;){if(t.lookahead<M){if(U(t),t.lookahead<M&&e===u)return P;if(0===t.lookahead)break}if(n=0,t.lookahead>=k&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+k-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-M&&(t.match_length=j(t,n)),t.match_length>=k)if(i=r._tr_tally(t,t.strstart-t.match_start,t.match_length-k),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=k){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+k-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(N(t,!1),0===t.strm.avail_out))return P}return t.insert=t.strstart<k-1?t.strstart:k-1,e===h?(N(t,!0),0===t.strm.avail_out?I:A):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?P:T}function G(t,e){for(var n,i,o;;){if(t.lookahead<M){if(U(t),t.lookahead<M&&e===u)return P;if(0===t.lookahead)break}if(n=0,t.lookahead>=k&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+k-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=k-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-M&&(t.match_length=j(t,n),t.match_length<=5&&(t.strategy===f||t.match_length===k&&t.strstart-t.match_start>4096)&&(t.match_length=k-1)),t.prev_length>=k&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-k,i=r._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-k),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+k-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=k-1,t.strstart++,i&&(N(t,!1),0===t.strm.avail_out))return P}else if(t.match_available){if((i=r._tr_tally(t,0,t.window[t.strstart-1]))&&N(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return P}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=r._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<k-1?t.strstart:k-1,e===h?(N(t,!0),0===t.strm.avail_out?I:A):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?P:T}function H(t,e,n,i,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=o}function Z(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*w),this.dyn_dtree=new o.Buf16(2*(2*b+1)),this.bl_tree=new o.Buf16(2*(2*x+1)),E(this.dyn_ltree),E(this.dyn_dtree),E(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(C+1),this.heap=new o.Buf16(2*_+1),E(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*_+1),E(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=m,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?L:S,t.adler=2===e.wrap?0:1,e.last_flush=u,r._tr_init(e),c):z(t,d)}function Y(t){var e,n=W(t);return n===c&&((e=t.state).window_size=2*e.w_size,E(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=k-1,e.match_available=0,e.ins_h=0),n}function X(t,e,n,i,r,a){if(!t)return d;var s=1;if(e===p&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),r<1||r>y||n!==v||i<8||i>15||e<0||e>9||a<0||a>g)return z(t,d);8===i&&(i=9);var l=new Z;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+k-1)/k),l.window=new o.Buf8(2*l.w_size),l.head=new o.Buf16(l.hash_size),l.prev=new o.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new o.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=n,Y(t)}i=[new H(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(U(t),0===t.lookahead&&e===u)return P;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,N(t,!1),0===t.strm.avail_out))return P;if(t.strstart-t.block_start>=t.w_size-M&&(N(t,!1),0===t.strm.avail_out))return P}return t.insert=0,e===h?(N(t,!0),0===t.strm.avail_out?I:A):(t.strstart>t.block_start&&N(t,!1),P)}),new H(4,4,8,4,V),new H(4,5,16,8,V),new H(4,6,32,32,V),new H(4,4,16,16,G),new H(8,16,32,32,G),new H(8,16,128,128,G),new H(8,32,128,256,G),new H(32,128,258,1024,G),new H(32,258,258,4096,G)],e.deflateInit=function(t,e){return X(t,e,v,15,8,0)},e.deflateInit2=X,e.deflateReset=Y,e.deflateResetKeep=W,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?d:(t.state.gzhead=e,c):d},e.deflate=function(t,e){var n,o,a,l;if(!t||!t.state||e>5||e<0)return t?z(t,d):d;if(o=t.state,!t.output||!t.input&&0!==t.avail_in||666===o.status&&e!==h)return z(t,0===t.avail_out?-5:d);if(o.strm=t,n=o.last_flush,o.last_flush=e,o.status===L)if(2===o.wrap)t.adler=0,B(o,31),B(o,139),B(o,8),o.gzhead?(B(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),B(o,255&o.gzhead.time),B(o,o.gzhead.time>>8&255),B(o,o.gzhead.time>>16&255),B(o,o.gzhead.time>>24&255),B(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),B(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(B(o,255&o.gzhead.extra.length),B(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=s(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(B(o,0),B(o,0),B(o,0),B(o,0),B(o,0),B(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),B(o,3),o.status=S);else{var p=v+(o.w_bits-8<<4)<<8;p|=(o.strategy>=2||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(p|=32),p+=31-p%31,o.status=S,F(o,p),0!==o.strstart&&(F(o,t.adler>>>16),F(o,65535&t.adler)),t.adler=1}if(69===o.status)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),R(t),a=o.pending,o.pending!==o.pending_buf_size));)B(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),R(t),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,B(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),R(t),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,B(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&R(t),o.pending+2<=o.pending_buf_size&&(B(o,255&t.adler),B(o,t.adler>>8&255),t.adler=0,o.status=S)):o.status=S),0!==o.pending){if(R(t),0===t.avail_out)return o.last_flush=-1,c}else if(0===t.avail_in&&D(e)<=D(n)&&e!==h)return z(t,-5);if(666===o.status&&0!==t.avail_in)return z(t,-5);if(0!==t.avail_in||0!==o.lookahead||e!==u&&666!==o.status){var f=2===o.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(U(t),0===t.lookahead)){if(e===u)return P;break}if(t.match_length=0,n=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(N(t,!1),0===t.strm.avail_out))return P}return t.insert=0,e===h?(N(t,!0),0===t.strm.avail_out?I:A):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?P:T}(o,e):3===o.strategy?function(t,e){for(var n,i,o,a,s=t.window;;){if(t.lookahead<=O){if(U(t),t.lookahead<=O&&e===u)return P;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=k&&t.strstart>0&&(i=s[o=t.strstart-1])===s[++o]&&i===s[++o]&&i===s[++o]){a=t.strstart+O;do{}while(i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&o<a);t.match_length=O-(a-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=k?(n=r._tr_tally(t,1,t.match_length-k),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(N(t,!1),0===t.strm.avail_out))return P}return t.insert=0,e===h?(N(t,!0),0===t.strm.avail_out?I:A):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?P:T}(o,e):i[o.level].func(o,e);if(f!==I&&f!==A||(o.status=666),f===P||f===I)return 0===t.avail_out&&(o.last_flush=-1),c;if(f===T&&(1===e?r._tr_align(o):5!==e&&(r._tr_stored_block(o,0,0,!1),3===e&&(E(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),R(t),0===t.avail_out))return o.last_flush=-1,c}return e!==h?c:o.wrap<=0?1:(2===o.wrap?(B(o,255&t.adler),B(o,t.adler>>8&255),B(o,t.adler>>16&255),B(o,t.adler>>24&255),B(o,255&t.total_in),B(o,t.total_in>>8&255),B(o,t.total_in>>16&255),B(o,t.total_in>>24&255)):(F(o,t.adler>>>16),F(o,65535&t.adler)),R(t),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?c:1)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==L&&69!==e&&73!==e&&91!==e&&103!==e&&e!==S&&666!==e?z(t,d):(t.state=null,e===S?z(t,-3):c):d},e.deflateSetDictionary=function(t,e){var n,i,r,s,l,u,h,p,f=e.length;if(!t||!t.state)return d;if(2===(s=(n=t.state).wrap)||1===s&&n.status!==L||n.lookahead)return d;for(1===s&&(t.adler=a(t.adler,e,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(E(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new o.Buf8(n.w_size),o.arraySet(p,e,f-n.w_size,n.w_size,0),e=p,f=n.w_size),l=t.avail_in,u=t.next_in,h=t.input,t.avail_in=f,t.next_in=0,t.input=e,U(n);n.lookahead>=k;){i=n.strstart,r=n.lookahead-(k-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+k-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--r);n.strstart=i,n.lookahead=k-1,U(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=k-1,n.match_available=0,t.next_in=u,t.input=h,t.avail_in=l,n.wrap=s,c},e.deflateInfo=\"pako deflate (from Nodeca project)\"},pM5F:function(t,e,n){\"use strict\";var i=n(\"9aYe\"),o=n(\"2Lu3\");function r(t){o.call(this,\"DataWorker\");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}i.inherits(r,o),r.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":t=this.data.substring(this.index,e);break;case\"uint8array\":t=this.data.subarray(this.index,e);break;case\"array\":case\"nodebuffer\":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=r},sCty:function(t,e,n){\"use strict\";var i=n(\"2Lu3\"),o=n(\"9aYe\");function r(t){i.call(this,\"ConvertWorker to \"+t),this.destType=t}o.inherits(r,i),r.prototype.processChunk=function(t){this.push({data:o.transformTo(this.destType,t.data),meta:t.meta})},t.exports=r},tkqm:function(t,e,n){\"use strict\";var i=n(\"MdMo\"),o=n(\"9aYe\"),r=n(\"2Lu3\"),a=n(\"bWsk\"),s=n(\"itLX\"),l=n(\"VJTW\"),u=n(\"iFxG\"),h=n(\"/8qo\"),c=n(\"RfpG\"),d=n(\"Zm6R\"),p=function(t,e,n){var i,a,h=o.getTypeOf(e),p=o.extend(n||{},s);p.date=p.date||new Date,null!==p.compression&&(p.compression=p.compression.toUpperCase()),\"string\"==typeof p.unixPermissions&&(p.unixPermissions=parseInt(p.unixPermissions,8)),p.unixPermissions&&16384&p.unixPermissions&&(p.dir=!0),p.dosPermissions&&16&p.dosPermissions&&(p.dir=!0),p.dir&&(t=g(t)),p.createFolders&&(i=f(t))&&m.call(this,i,!0),n&&void 0!==n.binary||(p.binary=!(\"string\"===h&&!1===p.binary&&!1===p.base64)),(e instanceof l&&0===e.uncompressedSize||p.dir||!e||0===e.length)&&(p.base64=!1,p.binary=!0,e=\"\",p.compression=\"STORE\",h=\"string\"),a=e instanceof l||e instanceof r?e:c.isNode&&c.isStream(e)?new d(t,e):o.prepareContent(t,e,p.binary,p.optimizedBinaryString,p.base64);var v=new u(t,a,p);this.files[t]=v},f=function(t){\"/\"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf(\"/\");return e>0?t.substring(0,e):\"\"},g=function(t){return\"/\"!==t.slice(-1)&&(t+=\"/\"),t},m=function(t,e){return e=void 0!==e?e:s.createFolders,t=g(t),this.files[t]||p.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function v(t){return\"[object RegExp]\"===Object.prototype.toString.call(t)}t.exports={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(t){var e,n,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i))},filter:function(t){var e=[];return this.forEach(function(n,i){t(n,i)&&e.push(i)}),e},file:function(t,e,n){if(1===arguments.length){if(v(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}var o=this.files[this.root+t];return o&&!o.dir?o:null}return p.call(this,t=this.root+t,e,n),this},folder:function(t){if(!t)return this;if(v(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=m.call(this,this.root+t),n=this.clone();return n.root=e.name,n},remove:function(t){var e=this.files[t=this.root+t];if(e||(\"/\"!==t.slice(-1)&&(t+=\"/\"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(t){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(t){var e,n={};try{if((n=o.extend(t||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),\"binarystring\"===n.type&&(n.type=\"string\"),!n.type)throw new Error(\"No output type specified.\");o.checkSupport(n.type),\"darwin\"!==n.platform&&\"freebsd\"!==n.platform&&\"linux\"!==n.platform&&\"sunos\"!==n.platform||(n.platform=\"UNIX\"),\"win32\"===n.platform&&(n.platform=\"DOS\"),e=h.generateWorker(this,n,n.comment||this.comment||\"\")}catch(s){(e=new r(\"error\")).error(s)}return new a(e,n.type||\"string\",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type=\"nodebuffer\"),this.generateInternalStream(t).toNodejsStream(e)}}},uH21:function(t,e,n){t.exports=n(\"DD3b\")},vI6n:function(t,e,n){\"use strict\";var i=n(\"9aYe\"),o=n(\"J5BL\"),r=n(\"MdMo\"),a=(i=n(\"9aYe\"),n(\"TCJ/\")),s=n(\"4MRP\"),l=n(\"RfpG\");function u(t){return new o.Promise(function(e,n){var i=t.decompressed.getContentWorker().pipe(new s);i.on(\"error\",function(t){n(t)}).on(\"end\",function(){i.streamInfo.crc32!==t.decompressed.crc32?n(new Error(\"Corrupted zip : CRC32 mismatch\")):e()}).resume()})}t.exports=function(t,e){var n=this;return e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),l.isNode&&l.isStream(t)?o.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):i.prepareContent(\"the loaded zip file\",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var n=new a(e);return n.load(t),n}).then(function(t){var n=[o.Promise.resolve(t)],i=t.files;if(e.checkCRC32)for(var r=0;r<i.length;r++)n.push(u(i[r]));return o.Promise.all(n)}).then(function(t){for(var i=t.shift(),o=i.files,r=0;r<o.length;r++){var a=o[r];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:e.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})}},\"vn/o\":function(t,e,n){\"use strict\";var i=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if(\"object\"!=typeof n)throw new TypeError(n+\"must be non-object\");for(var i in n)o(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,n,i,o){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),o);else for(var r=0;r<i;r++)t[o+r]=e[n+r]},flattenChunks:function(t){var e,n,i,o,r,a;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(a=new Uint8Array(i),o=0,e=0,n=t.length;e<n;e++)a.set(r=t[e],o),o+=r.length;return a}},a={arraySet:function(t,e,n,i,o){for(var r=0;r<i;r++)t[o+r]=e[n+r]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(i)},yDR0:function(t,e,n){\"use strict\";t.exports=function(t,e,n,i){for(var o=65535&t|0,r=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{r=r+(o=o+e[i++]|0)|0}while(--a);o%=65521,r%=65521}return o|r<<16|0}}}]);","extractedComments":[]}